!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=112)}([function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"EPSILON",function(){return d}),n.d(r,"ARRAY_TYPE",function(){return h}),n.d(r,"RANDOM",function(){return y}),n.d(r,"setMatrixArrayType",function(){return m}),n.d(r,"toRadian",function(){return _}),n.d(r,"equals",function(){return g});var o={};n.r(o),n.d(o,"create",function(){return E}),n.d(o,"clone",function(){return b}),n.d(o,"copy",function(){return T}),n.d(o,"identity",function(){return A}),n.d(o,"fromValues",function(){return S}),n.d(o,"set",function(){return R}),n.d(o,"transpose",function(){return x}),n.d(o,"invert",function(){return M}),n.d(o,"adjoint",function(){return N}),n.d(o,"determinant",function(){return w}),n.d(o,"multiply",function(){return I}),n.d(o,"rotate",function(){return C}),n.d(o,"scale",function(){return O}),n.d(o,"fromRotation",function(){return F}),n.d(o,"fromScaling",function(){return P}),n.d(o,"str",function(){return L}),n.d(o,"frob",function(){return k}),n.d(o,"LDU",function(){return U}),n.d(o,"add",function(){return B}),n.d(o,"subtract",function(){return j}),n.d(o,"exactEquals",function(){return D}),n.d(o,"equals",function(){return V}),n.d(o,"multiplyScalar",function(){return G}),n.d(o,"multiplyScalarAndAdd",function(){return H}),n.d(o,"mul",function(){return q}),n.d(o,"sub",function(){return z});var i={};n.r(i),n.d(i,"create",function(){return X}),n.d(i,"clone",function(){return W}),n.d(i,"copy",function(){return K}),n.d(i,"identity",function(){return $}),n.d(i,"fromValues",function(){return Y}),n.d(i,"set",function(){return Q}),n.d(i,"invert",function(){return J}),n.d(i,"determinant",function(){return Z}),n.d(i,"multiply",function(){return tt}),n.d(i,"rotate",function(){return et}),n.d(i,"scale",function(){return nt}),n.d(i,"translate",function(){return rt}),n.d(i,"fromRotation",function(){return ot}),n.d(i,"fromScaling",function(){return it}),n.d(i,"fromTranslation",function(){return ut}),n.d(i,"str",function(){return at}),n.d(i,"frob",function(){return st}),n.d(i,"add",function(){return ct}),n.d(i,"subtract",function(){return lt}),n.d(i,"multiplyScalar",function(){return ft}),n.d(i,"multiplyScalarAndAdd",function(){return pt}),n.d(i,"exactEquals",function(){return dt}),n.d(i,"equals",function(){return ht}),n.d(i,"mul",function(){return yt}),n.d(i,"sub",function(){return mt});var u={};n.r(u),n.d(u,"create",function(){return vt}),n.d(u,"fromMat4",function(){return _t}),n.d(u,"clone",function(){return gt}),n.d(u,"copy",function(){return Et}),n.d(u,"fromValues",function(){return bt}),n.d(u,"set",function(){return Tt}),n.d(u,"identity",function(){return At}),n.d(u,"transpose",function(){return St}),n.d(u,"invert",function(){return Rt}),n.d(u,"adjoint",function(){return xt}),n.d(u,"determinant",function(){return Mt}),n.d(u,"multiply",function(){return Nt}),n.d(u,"translate",function(){return wt}),n.d(u,"rotate",function(){return It}),n.d(u,"scale",function(){return Ct}),n.d(u,"fromTranslation",function(){return Ot}),n.d(u,"fromRotation",function(){return Ft}),n.d(u,"fromScaling",function(){return Pt}),n.d(u,"fromMat2d",function(){return Lt}),n.d(u,"fromQuat",function(){return kt}),n.d(u,"normalFromMat4",function(){return Ut}),n.d(u,"projection",function(){return Bt}),n.d(u,"str",function(){return jt}),n.d(u,"frob",function(){return Dt}),n.d(u,"add",function(){return Vt}),n.d(u,"subtract",function(){return Gt}),n.d(u,"multiplyScalar",function(){return Ht}),n.d(u,"multiplyScalarAndAdd",function(){return qt}),n.d(u,"exactEquals",function(){return zt}),n.d(u,"equals",function(){return Xt}),n.d(u,"mul",function(){return Wt}),n.d(u,"sub",function(){return Kt});var a={};n.r(a),n.d(a,"create",function(){return $t}),n.d(a,"clone",function(){return Yt}),n.d(a,"copy",function(){return Qt}),n.d(a,"fromValues",function(){return Jt}),n.d(a,"set",function(){return Zt}),n.d(a,"identity",function(){return te}),n.d(a,"transpose",function(){return ee}),n.d(a,"invert",function(){return ne}),n.d(a,"adjoint",function(){return re}),n.d(a,"determinant",function(){return oe}),n.d(a,"multiply",function(){return ie}),n.d(a,"translate",function(){return ue}),n.d(a,"scale",function(){return ae}),n.d(a,"rotate",function(){return se}),n.d(a,"rotateX",function(){return ce}),n.d(a,"rotateY",function(){return le}),n.d(a,"rotateZ",function(){return fe}),n.d(a,"fromTranslation",function(){return pe}),n.d(a,"fromScaling",function(){return de}),n.d(a,"fromRotation",function(){return he}),n.d(a,"fromXRotation",function(){return ye}),n.d(a,"fromYRotation",function(){return me}),n.d(a,"fromZRotation",function(){return ve}),n.d(a,"fromRotationTranslation",function(){return _e}),n.d(a,"fromQuat2",function(){return ge}),n.d(a,"getTranslation",function(){return Ee}),n.d(a,"getScaling",function(){return be}),n.d(a,"getRotation",function(){return Te}),n.d(a,"fromRotationTranslationScale",function(){return Ae}),n.d(a,"fromRotationTranslationScaleOrigin",function(){return Se}),n.d(a,"fromQuat",function(){return Re}),n.d(a,"frustum",function(){return xe}),n.d(a,"perspective",function(){return Me}),n.d(a,"perspectiveFromFieldOfView",function(){return Ne}),n.d(a,"ortho",function(){return we}),n.d(a,"lookAt",function(){return Ie}),n.d(a,"targetTo",function(){return Ce}),n.d(a,"str",function(){return Oe}),n.d(a,"frob",function(){return Fe}),n.d(a,"add",function(){return Pe}),n.d(a,"subtract",function(){return Le}),n.d(a,"multiplyScalar",function(){return ke}),n.d(a,"multiplyScalarAndAdd",function(){return Ue}),n.d(a,"exactEquals",function(){return Be}),n.d(a,"equals",function(){return je}),n.d(a,"mul",function(){return De}),n.d(a,"sub",function(){return Ve});var s={};n.r(s),n.d(s,"create",function(){return Ge}),n.d(s,"clone",function(){return He}),n.d(s,"length",function(){return qe}),n.d(s,"fromValues",function(){return ze}),n.d(s,"copy",function(){return Xe}),n.d(s,"set",function(){return We}),n.d(s,"add",function(){return Ke}),n.d(s,"subtract",function(){return $e}),n.d(s,"multiply",function(){return Ye}),n.d(s,"divide",function(){return Qe}),n.d(s,"ceil",function(){return Je}),n.d(s,"floor",function(){return Ze}),n.d(s,"min",function(){return tn}),n.d(s,"max",function(){return en}),n.d(s,"round",function(){return nn}),n.d(s,"scale",function(){return rn}),n.d(s,"scaleAndAdd",function(){return on}),n.d(s,"distance",function(){return un}),n.d(s,"squaredDistance",function(){return an}),n.d(s,"squaredLength",function(){return sn}),n.d(s,"negate",function(){return cn}),n.d(s,"inverse",function(){return ln}),n.d(s,"normalize",function(){return fn}),n.d(s,"dot",function(){return pn}),n.d(s,"cross",function(){return dn}),n.d(s,"lerp",function(){return hn}),n.d(s,"hermite",function(){return yn}),n.d(s,"bezier",function(){return mn}),n.d(s,"random",function(){return vn}),n.d(s,"transformMat4",function(){return _n}),n.d(s,"transformMat3",function(){return gn}),n.d(s,"transformQuat",function(){return En}),n.d(s,"rotateX",function(){return bn}),n.d(s,"rotateY",function(){return Tn}),n.d(s,"rotateZ",function(){return An}),n.d(s,"angle",function(){return Sn}),n.d(s,"str",function(){return Rn}),n.d(s,"exactEquals",function(){return xn}),n.d(s,"equals",function(){return Mn}),n.d(s,"sub",function(){return Nn}),n.d(s,"mul",function(){return wn}),n.d(s,"div",function(){return In}),n.d(s,"dist",function(){return Cn}),n.d(s,"sqrDist",function(){return On}),n.d(s,"len",function(){return Fn}),n.d(s,"sqrLen",function(){return Pn}),n.d(s,"forEach",function(){return Ln});var c={};n.r(c),n.d(c,"create",function(){return kn}),n.d(c,"clone",function(){return Un}),n.d(c,"fromValues",function(){return Bn}),n.d(c,"copy",function(){return jn}),n.d(c,"set",function(){return Dn}),n.d(c,"add",function(){return Vn}),n.d(c,"subtract",function(){return Gn}),n.d(c,"multiply",function(){return Hn}),n.d(c,"divide",function(){return qn}),n.d(c,"ceil",function(){return zn}),n.d(c,"floor",function(){return Xn}),n.d(c,"min",function(){return Wn}),n.d(c,"max",function(){return Kn}),n.d(c,"round",function(){return $n}),n.d(c,"scale",function(){return Yn}),n.d(c,"scaleAndAdd",function(){return Qn}),n.d(c,"distance",function(){return Jn}),n.d(c,"squaredDistance",function(){return Zn}),n.d(c,"length",function(){return tr}),n.d(c,"squaredLength",function(){return er}),n.d(c,"negate",function(){return nr}),n.d(c,"inverse",function(){return rr}),n.d(c,"normalize",function(){return or}),n.d(c,"dot",function(){return ir}),n.d(c,"lerp",function(){return ur}),n.d(c,"random",function(){return ar}),n.d(c,"transformMat4",function(){return sr}),n.d(c,"transformQuat",function(){return cr}),n.d(c,"str",function(){return lr}),n.d(c,"exactEquals",function(){return fr}),n.d(c,"equals",function(){return pr}),n.d(c,"sub",function(){return dr}),n.d(c,"mul",function(){return hr}),n.d(c,"div",function(){return yr}),n.d(c,"dist",function(){return mr}),n.d(c,"sqrDist",function(){return vr}),n.d(c,"len",function(){return _r}),n.d(c,"sqrLen",function(){return gr}),n.d(c,"forEach",function(){return Er});var l={};n.r(l),n.d(l,"create",function(){return br}),n.d(l,"identity",function(){return Tr}),n.d(l,"setAxisAngle",function(){return Ar}),n.d(l,"getAxisAngle",function(){return Sr}),n.d(l,"multiply",function(){return Rr}),n.d(l,"rotateX",function(){return xr}),n.d(l,"rotateY",function(){return Mr}),n.d(l,"rotateZ",function(){return Nr}),n.d(l,"calculateW",function(){return wr}),n.d(l,"slerp",function(){return Ir}),n.d(l,"invert",function(){return Cr}),n.d(l,"conjugate",function(){return Or}),n.d(l,"fromMat3",function(){return Fr}),n.d(l,"fromEuler",function(){return Pr}),n.d(l,"str",function(){return Lr}),n.d(l,"clone",function(){return kr}),n.d(l,"fromValues",function(){return Ur}),n.d(l,"copy",function(){return Br}),n.d(l,"set",function(){return jr}),n.d(l,"add",function(){return Dr}),n.d(l,"mul",function(){return Vr}),n.d(l,"scale",function(){return Gr}),n.d(l,"dot",function(){return Hr}),n.d(l,"lerp",function(){return qr}),n.d(l,"length",function(){return zr}),n.d(l,"len",function(){return Xr}),n.d(l,"squaredLength",function(){return Wr}),n.d(l,"sqrLen",function(){return Kr}),n.d(l,"normalize",function(){return $r}),n.d(l,"exactEquals",function(){return Yr}),n.d(l,"equals",function(){return Qr}),n.d(l,"rotationTo",function(){return Jr}),n.d(l,"sqlerp",function(){return Zr}),n.d(l,"setAxes",function(){return to});var f={};n.r(f),n.d(f,"create",function(){return eo}),n.d(f,"clone",function(){return no}),n.d(f,"fromValues",function(){return ro}),n.d(f,"fromRotationTranslationValues",function(){return oo}),n.d(f,"fromRotationTranslation",function(){return io}),n.d(f,"fromTranslation",function(){return uo}),n.d(f,"fromRotation",function(){return ao}),n.d(f,"fromMat4",function(){return so}),n.d(f,"copy",function(){return co}),n.d(f,"identity",function(){return lo}),n.d(f,"set",function(){return fo}),n.d(f,"getReal",function(){return po}),n.d(f,"getDual",function(){return ho}),n.d(f,"setReal",function(){return yo}),n.d(f,"setDual",function(){return mo}),n.d(f,"getTranslation",function(){return vo}),n.d(f,"translate",function(){return _o}),n.d(f,"rotateX",function(){return go}),n.d(f,"rotateY",function(){return Eo}),n.d(f,"rotateZ",function(){return bo}),n.d(f,"rotateByQuatAppend",function(){return To}),n.d(f,"rotateByQuatPrepend",function(){return Ao}),n.d(f,"rotateAroundAxis",function(){return So}),n.d(f,"add",function(){return Ro}),n.d(f,"multiply",function(){return xo}),n.d(f,"mul",function(){return Mo}),n.d(f,"scale",function(){return No}),n.d(f,"dot",function(){return wo}),n.d(f,"lerp",function(){return Io}),n.d(f,"invert",function(){return Co}),n.d(f,"conjugate",function(){return Oo}),n.d(f,"length",function(){return Fo}),n.d(f,"len",function(){return Po}),n.d(f,"squaredLength",function(){return Lo}),n.d(f,"sqrLen",function(){return ko}),n.d(f,"normalize",function(){return Uo}),n.d(f,"str",function(){return Bo}),n.d(f,"exactEquals",function(){return jo}),n.d(f,"equals",function(){return Do});var p={};n.r(p),n.d(p,"create",function(){return Vo}),n.d(p,"clone",function(){return Go}),n.d(p,"fromValues",function(){return Ho}),n.d(p,"copy",function(){return qo}),n.d(p,"set",function(){return zo}),n.d(p,"add",function(){return Xo}),n.d(p,"subtract",function(){return Wo}),n.d(p,"multiply",function(){return Ko}),n.d(p,"divide",function(){return $o}),n.d(p,"ceil",function(){return Yo}),n.d(p,"floor",function(){return Qo}),n.d(p,"min",function(){return Jo}),n.d(p,"max",function(){return Zo}),n.d(p,"round",function(){return ti}),n.d(p,"scale",function(){return ei}),n.d(p,"scaleAndAdd",function(){return ni}),n.d(p,"distance",function(){return ri}),n.d(p,"squaredDistance",function(){return oi}),n.d(p,"length",function(){return ii}),n.d(p,"squaredLength",function(){return ui}),n.d(p,"negate",function(){return ai}),n.d(p,"inverse",function(){return si}),n.d(p,"normalize",function(){return ci}),n.d(p,"dot",function(){return li}),n.d(p,"cross",function(){return fi}),n.d(p,"lerp",function(){return pi}),n.d(p,"random",function(){return di}),n.d(p,"transformMat2",function(){return hi}),n.d(p,"transformMat2d",function(){return yi}),n.d(p,"transformMat3",function(){return mi}),n.d(p,"transformMat4",function(){return vi}),n.d(p,"rotate",function(){return _i}),n.d(p,"angle",function(){return gi}),n.d(p,"str",function(){return Ei}),n.d(p,"exactEquals",function(){return bi}),n.d(p,"equals",function(){return Ti}),n.d(p,"len",function(){return Ai}),n.d(p,"sub",function(){return Si}),n.d(p,"mul",function(){return Ri}),n.d(p,"div",function(){return xi}),n.d(p,"dist",function(){return Mi}),n.d(p,"sqrDist",function(){return Ni}),n.d(p,"sqrLen",function(){return wi}),n.d(p,"forEach",function(){return Ii});const d=1e-6;let h="undefined"!=typeof Float32Array?Float32Array:Array;const y=Math.random;function m(t){h=t}const v=Math.PI/180;function _(t){return t*v}function g(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}function E(){let t=new h(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function b(t){let e=new h(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function T(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function A(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function S(t,e,n,r){let o=new h(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function R(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function x(t,e){if(t===e){let n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function M(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=n*i-o*r;return u?(u=1/u,t[0]=i*u,t[1]=-r*u,t[2]=-o*u,t[3]=n*u,t):null}function N(t,e){let n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function w(t){return t[0]*t[3]-t[2]*t[1]}function I(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*a+i*s,t[1]=o*a+u*s,t[2]=r*c+i*l,t[3]=o*c+u*l,t}function C(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*a,t[1]=o*s+u*a,t[2]=r*-a+i*s,t[3]=o*-a+u*s,t}function O(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=n[0],s=n[1];return t[0]=r*a,t[1]=o*a,t[2]=i*s,t[3]=u*s,t}function F(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function P(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function L(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function k(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function U(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function B(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function j(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function D(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function V(t,e){let n=t[0],r=t[1],o=t[2],i=t[3],u=e[0],a=e[1],s=e[2],c=e[3];return Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-s)<=d*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=d*Math.max(1,Math.abs(i),Math.abs(c))}function G(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function H(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}const q=I,z=j;function X(){let t=new h(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function W(t){let e=new h(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function K(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function $(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Y(t,e,n,r,o,i){let u=new h(6);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=o,u[5]=i,u}function Q(t,e,n,r,o,i,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=u,t}function J(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=e[4],a=e[5],s=n*i-r*o;return s?(s=1/s,t[0]=i*s,t[1]=-r*s,t[2]=-o*s,t[3]=n*s,t[4]=(o*a-i*u)*s,t[5]=(r*u-n*a)*s,t):null}function Z(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=n[0],l=n[1],f=n[2],p=n[3],d=n[4],h=n[5];return t[0]=r*c+i*l,t[1]=o*c+u*l,t[2]=r*f+i*p,t[3]=o*f+u*p,t[4]=r*d+i*h+a,t[5]=o*d+u*h+s,t}function et(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*c,t[1]=o*l+u*c,t[2]=r*-c+i*l,t[3]=o*-c+u*l,t[4]=a,t[5]=s,t}function nt(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=o*c,t[2]=i*l,t[3]=u*l,t[4]=a,t[5]=s,t}function rt(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=u,t[4]=r*c+i*l+a,t[5]=o*c+u*l+s,t}function ot(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function it(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ut(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function at(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function st(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function lt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function ft(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function pt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function ht(t,e){let n=t[0],r=t[1],o=t[2],i=t[3],u=t[4],a=t[5],s=e[0],c=e[1],l=e[2],f=e[3],p=e[4],h=e[5];return Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-c)<=d*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-l)<=d*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(u-p)<=d*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(a-h)<=d*Math.max(1,Math.abs(a),Math.abs(h))}const yt=tt,mt=lt;function vt(){let t=new h(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function gt(t){let e=new h(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Et(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function bt(t,e,n,r,o,i,u,a,s){let c=new h(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=o,c[5]=i,c[6]=u,c[7]=a,c[8]=s,c}function Tt(t,e,n,r,o,i,u,a,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=u,t[6]=a,t[7]=s,t[8]=c,t}function At(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function St(t,e){if(t===e){let n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Rt(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8],f=l*u-a*c,p=-l*i+a*s,d=c*i-u*s,h=n*f+r*p+o*d;return h?(h=1/h,t[0]=f*h,t[1]=(-l*r+o*c)*h,t[2]=(a*r-o*u)*h,t[3]=p*h,t[4]=(l*n-o*s)*h,t[5]=(-a*n+o*i)*h,t[6]=d*h,t[7]=(-c*n+r*s)*h,t[8]=(u*n-r*i)*h,t):null}function xt(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t[0]=u*l-a*c,t[1]=o*c-r*l,t[2]=r*a-o*u,t[3]=a*s-i*l,t[4]=n*l-o*s,t[5]=o*i-n*a,t[6]=i*c-u*s,t[7]=r*s-n*c,t[8]=n*u-r*i,t}function Mt(t){let e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],u=t[5],a=t[6],s=t[7],c=t[8];return e*(c*i-u*s)+n*(-c*o+u*a)+r*(s*o-i*a)}function Nt(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],p=n[0],d=n[1],h=n[2],y=n[3],m=n[4],v=n[5],_=n[6],g=n[7],E=n[8];return t[0]=p*r+d*u+h*c,t[1]=p*o+d*a+h*l,t[2]=p*i+d*s+h*f,t[3]=y*r+m*u+v*c,t[4]=y*o+m*a+v*l,t[5]=y*i+m*s+v*f,t[6]=_*r+g*u+E*c,t[7]=_*o+g*a+E*l,t[8]=_*i+g*s+E*f,t}function wt(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],p=n[0],d=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=u,t[4]=a,t[5]=s,t[6]=p*r+d*u+c,t[7]=p*o+d*a+l,t[8]=p*i+d*s+f,t}function It(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],p=Math.sin(n),d=Math.cos(n);return t[0]=d*r+p*u,t[1]=d*o+p*a,t[2]=d*i+p*s,t[3]=d*u-p*r,t[4]=d*a-p*o,t[5]=d*s-p*i,t[6]=c,t[7]=l,t[8]=f,t}function Ct(t,e,n){let r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Ft(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Pt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Lt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function kt(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=n+n,a=r+r,s=o+o,c=n*u,l=r*u,f=r*a,p=o*u,d=o*a,h=o*s,y=i*u,m=i*a,v=i*s;return t[0]=1-f-h,t[3]=l-v,t[6]=p+m,t[1]=l+v,t[4]=1-c-h,t[7]=d-y,t[2]=p-m,t[5]=d+y,t[8]=1-c-f,t}function Ut(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8],f=e[9],p=e[10],d=e[11],h=e[12],y=e[13],m=e[14],v=e[15],_=n*a-r*u,g=n*s-o*u,E=n*c-i*u,b=r*s-o*a,T=r*c-i*a,A=o*c-i*s,S=l*y-f*h,R=l*m-p*h,x=l*v-d*h,M=f*m-p*y,N=f*v-d*y,w=p*v-d*m,I=_*w-g*N+E*M+b*x-T*R+A*S;return I?(I=1/I,t[0]=(a*w-s*N+c*M)*I,t[1]=(s*x-u*w-c*R)*I,t[2]=(u*N-a*x+c*S)*I,t[3]=(o*N-r*w-i*M)*I,t[4]=(n*w-o*x+i*R)*I,t[5]=(r*x-n*N-i*S)*I,t[6]=(y*A-m*T+v*b)*I,t[7]=(m*E-h*A-v*g)*I,t[8]=(h*T-y*E+v*_)*I,t):null}function Bt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function jt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Dt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function Vt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Gt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Ht(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function qt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function zt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Xt(t,e){let n=t[0],r=t[1],o=t[2],i=t[3],u=t[4],a=t[5],s=t[6],c=t[7],l=t[8],f=e[0],p=e[1],h=e[2],y=e[3],m=e[4],v=e[5],_=e[6],g=e[7],E=e[8];return Math.abs(n-f)<=d*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-p)<=d*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-h)<=d*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-y)<=d*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(u-m)<=d*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(a-v)<=d*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-_)<=d*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(c-g)<=d*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(l-E)<=d*Math.max(1,Math.abs(l),Math.abs(E))}const Wt=Nt,Kt=Gt;function $t(){let t=new h(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Yt(t){let e=new h(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jt(t,e,n,r,o,i,u,a,s,c,l,f,p,d,y,m){let v=new h(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=r,v[4]=o,v[5]=i,v[6]=u,v[7]=a,v[8]=s,v[9]=c,v[10]=l,v[11]=f,v[12]=p,v[13]=d,v[14]=y,v[15]=m,v}function Zt(t,e,n,r,o,i,u,a,s,c,l,f,p,d,h,y,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=u,t[6]=a,t[7]=s,t[8]=c,t[9]=l,t[10]=f,t[11]=p,t[12]=d,t[13]=h,t[14]=y,t[15]=m,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){let n=e[1],r=e[2],o=e[3],i=e[6],u=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=u,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ne(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8],f=e[9],p=e[10],d=e[11],h=e[12],y=e[13],m=e[14],v=e[15],_=n*a-r*u,g=n*s-o*u,E=n*c-i*u,b=r*s-o*a,T=r*c-i*a,A=o*c-i*s,S=l*y-f*h,R=l*m-p*h,x=l*v-d*h,M=f*m-p*y,N=f*v-d*y,w=p*v-d*m,I=_*w-g*N+E*M+b*x-T*R+A*S;return I?(I=1/I,t[0]=(a*w-s*N+c*M)*I,t[1]=(o*N-r*w-i*M)*I,t[2]=(y*A-m*T+v*b)*I,t[3]=(p*T-f*A-d*b)*I,t[4]=(s*x-u*w-c*R)*I,t[5]=(n*w-o*x+i*R)*I,t[6]=(m*E-h*A-v*g)*I,t[7]=(l*A-p*E+d*g)*I,t[8]=(u*N-a*x+c*S)*I,t[9]=(r*x-n*N-i*S)*I,t[10]=(h*T-y*E+v*_)*I,t[11]=(f*E-l*T-d*_)*I,t[12]=(a*R-u*M-s*S)*I,t[13]=(n*M-r*R+o*S)*I,t[14]=(y*g-h*b-m*_)*I,t[15]=(l*b-f*g+p*_)*I,t):null}function re(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8],f=e[9],p=e[10],d=e[11],h=e[12],y=e[13],m=e[14],v=e[15];return t[0]=a*(p*v-d*m)-f*(s*v-c*m)+y*(s*d-c*p),t[1]=-(r*(p*v-d*m)-f*(o*v-i*m)+y*(o*d-i*p)),t[2]=r*(s*v-c*m)-a*(o*v-i*m)+y*(o*c-i*s),t[3]=-(r*(s*d-c*p)-a*(o*d-i*p)+f*(o*c-i*s)),t[4]=-(u*(p*v-d*m)-l*(s*v-c*m)+h*(s*d-c*p)),t[5]=n*(p*v-d*m)-l*(o*v-i*m)+h*(o*d-i*p),t[6]=-(n*(s*v-c*m)-u*(o*v-i*m)+h*(o*c-i*s)),t[7]=n*(s*d-c*p)-u*(o*d-i*p)+l*(o*c-i*s),t[8]=u*(f*v-d*y)-l*(a*v-c*y)+h*(a*d-c*f),t[9]=-(n*(f*v-d*y)-l*(r*v-i*y)+h*(r*d-i*f)),t[10]=n*(a*v-c*y)-u*(r*v-i*y)+h*(r*c-i*a),t[11]=-(n*(a*d-c*f)-u*(r*d-i*f)+l*(r*c-i*a)),t[12]=-(u*(f*m-p*y)-l*(a*m-s*y)+h*(a*p-s*f)),t[13]=n*(f*m-p*y)-l*(r*m-o*y)+h*(r*p-o*f),t[14]=-(n*(a*m-s*y)-u*(r*m-o*y)+h*(r*s-o*a)),t[15]=n*(a*p-s*f)-u*(r*p-o*f)+l*(r*s-o*a),t}function oe(t){let e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],u=t[5],a=t[6],s=t[7],c=t[8],l=t[9],f=t[10],p=t[11],d=t[12],h=t[13],y=t[14],m=t[15];return(e*u-n*i)*(f*m-p*y)-(e*a-r*i)*(l*m-p*h)+(e*s-o*i)*(l*y-f*h)+(n*a-r*u)*(c*m-p*d)-(n*s-o*u)*(c*y-f*d)+(r*s-o*a)*(c*h-l*d)}function ie(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],p=e[9],d=e[10],h=e[11],y=e[12],m=e[13],v=e[14],_=e[15],g=n[0],E=n[1],b=n[2],T=n[3];return t[0]=g*r+E*a+b*f+T*y,t[1]=g*o+E*s+b*p+T*m,t[2]=g*i+E*c+b*d+T*v,t[3]=g*u+E*l+b*h+T*_,g=n[4],E=n[5],b=n[6],T=n[7],t[4]=g*r+E*a+b*f+T*y,t[5]=g*o+E*s+b*p+T*m,t[6]=g*i+E*c+b*d+T*v,t[7]=g*u+E*l+b*h+T*_,g=n[8],E=n[9],b=n[10],T=n[11],t[8]=g*r+E*a+b*f+T*y,t[9]=g*o+E*s+b*p+T*m,t[10]=g*i+E*c+b*d+T*v,t[11]=g*u+E*l+b*h+T*_,g=n[12],E=n[13],b=n[14],T=n[15],t[12]=g*r+E*a+b*f+T*y,t[13]=g*o+E*s+b*p+T*m,t[14]=g*i+E*c+b*d+T*v,t[15]=g*u+E*l+b*h+T*_,t}function ue(t,e,n){let r,o,i,u,a,s,c,l,f,p,d,h,y=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*y+e[4]*m+e[8]*v+e[12],t[13]=e[1]*y+e[5]*m+e[9]*v+e[13],t[14]=e[2]*y+e[6]*m+e[10]*v+e[14],t[15]=e[3]*y+e[7]*m+e[11]*v+e[15]):(r=e[0],o=e[1],i=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],p=e[9],d=e[10],h=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=u,t[4]=a,t[5]=s,t[6]=c,t[7]=l,t[8]=f,t[9]=p,t[10]=d,t[11]=h,t[12]=r*y+a*m+f*v+e[12],t[13]=o*y+s*m+p*v+e[13],t[14]=i*y+c*m+d*v+e[14],t[15]=u*y+l*m+h*v+e[15]),t}function ae(t,e,n){let r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function se(t,e,n,r){let o,i,u,a,s,c,l,f,p,h,y,m,v,_,g,E,b,T,A,S,R,x,M,N,w=r[0],I=r[1],C=r[2],O=Math.sqrt(w*w+I*I+C*C);return O<d?null:(w*=O=1/O,I*=O,C*=O,o=Math.sin(n),u=1-(i=Math.cos(n)),a=e[0],s=e[1],c=e[2],l=e[3],f=e[4],p=e[5],h=e[6],y=e[7],m=e[8],v=e[9],_=e[10],g=e[11],E=w*w*u+i,b=I*w*u+C*o,T=C*w*u-I*o,A=w*I*u-C*o,S=I*I*u+i,R=C*I*u+w*o,x=w*C*u+I*o,M=I*C*u-w*o,N=C*C*u+i,t[0]=a*E+f*b+m*T,t[1]=s*E+p*b+v*T,t[2]=c*E+h*b+_*T,t[3]=l*E+y*b+g*T,t[4]=a*A+f*S+m*R,t[5]=s*A+p*S+v*R,t[6]=c*A+h*S+_*R,t[7]=l*A+y*S+g*R,t[8]=a*x+f*M+m*N,t[9]=s*x+p*M+v*N,t[10]=c*x+h*M+_*N,t[11]=l*x+y*M+g*N,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,n){let r=Math.sin(n),o=Math.cos(n),i=e[4],u=e[5],a=e[6],s=e[7],c=e[8],l=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+c*r,t[5]=u*o+l*r,t[6]=a*o+f*r,t[7]=s*o+p*r,t[8]=c*o-i*r,t[9]=l*o-u*r,t[10]=f*o-a*r,t[11]=p*o-s*r,t}function le(t,e,n){let r=Math.sin(n),o=Math.cos(n),i=e[0],u=e[1],a=e[2],s=e[3],c=e[8],l=e[9],f=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-c*r,t[1]=u*o-l*r,t[2]=a*o-f*r,t[3]=s*o-p*r,t[8]=i*r+c*o,t[9]=u*r+l*o,t[10]=a*r+f*o,t[11]=s*r+p*o,t}function fe(t,e,n){let r=Math.sin(n),o=Math.cos(n),i=e[0],u=e[1],a=e[2],s=e[3],c=e[4],l=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+c*r,t[1]=u*o+l*r,t[2]=a*o+f*r,t[3]=s*o+p*r,t[4]=c*o-i*r,t[5]=l*o-u*r,t[6]=f*o-a*r,t[7]=p*o-s*r,t}function pe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function de(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function he(t,e,n){let r,o,i,u=n[0],a=n[1],s=n[2],c=Math.sqrt(u*u+a*a+s*s);return c<d?null:(u*=c=1/c,a*=c,s*=c,r=Math.sin(e),i=1-(o=Math.cos(e)),t[0]=u*u*i+o,t[1]=a*u*i+s*r,t[2]=s*u*i-a*r,t[3]=0,t[4]=u*a*i-s*r,t[5]=a*a*i+o,t[6]=s*a*i+u*r,t[7]=0,t[8]=u*s*i+a*r,t[9]=a*s*i-u*r,t[10]=s*s*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ye(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ve(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _e(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=r+r,s=o+o,c=i+i,l=r*a,f=r*s,p=r*c,d=o*s,h=o*c,y=i*c,m=u*a,v=u*s,_=u*c;return t[0]=1-(d+y),t[1]=f+_,t[2]=p-v,t[3]=0,t[4]=f-_,t[5]=1-(l+y),t[6]=h+m,t[7]=0,t[8]=p+v,t[9]=h-m,t[10]=1-(l+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ge(t,e){let n=new h(3),r=-e[0],o=-e[1],i=-e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=r*r+o*o+i*i+u*u;return f>0?(n[0]=2*(a*u+l*r+s*i-c*o)/f,n[1]=2*(s*u+l*o+c*r-a*i)/f,n[2]=2*(c*u+l*i+a*o-s*r)/f):(n[0]=2*(a*u+l*r+s*i-c*o),n[1]=2*(s*u+l*o+c*r-a*i),n[2]=2*(c*u+l*i+a*o-s*r)),_e(t,e,n),t}function Ee(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function be(t,e){let n=e[0],r=e[1],o=e[2],i=e[4],u=e[5],a=e[6],s=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(n*n+r*r+o*o),t[1]=Math.sqrt(i*i+u*u+a*a),t[2]=Math.sqrt(s*s+c*c+l*l),t}function Te(t,e){let n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function Ae(t,e,n,r){let o=e[0],i=e[1],u=e[2],a=e[3],s=o+o,c=i+i,l=u+u,f=o*s,p=o*c,d=o*l,h=i*c,y=i*l,m=u*l,v=a*s,_=a*c,g=a*l,E=r[0],b=r[1],T=r[2];return t[0]=(1-(h+m))*E,t[1]=(p+g)*E,t[2]=(d-_)*E,t[3]=0,t[4]=(p-g)*b,t[5]=(1-(f+m))*b,t[6]=(y+v)*b,t[7]=0,t[8]=(d+_)*T,t[9]=(y-v)*T,t[10]=(1-(f+h))*T,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Se(t,e,n,r,o){let i=e[0],u=e[1],a=e[2],s=e[3],c=i+i,l=u+u,f=a+a,p=i*c,d=i*l,h=i*f,y=u*l,m=u*f,v=a*f,_=s*c,g=s*l,E=s*f,b=r[0],T=r[1],A=r[2],S=o[0],R=o[1],x=o[2],M=(1-(y+v))*b,N=(d+E)*b,w=(h-g)*b,I=(d-E)*T,C=(1-(p+v))*T,O=(m+_)*T,F=(h+g)*A,P=(m-_)*A,L=(1-(p+y))*A;return t[0]=M,t[1]=N,t[2]=w,t[3]=0,t[4]=I,t[5]=C,t[6]=O,t[7]=0,t[8]=F,t[9]=P,t[10]=L,t[11]=0,t[12]=n[0]+S-(M*S+I*R+F*x),t[13]=n[1]+R-(N*S+C*R+P*x),t[14]=n[2]+x-(w*S+O*R+L*x),t[15]=1,t}function Re(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=n+n,a=r+r,s=o+o,c=n*u,l=r*u,f=r*a,p=o*u,d=o*a,h=o*s,y=i*u,m=i*a,v=i*s;return t[0]=1-f-h,t[1]=l+v,t[2]=p-m,t[3]=0,t[4]=l-v,t[5]=1-c-h,t[6]=d+y,t[7]=0,t[8]=p+m,t[9]=d-y,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function xe(t,e,n,r,o,i,u){let a=1/(n-e),s=1/(o-r),c=1/(i-u);return t[0]=2*i*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*s,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(o+r)*s,t[10]=(u+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*i*2*c,t[15]=0,t}function Me(t,e,n,r,o){let i=1/Math.tan(e/2),u=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*u,t[15]=0,t}function Ne(t,e,n,r){let o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),u=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),s=2/(u+a),c=2/(o+i);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(u-a)*s*.5,t[9]=(o-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function we(t,e,n,r,o,i,u){let a=1/(e-n),s=1/(r-o),c=1/(i-u);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(o+r)*s,t[14]=(u+i)*c,t[15]=1,t}function Ie(t,e,n,r){let o,i,u,a,s,c,l,f,p,h,y=e[0],m=e[1],v=e[2],_=r[0],g=r[1],E=r[2],b=n[0],T=n[1],A=n[2];return Math.abs(y-b)<d&&Math.abs(m-T)<d&&Math.abs(v-A)<d?te(t):(l=y-b,f=m-T,p=v-A,o=g*(p*=h=1/Math.sqrt(l*l+f*f+p*p))-E*(f*=h),i=E*(l*=h)-_*p,u=_*f-g*l,(h=Math.sqrt(o*o+i*i+u*u))?(o*=h=1/h,i*=h,u*=h):(o=0,i=0,u=0),a=f*u-p*i,s=p*o-l*u,c=l*i-f*o,(h=Math.sqrt(a*a+s*s+c*c))?(a*=h=1/h,s*=h,c*=h):(a=0,s=0,c=0),t[0]=o,t[1]=a,t[2]=l,t[3]=0,t[4]=i,t[5]=s,t[6]=f,t[7]=0,t[8]=u,t[9]=c,t[10]=p,t[11]=0,t[12]=-(o*y+i*m+u*v),t[13]=-(a*y+s*m+c*v),t[14]=-(l*y+f*m+p*v),t[15]=1,t)}function Ce(t,e,n,r){let o=e[0],i=e[1],u=e[2],a=r[0],s=r[1],c=r[2],l=o-n[0],f=i-n[1],p=u-n[2],d=l*l+f*f+p*p;d>0&&(l*=d=1/Math.sqrt(d),f*=d,p*=d);let h=s*p-c*f,y=c*l-a*p,m=a*f-s*l;return(d=h*h+y*y+m*m)>0&&(h*=d=1/Math.sqrt(d),y*=d,m*=d),t[0]=h,t[1]=y,t[2]=m,t[3]=0,t[4]=f*m-p*y,t[5]=p*h-l*m,t[6]=l*y-f*h,t[7]=0,t[8]=l,t[9]=f,t[10]=p,t[11]=0,t[12]=o,t[13]=i,t[14]=u,t[15]=1,t}function Oe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Fe(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Pe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Le(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function ke(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Ue(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Be(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function je(t,e){let n=t[0],r=t[1],o=t[2],i=t[3],u=t[4],a=t[5],s=t[6],c=t[7],l=t[8],f=t[9],p=t[10],h=t[11],y=t[12],m=t[13],v=t[14],_=t[15],g=e[0],E=e[1],b=e[2],T=e[3],A=e[4],S=e[5],R=e[6],x=e[7],M=e[8],N=e[9],w=e[10],I=e[11],C=e[12],O=e[13],F=e[14],P=e[15];return Math.abs(n-g)<=d*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-E)<=d*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(o-b)<=d*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(i-T)<=d*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(u-A)<=d*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(a-S)<=d*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-R)<=d*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(c-x)<=d*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(l-M)<=d*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(f-N)<=d*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(p-w)<=d*Math.max(1,Math.abs(p),Math.abs(w))&&Math.abs(h-I)<=d*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(y-C)<=d*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(m-O)<=d*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(v-F)<=d*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(_-P)<=d*Math.max(1,Math.abs(_),Math.abs(P))}const De=ie,Ve=Le;function Ge(){let t=new h(3);return t[0]=0,t[1]=0,t[2]=0,t}function He(t){var e=new h(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function qe(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function ze(t,e,n){let r=new h(3);return r[0]=t,r[1]=e,r[2]=n,r}function Xe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function We(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ke(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function $e(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Ye(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Qe(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Je(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Ze(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function en(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function nn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function rn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function on(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function un(t,e){let n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}function an(t,e){let n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function sn(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function cn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ln(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function fn(t,e){let n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function pn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dn(t,e,n){let r=e[0],o=e[1],i=e[2],u=n[0],a=n[1],s=n[2];return t[0]=o*s-i*a,t[1]=i*u-r*s,t[2]=r*a-o*u,t}function hn(t,e,n,r){let o=e[0],i=e[1],u=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=u+r*(n[2]-u),t}function yn(t,e,n,r,o,i){let u=i*i,a=u*(2*i-3)+1,s=u*(i-2)+i,c=u*(i-1),l=u*(3-2*i);return t[0]=e[0]*a+n[0]*s+r[0]*c+o[0]*l,t[1]=e[1]*a+n[1]*s+r[1]*c+o[1]*l,t[2]=e[2]*a+n[2]*s+r[2]*c+o[2]*l,t}function mn(t,e,n,r,o,i){let u=1-i,a=u*u,s=i*i,c=a*u,l=3*i*a,f=3*s*u,p=s*i;return t[0]=e[0]*c+n[0]*l+r[0]*f+o[0]*p,t[1]=e[1]*c+n[1]*l+r[1]*f+o[1]*p,t[2]=e[2]*c+n[2]*l+r[2]*f+o[2]*p,t}function vn(t,e){e=e||1;let n=2*y()*Math.PI,r=2*y()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}function _n(t,e,n){let r=e[0],o=e[1],i=e[2],u=n[3]*r+n[7]*o+n[11]*i+n[15];return u=u||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/u,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/u,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/u,t}function gn(t,e,n){let r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function En(t,e,n){let r=n[0],o=n[1],i=n[2],u=n[3],a=e[0],s=e[1],c=e[2],l=o*c-i*s,f=i*a-r*c,p=r*s-o*a,d=o*p-i*f,h=i*l-r*p,y=r*f-o*l,m=2*u;return l*=m,f*=m,p*=m,d*=2,h*=2,y*=2,t[0]=a+l+d,t[1]=s+f+h,t[2]=c+p+y,t}function bn(t,e,n,r){let o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Tn(t,e,n,r){let o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function An(t,e,n,r){let o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Sn(t,e){let n=ze(t[0],t[1],t[2]),r=ze(e[0],e[1],e[2]);fn(n,n),fn(r,r);let o=pn(n,r);return o>1?0:o<-1?Math.PI:Math.acos(o)}function Rn(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function xn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Mn(t,e){let n=t[0],r=t[1],o=t[2],i=e[0],u=e[1],a=e[2];return Math.abs(n-i)<=d*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-a)<=d*Math.max(1,Math.abs(o),Math.abs(a))}const Nn=$e,wn=Ye,In=Qe,Cn=un,On=an,Fn=qe,Pn=sn,Ln=function(){let t=Ge();return function(e,n,r,o,i,u){let a,s;for(n||(n=3),r||(r=0),s=o?Math.min(o*n+r,e.length):e.length,a=r;a<s;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],i(t,t,u),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}}();function kn(){let t=new h(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Un(t){let e=new h(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Bn(t,e,n,r){let o=new h(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function jn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Dn(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function Vn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Gn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Hn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function qn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function zn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Xn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Wn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Kn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function $n(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Yn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Qn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function Jn(t,e){let n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+i*i)}function Zn(t,e){let n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i}function tr(t){let e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)}function er(t){let e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o}function nr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function rr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function or(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=n*n+r*r+o*o+i*i;return u>0&&(u=1/Math.sqrt(u),t[0]=n*u,t[1]=r*u,t[2]=o*u,t[3]=i*u),t}function ir(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ur(t,e,n,r){let o=e[0],i=e[1],u=e[2],a=e[3];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=u+r*(n[2]-u),t[3]=a+r*(n[3]-a),t}function ar(t,e){var n,r,o,i,u,a;e=e||1;do{u=(n=2*y()-1)*n+(r=2*y()-1)*r}while(u>=1);do{a=(o=2*y()-1)*o+(i=2*y()-1)*i}while(a>=1);var s=Math.sqrt((1-u)/a);return t[0]=Yn*n,t[1]=Yn*r,t[2]=Yn*o*s,t[3]=Yn*i*s,t}function sr(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*u,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*u,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*u,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*u,t}function cr(t,e,n){let r=e[0],o=e[1],i=e[2],u=n[0],a=n[1],s=n[2],c=n[3],l=c*r+a*i-s*o,f=c*o+s*r-u*i,p=c*i+u*o-a*r,d=-u*r-a*o-s*i;return t[0]=l*c+d*-u+f*-s-p*-a,t[1]=f*c+d*-a+p*-u-l*-s,t[2]=p*c+d*-s+l*-a-f*-u,t[3]=e[3],t}function lr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function fr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function pr(t,e){let n=t[0],r=t[1],o=t[2],i=t[3],u=e[0],a=e[1],s=e[2],c=e[3];return Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-s)<=d*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=d*Math.max(1,Math.abs(i),Math.abs(c))}const dr=Gn,hr=Hn,yr=qn,mr=Jn,vr=Zn,_r=tr,gr=er,Er=function(){let t=kn();return function(e,n,r,o,i,u){let a,s;for(n||(n=4),r||(r=0),s=o?Math.min(o*n+r,e.length):e.length,a=r;a<s;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],i(t,t,u),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}();function br(){let t=new h(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Tr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ar(t,e,n){n*=.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Sr(t,e){let n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Rr(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+u*a+o*c-i*s,t[1]=o*l+u*s+i*a-r*c,t[2]=i*l+u*c+r*s-o*a,t[3]=u*l-r*a-o*s-i*c,t}function xr(t,e,n){n*=.5;let r=e[0],o=e[1],i=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+u*a,t[1]=o*s+i*a,t[2]=i*s-o*a,t[3]=u*s-r*a,t}function Mr(t,e,n){n*=.5;let r=e[0],o=e[1],i=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s-i*a,t[1]=o*s+u*a,t[2]=i*s+r*a,t[3]=u*s-o*a,t}function Nr(t,e,n){n*=.5;let r=e[0],o=e[1],i=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*a,t[1]=o*s-r*a,t[2]=i*s+u*a,t[3]=u*s-i*a,t}function wr(t,e){let n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t}function Ir(t,e,n,r){let o,i,u,a,s,c=e[0],l=e[1],f=e[2],p=e[3],d=n[0],h=n[1],y=n[2],m=n[3];return(i=c*d+l*h+f*y+p*m)<0&&(i=-i,d=-d,h=-h,y=-y,m=-m),1-i>1e-6?(o=Math.acos(i),u=Math.sin(o),a=Math.sin((1-r)*o)/u,s=Math.sin(r*o)/u):(a=1-r,s=r),t[0]=a*c+s*d,t[1]=a*l+s*h,t[2]=a*f+s*y,t[3]=a*p+s*m,t}function Cr(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],u=n*n+r*r+o*o+i*i,a=u?1/u:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-o*a,t[3]=i*a,t}function Or(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Fr(t,e){let n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);let o=(r+1)%3,i=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*i+i]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*o+i]-e[3*i+o])*n,t[o]=(e[3*o+r]+e[3*r+o])*n,t[i]=(e[3*i+r]+e[3*r+i])*n}return t}function Pr(t,e,n,r){let o=.5*Math.PI/180;e*=o,n*=o,r*=o;let i=Math.sin(e),u=Math.cos(e),a=Math.sin(n),s=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return t[0]=i*s*l-u*a*c,t[1]=u*a*l+i*s*c,t[2]=u*s*c-i*a*l,t[3]=u*s*l+i*a*c,t}function Lr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const kr=Un,Ur=Bn,Br=jn,jr=Dn,Dr=Vn,Vr=Rr,Gr=Yn,Hr=ir,qr=ur,zr=tr,Xr=zr,Wr=er,Kr=Wr,$r=or,Yr=fr,Qr=pr,Jr=function(){let t=Ge(),e=ze(1,0,0),n=ze(0,1,0);return function(r,o,i){let u=pn(o,i);return u<-.999999?(dn(t,e,o),Fn(t)<1e-6&&dn(t,n,o),fn(t,t),Ar(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(dn(t,o,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,$r(r,r))}}(),Zr=function(){let t=br(),e=br();return function(n,r,o,i,u,a){return Ir(t,r,u,a),Ir(e,o,i,a),Ir(n,t,e,2*a*(1-a)),n}}(),to=function(){let t=vt();return function(e,n,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],$r(e,Fr(e,t))}}();function eo(){let t=new h(8);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function no(t){let e=new h(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function ro(t,e,n,r,o,i,u,a){let s=new h(8);return s[0]=t,s[1]=e,s[2]=n,s[3]=r,s[4]=o,s[5]=i,s[6]=u,s[7]=a,s}function oo(t,e,n,r,o,i,u){let a=new h(8);a[0]=t,a[1]=e,a[2]=n,a[3]=r;let s=.5*o,c=.5*i,l=.5*u;return a[4]=s*r+c*n-l*e,a[5]=c*r+l*t-s*n,a[6]=l*r+s*e-c*t,a[7]=-s*t-c*e-l*n,a}function io(t,e,n){let r=.5*n[0],o=.5*n[1],i=.5*n[2],u=e[0],a=e[1],s=e[2],c=e[3];return t[0]=u,t[1]=a,t[2]=s,t[3]=c,t[4]=r*c+o*s-i*a,t[5]=o*c+i*u-r*s,t[6]=i*c+r*a-o*u,t[7]=-r*u-o*a-i*s,t}function uo(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function ao(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function so(t,e){let n=br();Te(n,e);let r=new h(3);return Ee(r,e),io(t,n,r),t}function co(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function lo(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function fo(t,e,n,r,o,i,u,a,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=u,t[6]=a,t[7]=s,t}const po=Br;function ho(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}const yo=Br;function mo(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function vo(t,e){let n=e[4],r=e[5],o=e[6],i=e[7],u=-e[0],a=-e[1],s=-e[2],c=e[3];return t[0]=2*(n*c+i*u+r*s-o*a),t[1]=2*(r*c+i*a+o*u-n*s),t[2]=2*(o*c+i*s+n*a-r*u),t}function _o(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=.5*n[0],s=.5*n[1],c=.5*n[2],l=e[4],f=e[5],p=e[6],d=e[7];return t[0]=r,t[1]=o,t[2]=i,t[3]=u,t[4]=u*a+o*c-i*s+l,t[5]=u*s+i*a-r*c+f,t[6]=u*c+r*s-o*a+p,t[7]=-r*a-o*s-i*c+d,t}function go(t,e,n){let r=-e[0],o=-e[1],i=-e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=a*u+l*r+s*i-c*o,p=s*u+l*o+c*r-a*i,d=c*u+l*i+a*o-s*r,h=l*u-a*r-s*o-c*i;return xr(t,e,n),r=t[0],o=t[1],i=t[2],u=t[3],t[4]=f*u+h*r+p*i-d*o,t[5]=p*u+h*o+d*r-f*i,t[6]=d*u+h*i+f*o-p*r,t[7]=h*u-f*r-p*o-d*i,t}function Eo(t,e,n){let r=-e[0],o=-e[1],i=-e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=a*u+l*r+s*i-c*o,p=s*u+l*o+c*r-a*i,d=c*u+l*i+a*o-s*r,h=l*u-a*r-s*o-c*i;return Mr(t,e,n),r=t[0],o=t[1],i=t[2],u=t[3],t[4]=f*u+h*r+p*i-d*o,t[5]=p*u+h*o+d*r-f*i,t[6]=d*u+h*i+f*o-p*r,t[7]=h*u-f*r-p*o-d*i,t}function bo(t,e,n){let r=-e[0],o=-e[1],i=-e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=a*u+l*r+s*i-c*o,p=s*u+l*o+c*r-a*i,d=c*u+l*i+a*o-s*r,h=l*u-a*r-s*o-c*i;return Nr(t,e,n),r=t[0],o=t[1],i=t[2],u=t[3],t[4]=f*u+h*r+p*i-d*o,t[5]=p*u+h*o+d*r-f*i,t[6]=d*u+h*i+f*o-p*r,t[7]=h*u-f*r-p*o-d*i,t}function To(t,e,n){let r=n[0],o=n[1],i=n[2],u=n[3],a=e[0],s=e[1],c=e[2],l=e[3];return t[0]=a*u+l*r+s*i-c*o,t[1]=s*u+l*o+c*r-a*i,t[2]=c*u+l*i+a*o-s*r,t[3]=l*u-a*r-s*o-c*i,a=e[4],s=e[5],c=e[6],l=e[7],t[4]=a*u+l*r+s*i-c*o,t[5]=s*u+l*o+c*r-a*i,t[6]=c*u+l*i+a*o-s*r,t[7]=l*u-a*r-s*o-c*i,t}function Ao(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+u*a+o*c-i*s,t[1]=o*l+u*s+i*a-r*c,t[2]=i*l+u*c+r*s-o*a,t[3]=u*l-r*a-o*s-i*c,a=n[4],s=n[5],c=n[6],l=n[7],t[4]=r*l+u*a+o*c-i*s,t[5]=o*l+u*s+i*a-r*c,t[6]=i*l+u*c+r*s-o*a,t[7]=u*l-r*a-o*s-i*c,t}function So(t,e,n,r){if(Math.abs(r)<d)return co(t,e);let o=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);r*=.5;let i=Math.sin(r),u=i*n[0]/o,a=i*n[1]/o,s=i*n[2]/o,c=Math.cos(r),l=e[0],f=e[1],p=e[2],h=e[3];t[0]=l*c+h*u+f*s-p*a,t[1]=f*c+h*a+p*u-l*s,t[2]=p*c+h*s+l*a-f*u,t[3]=h*c-l*u-f*a-p*s;let y=e[4],m=e[5],v=e[6],_=e[7];return t[4]=y*c+_*u+m*s-v*a,t[5]=m*c+_*a+v*u-y*s,t[6]=v*c+_*s+y*a-m*u,t[7]=_*c-y*u-m*a-v*s,t}function Ro(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function xo(t,e,n){let r=e[0],o=e[1],i=e[2],u=e[3],a=n[4],s=n[5],c=n[6],l=n[7],f=e[4],p=e[5],d=e[6],h=e[7],y=n[0],m=n[1],v=n[2],_=n[3];return t[0]=r*_+u*y+o*v-i*m,t[1]=o*_+u*m+i*y-r*v,t[2]=i*_+u*v+r*m-o*y,t[3]=u*_-r*y-o*m-i*v,t[4]=r*l+u*a+o*c-i*s+f*_+h*y+p*v-d*m,t[5]=o*l+u*s+i*a-r*c+p*_+h*m+d*y-f*v,t[6]=i*l+u*c+r*s-o*a+d*_+h*v+f*m-p*y,t[7]=u*l-r*a-o*s-i*c+h*_-f*y-p*m-d*v,t}const Mo=xo;function No(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}const wo=Hr;function Io(t,e,n,r){let o=1-r;return wo(e,n)<0&&(r=-r),t[0]=e[0]*o+n[0]*r,t[1]=e[1]*o+n[1]*r,t[2]=e[2]*o+n[2]*r,t[3]=e[3]*o+n[3]*r,t[4]=e[4]*o+n[4]*r,t[5]=e[5]*o+n[5]*r,t[6]=e[6]*o+n[6]*r,t[7]=e[7]*o+n[7]*r,t}function Co(t,e){let n=Lo(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function Oo(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}const Fo=zr,Po=Fo,Lo=Wr,ko=Lo;function Uo(t,e){let n=Lo(e);return n>0&&(n=Math.sqrt(n),t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n,t[3]=e[3]/n,t[4]=e[4]/n,t[5]=e[5]/n,t[6]=e[6]/n,t[7]=e[7]/n),t}function Bo(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function jo(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function Do(t,e){let n=t[0],r=t[1],o=t[2],i=t[3],u=t[4],a=t[5],s=t[6],c=t[7],l=e[0],f=e[1],p=e[2],h=e[3],y=e[4],m=e[5],v=e[6],_=e[7];return Math.abs(n-l)<=d*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=d*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-p)<=d*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(u-y)<=d*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(a-m)<=d*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-v)<=d*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(c-_)<=d*Math.max(1,Math.abs(c),Math.abs(_))}function Vo(){let t=new h(2);return t[0]=0,t[1]=0,t}function Go(t){let e=new h(2);return e[0]=t[0],e[1]=t[1],e}function Ho(t,e){let n=new h(2);return n[0]=t,n[1]=e,n}function qo(t,e){return t[0]=e[0],t[1]=e[1],t}function zo(t,e,n){return t[0]=e,t[1]=n,t}function Xo(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Wo(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Ko(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function $o(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Yo(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Qo(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Jo(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Zo(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function ti(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function ei(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ni(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function ri(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function oi(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function ii(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function ui(t){var e=t[0],n=t[1];return e*e+n*n}function ai(t,e){return t[0]=-e[0],t[1]=-e[1],t}function si(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function ci(t,e){var n=e[0],r=e[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t}function li(t,e){return t[0]*e[0]+t[1]*e[1]}function fi(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function pi(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t}function di(t,e){e=e||1;var n=2*y()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function hi(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t}function yi(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}function mi(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t}function vi(t,e,n){let r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t}function _i(t,e,n,r){let o=e[0]-n[0],i=e[1]-n[1],u=Math.sin(r),a=Math.cos(r);return t[0]=o*a-i*u+n[0],t[1]=o*u+i*a+n[1],t}function gi(t,e){let n=t[0],r=t[1],o=e[0],i=e[1],u=n*n+r*r;u>0&&(u=1/Math.sqrt(u));let a=o*o+i*i;a>0&&(a=1/Math.sqrt(a));let s=(n*o+r*i)*u*a;return s>1?0:s<-1?Math.PI:Math.acos(s)}function Ei(t){return"vec2("+t[0]+", "+t[1]+")"}function bi(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ti(t,e){let n=t[0],r=t[1],o=e[0],i=e[1];return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-i)<=d*Math.max(1,Math.abs(r),Math.abs(i))}const Ai=ii,Si=Wo,Ri=Ko,xi=$o,Mi=ri,Ni=oi,wi=ui,Ii=function(){let t=Vo();return function(e,n,r,o,i,u){let a,s;for(n||(n=2),r||(r=0),s=o?Math.min(o*n+r,e.length):e.length,a=r;a<s;a+=n)t[0]=e[a],t[1]=e[a+1],i(t,t,u),e[a]=t[0],e[a+1]=t[1];return e}}();n.d(e,"glMatrix",function(){return r}),n.d(e,"mat2",function(){return o}),n.d(e,"mat2d",function(){return i}),n.d(e,"mat3",function(){return u}),n.d(e,"mat4",function(){return a}),n.d(e,"quat",function(){return l}),n.d(e,"quat2",function(){return f}),n.d(e,"vec2",function(){return p}),n.d(e,"vec3",function(){return s}),n.d(e,"vec4",function(){return c})},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){(function(e){!function(e,r){t.exports=r(n(11),n(103),n(9),n(102),n(101))}(0,function(t,n,r,o,i){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o,i=i&&i.hasOwnProperty("default")?i.default:i;const u="object"==typeof self?self:"object"==typeof e?e:"object"==typeof window?window:{},a="function"==typeof u.setImmediate?u.setImmediate:function(t,e){return setTimeout(t,0,e)};function s(){}function c(){return this}var l=t.toString;function f(t){return function(t,e){return e.replace(/^/gm,"  ").replace("  ","")}(0,n(2,t))}function p(t,e){return function(n,r,o){switch(arguments.length){case 1:return t(e,n);case 2:return t(e,n,r);default:return t(e,n,r,o)}}}function d(t,e,n){return function(r,o){return 1===arguments.length?t(e,n,r):t(e,n,r,o)}}function h(t,e,n,r){return function(o){return t(e,n,r,o)}}function y(t){return function(e){return a(t,e)}}var m="fantasy-land/of",v=["first","second","third","fourth","fifth"],_="fluture",g="Future",E=3,b=_+"/"+g+"@"+E;function T(t){throw new Error(t)}function A(t){throw new TypeError(t)}function S(t,e,n,r){A(t+" expects its "+v[e]+" argument to "+n+"\n  Actual: "+l(r))}function R(t,e){A(t+" was invoked outside the context of a Future. You might want to use a dispatcher instead\n  Called on: "+l(e))}function x(t,e,n,o){var i=r.parse(r(n)),u=i.name===g?"\n"+(i.namespace!==_?function(t,e){return"The Future was not created by "+_+". Make sure you transform other Futures to "+_+" Futures. Got "+(e?"a Future from "+e:"an unscoped Future")+".\n  See: https://github.com/fluture-js/Fluture#casting-futures"}(0,i.namespace):i.version!==E?"The Future was created by "+(i.version<E?"an older":"a newer")+" version of "+_+". This means that one of the sources which creates Futures is outdated. Update this source, or transform its created Futures to be compatible.\n  See: https://github.com/fluture-js/Fluture#casting-futures":"Nothing seems wrong. Contact the Fluture maintainers."):"";A(t+" expects "+(v[e]?"its "+v[e]+" argument to be a valid Future":e)+"."+u+"\n  Actual: "+l(n)+" :: "+i.name+(o||""))}function M(t){return"function"==typeof t}function N(t){return t instanceof Promise||Boolean(t)&&M(t.then)}function w(t){return t===1/0||function(t){return"number"==typeof t}(t)&&t>0&&t%1==0}function I(t){return null!==t&&"object"==typeof t}var C={isEmpty:!0,size:0,head:null,tail:null};function O(t){T("Future#value was called on a rejected Future\n  Actual: Future.reject("+l(t)+")")}function F(t){return M(t)||S("Future",0,"be a Function",t),new k(t)}function P(t){return t instanceof F||r(t)===b}F["@@type"]=b,F.prototype["fantasy-land/ap"]=function(t){return t._ap(this)},F.prototype["fantasy-land/map"]=function(t){return this._map(t)},F.prototype["fantasy-land/bimap"]=function(t,e){return this._bimap(t,e)},F.prototype["fantasy-land/chain"]=function(t){return this._chain(t)},F.prototype.ap=function(t){return P(this)||R("Future#ap",this),P(t)||x("Future#ap",0,t),this._ap(t)},F.prototype.map=function(t){return P(this)||R("Future#map",this),M(t)||S("Future#map",0,"to be a Function",t),this._map(t)},F.prototype.bimap=function(t,e){return P(this)||R("Future#bimap",this),M(t)||S("Future#bimap",0,"to be a Function",t),M(e)||S("Future#bimap",1,"to be a Function",e),this._bimap(t,e)},F.prototype.chain=function(t){return P(this)||R("Future#chain",this),M(t)||S("Future#chain",0,"to be a Function",t),this._chain(t)},F.prototype.mapRej=function(t){return P(this)||R("Future#mapRej",this),M(t)||S("Future#mapRej",0,"to be a Function",t),this._mapRej(t)},F.prototype.chainRej=function(t){return P(this)||R("Future#chainRej",this),M(t)||S("Future#chainRej",0,"to be a Function",t),this._chainRej(t)},F.prototype.race=function(t){return P(this)||R("Future#race",this),P(t)||x("Future#race",0,t),this._race(t)},F.prototype.both=function(t){return P(this)||R("Future#both",this),P(t)||x("Future#both",0,t),this._both(t)},F.prototype.and=function(t){return P(this)||R("Future#and",this),P(t)||x("Future#and",0,t),this._and(t)},F.prototype.or=function(t){return P(this)||R("Future#or",this),P(t)||x("Future#or",0,t),this._or(t)},F.prototype.swap=function(){return P(this)||R("Future#ap",this),this._swap()},F.prototype.fold=function(t,e){return P(this)||R("Future#ap",this),M(t)||S("Future#fold",0,"to be a Function",t),M(e)||S("Future#fold",1,"to be a Function",e),this._fold(t,e)},F.prototype.finally=function(t){return P(this)||R("Future#finally",this),P(t)||x("Future#finally",0,t),this._finally(t)},F.prototype.lastly=function(t){return P(this)||R("Future#lastly",this),P(t)||x("Future#lastly",0,t),this._finally(t)},F.prototype.fork=function(t,e){return P(this)||R("Future#fork",this),M(t)||S("Future#fork",0,"to be a Function",t),M(e)||S("Future#fork",0,"to be a Function",e),this._fork(t,e)},F.prototype.value=function(t){return P(this)||R("Future#value",this),M(t)||S("Future#value",0,"to be a Function",t),this._fork(O,t)},F.prototype.done=function(t){return P(this)||R("Future#done",this),M(t)||S("Future#done",0,"to be a Function",t),this._fork(function(e){t(e)},function(e){t(null,e)})},F.prototype.promise=function(){var t=this;return new Promise(function(e,n){t._fork(n,e)})},F.prototype.isRejected=function(){return!1},F.prototype.isResolved=function(){return!1},F.prototype.isSettled=function(){return this.isRejected()||this.isResolved()},F.prototype.extractLeft=function(){return[]},F.prototype.extractRight=function(){return[]};var L=Object.create(F.prototype);function k(t){this._computation=t}function U(t){this._value=t}function B(t){return new U(t)}function j(t){this._value=t}function D(t){return new j(t)}function V(){this._isNever=!0}L._ap=function(t){return new at(this)._ap(t)},L._map=function(t){return new at(this)._map(t)},L._bimap=function(t,e){return new at(this)._bimap(t,e)},L._chain=function(t){return new at(this)._chain(t)},L._mapRej=function(t){return new at(this)._mapRej(t)},L._chainRej=function(t){return new at(this)._chainRej(t)},L._race=function(t){return new at(this)._race(t)},L._both=function(t){return new at(this)._both(t)},L._and=function(t){return new at(this)._and(t)},L._or=function(t){return new at(this)._or(t)},L._swap=function(){return new at(this)._swap()},L._fold=function(t,e){return new at(this)._fold(t,e)},L._finally=function(t){return new at(this)._finally(t)},k.prototype=Object.create(L),k.prototype._fork=function(t,e){var n=!0,r=this._computation(function(e){n&&(n=!1,t(e))},function(t){n&&(n=!1,e(t))});return function(t,e){void 0===t||M(t)&&0===t.length||A("Future expected its computation to return a nullary function or void\n  Actual: "+l(t)+"\n  From calling: "+f(e))}(r,this._computation),function(){n&&(n=!1,r&&r())}},k.prototype.toString=function(){return"Future("+f(this._computation)+")"},U.prototype=Object.create(L),U.prototype._ap=c,U.prototype._map=c,U.prototype._chain=c,U.prototype._race=c,U.prototype._both=c,U.prototype._and=c,U.prototype._or=function(t){return t},U.prototype._finally=function(t){return t._and(this)},U.prototype._swap=function(){return new j(this._value)},U.prototype._fork=function(t){return t(this._value),s},U.prototype.isRejected=function(){return!0},U.prototype.extractLeft=function(){return[this._value]},U.prototype.toString=function(){return"Future.reject("+l(this._value)+")"},j.prototype=Object.create(L),j.prototype._race=c,j.prototype._mapRej=c,j.prototype._or=c,j.prototype._and=function(t){return t},j.prototype._both=function(t){var e=this._value;return t._map(function(t){return[e,t]})},j.prototype._swap=function(){return new U(this._value)},j.prototype._finally=function(t){var e=this._value;return t._map(function(){return e})},j.prototype._fork=function(t,e){return e(this._value),s},j.prototype.isResolved=function(){return!0},j.prototype.extractRight=function(){return[this._value]},j.prototype.toString=function(){return"Future.of("+l(this._value)+")"},V.prototype=Object.create(F.prototype),V.prototype._ap=c,V.prototype._map=c,V.prototype._bimap=c,V.prototype._chain=c,V.prototype._mapRej=c,V.prototype._chainRej=c,V.prototype._both=c,V.prototype._or=c,V.prototype._swap=c,V.prototype._fold=c,V.prototype._finally=c,V.prototype._race=function(t){return t},V.prototype._fork=function(){return s},V.prototype.toString=function(){return"Future.never"};var G=new V;function H(t){return P(t)&&!0===t._isNever}function q(t){var e=this;e.rej=s,e.res=s,e.rejected=!1,e.resolved=!1,e.value=null,e.cancel=t._fork(function(t){e.value=t,e.rejected=!0,e.cancel=s,e.rej(t)},function(t){e.value=t,e.resolved=!0,e.cancel=s,e.res(t)})}q.prototype=Object.create(L),q.prototype._fork=function(t,e){return this.rejected?t(this.value):this.resolved?e(this.value):(this.rej=t,this.res=e),this.cancel};var z={rejected:function(t){return this.cancel(),new U(t)},resolved:function(t){return this.cancel(),new j(t)},run:function(){return this},cancel:function(){}};function X(t){this.other=t}function W(t){this.mapper=t}function K(t,e){this.lmapper=t,this.rmapper=e}function $(t){this.mapper=t}function Y(t){this.mapper=t}function Q(t){this.mapper=t}function J(){}function Z(t,e){this.lmapper=t,this.rmapper=e}function tt(t){this.other=t}function et(t){this.other=t}function nt(t){this.other=t}function rt(t){this.other=t}function ot(t){this.other=t}function it(t,e){var n=this;n.other=e,n.cancel=e._fork(function(e){t(new U(e),n)},function(e){t(new j(e),n)})}function ut(t,e){var n=this;n.other=e,n.cancel=e._fork(function(e){t(new U(e),n)},s)}function at(t,e){this._spawn=t,this._actions=e||C}function st(t){return{done:!1,value:t}}function ct(t){return{done:!0,value:t}}X.prototype=Object.create(z),X.prototype.resolved=function(t){return function(t){M(t)||A("Future#ap expects its first argument to be a Future of a Function\n  Actual: Future.of("+l(t)+")")}(t),this.other._map(function(e){return t(e)})},X.prototype.toString=function(){return"ap("+this.other.toString()+")"},W.prototype=Object.create(z),W.prototype.resolved=function(t){return new j(this.mapper(t))},W.prototype.toString=function(){return"map("+f(this.mapper)+")"},K.prototype=Object.create(z),K.prototype.rejected=function(t){return new U(this.lmapper(t))},K.prototype.resolved=function(t){return new j(this.rmapper(t))},K.prototype.toString=function(){return"bimap("+f(this.lmapper)+", "+f(this.rmapper)+")"},$.prototype=Object.create(z),$.prototype.resolved=function(t){return function(t,e,n){return P(t)?t:x("Future#chain","the function it's given to return a Future",t,"\n  From calling: "+f(e)+"\n  With: "+l(n))}(this.mapper(t),this.mapper,t)},$.prototype.toString=function(){return"chain("+f(this.mapper)+")"},Y.prototype=Object.create(z),Y.prototype.rejected=function(t){return new U(this.mapper(t))},Y.prototype.toString=function(){return"mapRej("+f(this.mapper)+")"},Q.prototype=Object.create(z),Q.prototype.rejected=function(t){return function(t,e,n){return P(t)?t:x("Future#chainRej","the function it's given to return a Future",t,"\n  From calling: "+f(e)+"\n  With: "+l(n))}(this.mapper(t),this.mapper,t)},Q.prototype.toString=function(){return"chainRej("+f(this.mapper)+")"},J.prototype=Object.create(z),J.prototype.rejected=function(t){return new j(t)},J.prototype.resolved=function(t){return new U(t)},J.prototype.toString=function(){return"swap()"},Z.prototype=Object.create(z),Z.prototype.rejected=function(t){return new j(this.lmapper(t))},Z.prototype.resolved=function(t){return new j(this.rmapper(t))},Z.prototype.toString=function(){return"fold("+f(this.lmapper)+", "+f(this.rmapper)+")"},tt.prototype=Object.create(z),tt.prototype.rejected=function(t){return this.other._and(new U(t))},tt.prototype.resolved=function(t){return this.other._map(function(){return t})},tt.prototype.cancel=function(){this.other._fork(s,s)()},tt.prototype.toString=function(){return"finally("+this.other.toString()+")"},et.prototype=Object.create(z),et.prototype.resolved=function(){return this.other},et.prototype.toString=function(){return"and("+this.other.toString()+")"},nt.prototype=Object.create(z),nt.prototype.rejected=function(){return this.other},nt.prototype.toString=function(){return"or("+this.other.toString()+")"},rt.prototype=Object.create(z),rt.prototype.run=function(t){return new it(t,new q(this.other))},rt.prototype.toString=function(){return"race("+this.other.toString()+")"},ot.prototype=Object.create(z),ot.prototype.resolved=function(t){return this.other._map(function(e){return[t,e]})},ot.prototype.run=function(t){return new ut(t,new q(this.other))},ot.prototype.toString=function(){return"both("+this.other.toString()+")"},it.prototype=Object.create(rt.prototype),ut.prototype=Object.create(ot.prototype),at.prototype=Object.create(F.prototype),at.prototype._transform=function(t){return new at(this._spawn,function(t,e){return{isEmpty:!1,size:e.size+1,head:t,tail:e}}(t,this._actions))},at.prototype._ap=function(t){return this._transform(new X(t))},at.prototype._map=function(t){return this._transform(new W(t))},at.prototype._bimap=function(t,e){return this._transform(new K(t,e))},at.prototype._chain=function(t){return this._transform(new $(t))},at.prototype._mapRej=function(t){return this._transform(new Y(t))},at.prototype._chainRej=function(t){return this._transform(new Q(t))},at.prototype._race=function(t){return H(t)?this:this._transform(new rt(t))},at.prototype._both=function(t){return this._transform(new ot(t))},at.prototype._and=function(t){return this._transform(new et(t))},at.prototype._or=function(t){return this._transform(new nt(t))},at.prototype._swap=function(){return this._transform(new J)},at.prototype._fold=function(t,e){return this._transform(new Z(t,e))},at.prototype._finally=function(t){return this._transform(new tt(t))},at.prototype._fork=function(t,e){var n,r,i,u,a=new o(this._actions.size),c=new o(this._actions.size),l=s,f=!0;function p(o){if(i=!0,(n=o)._spawn){for(var u=n._actions;!u.isEmpty;)a.unshift(u.head),u=u.tail;n=n._spawn}f&&function(){for(f=!1;;){if(i=!1,r=a.shift())l=n._fork(d,h),i||m();else{if(!(r=c.shift()))break;l=n._fork(d,h)}if(!i)return void(f=!0)}l=n._fork(t,e)}()}function d(t){p(r.rejected(t))}function h(t){p(r.resolved(t))}function y(t,e){if(l(),a.clear(),f&&r!==e)for(r.cancel();(u=c.shift())&&u!==e;)u.cancel();p(t)}function m(){for(;u=a.pop();){if(u=u.run(y),i)return;c.unshift(u)}r=r.run(y)}return p(this),function(){for(l(),r&&r.cancel();u=c.shift();)u.cancel()}},at.prototype.toString=function(){for(var t="",e=this._actions;!e.isEmpty;)t="."+e.head.toString()+t,e=e.tail;return this._spawn.toString()+t};var lt=0,ft=1,pt=2;function dt(t,e){this._step=t,this._init=e}function ht(e,n){return t.Apply.test(n)||S("Future.ap",1,"be an Apply",n),t.ap(e,n)}function yt(e,n){return t.Apply.test(e)||S("Future.ap",0,"be an Apply",e),1===arguments.length?p(ht,e):ht(e,n)}function mt(e,n){return t.Alt.test(n)||S("alt",1,"be an Alt",n),t.alt(e,n)}function vt(e,n){return t.Alt.test(e)||S("alt",0,"be an Alt",e),1===arguments.length?p(mt,e):mt(e,n)}function _t(e,n){return t.Functor.test(n)||S("Future.map",1,"be a Functor",n),t.map(e,n)}function gt(t,e){return M(t)||S("Future.map",0,"be a Function",t),1===arguments.length?p(_t,t):_t(t,e)}function Et(e,n,r){return t.Bifunctor.test(r)||S("Future.bimap",2,"be a Bifunctor",r),t.bimap(e,n,r)}function bt(t,e,n){return M(e)||S("Future.bimap",1,"be a Function",e),2===arguments.length?d(Et,t,e):Et(t,e,n)}function Tt(t,e,n){return M(t)||S("Future.bimap",0,"be a Function",t),1===arguments.length?p(bt,t):2===arguments.length?bt(t,e):bt(t,e,n)}function At(e,n){return t.Chain.test(n)||S("Future.chain",1,"be a Chain",n),t.chain(e,n)}function St(t,e){return M(t)||S("Future.chain",0,"be a Function",t),1===arguments.length?p(At,t):At(t,e)}function Rt(t,e){return P(e)||x("Future.mapRej",1,e),e.mapRej(t)}function xt(t,e){return P(e)||x("Future.chainRej",1,e),e.chainRej(t)}function Mt(t,e){return P(e)||x("Future.finally",1,e),e.finally(t)}function Nt(t,e){return P(t)||x("Future.finally",0,t),1===arguments.length?p(Mt,t):Mt(t,e)}function wt(t,e){return P(e)||x("Future.and",1,e),t.and(e)}function It(t,e){return P(e)||x("Future.both",1,e),t.both(e)}function Ct(t,e){return P(e)||x("Future.or",1,e),t.or(e)}function Ot(t,e){return P(e)||x("Future.race",1,e),e.race(t)}function Ft(t,e){return P(t)||x("Future.race",0,t),1===arguments.length?p(Ot,t):Ot(t,e)}function Pt(t,e,n){return P(n)||x("Future.fold",2,n),n.fold(t,e)}function Lt(t,e,n){return M(e)||S("Future.fold",1,"be a function",e),2===arguments.length?d(Pt,t,e):Pt(t,e,n)}function kt(t,e){return P(e)||x("Future.done",1,e),e.done(t)}function Ut(t,e,n){return P(n)||x("Future.fork",2,n),n._fork(t,e)}function Bt(t,e,n){return M(e)||S("Future.fork",1,"be a function",e),2===arguments.length?d(Ut,t,e):Ut(t,e,n)}function jt(t,e){return P(e)||x("Future.value",1,e),e.value(t)}function Dt(t,e){this._mval=t,this._mfunc=e}function Vt(t){return t.isSettled()?t:H(t)?this:"number"==typeof t._time?t._time<this._time?t:this:L._race.call(this,t)}function Gt(t,e){this._time=t,this._value=e}function Ht(t,e){this._time=t,this._value=e}function qt(t,e){return t===1/0?G:new Gt(t,e)}function zt(t,e){return t===1/0?G:new Ht(t,e)}function Xt(t){this._fn=t}function Wt(t){return M(t)||S("Future.try",0,"be a function",t),new Xt(t)}dt.prototype=Object.create(L),dt.prototype._fork=function(t,e){var n=this._step,r=this._init,o=lt,i=s,u=st(r);function a(t){u=t,o=o===lt?ft:c()}function c(){for(;!u.done;){o=lt;var r=n(st,ct,u.value);if(i=r._fork(t,a),o!==ft)return void(o=pt)}e(u.value)}return c(),function(){i()}},dt.prototype.toString=function(){return"Future.chainRec("+f(this._step)+", "+l(this._init)+")"},Dt.prototype=Object.create(L),Dt.prototype._fork=function(t,e){var n,r,o,i,u=!1,a=!1,c=!1;function f(e){c||(c=!0,t(e))}return o=this._mval._fork(f,function(t){if(o=s,!u)return a=!0,void(r=t);e(n(t))}),i=this._mfunc._fork(f,function(t){if(i=s,function(t){M(t)||A("Future#ap expects its first argument to be a Future of a Function\n  Actual: Future.of("+l(t)+")")}(t),!a)return u=!0,void(n=t);e(t(r))}),function(){o(),i()}},Dt.prototype.toString=function(){return"new ParallelAp("+this._mval.toString()+", "+this._mfunc.toString()+")"},Gt.prototype=Object.create(L),Gt.prototype._race=Vt,Gt.prototype._swap=function(){return new Ht(this._time,this._value)},Gt.prototype._fork=function(t,e){var n=setTimeout(e,this._time,this._value);return function(){clearTimeout(n)}},Gt.prototype.extractRight=function(){return[this._value]},Gt.prototype.toString=function(){return"Future.after("+l(this._time)+", "+l(this._value)+")"},Ht.prototype=Object.create(L),Ht.prototype._race=Vt,Ht.prototype._swap=function(){return new Gt(this._time,this._value)},Ht.prototype._fork=function(t){var e=setTimeout(t,this._time,this._value);return function(){clearTimeout(e)}},Ht.prototype.extractLeft=function(){return[this._value]},Ht.prototype.toString=function(){return"Future.rejectAfter("+l(this._time)+", "+l(this._value)+")"},Xt.prototype=Object.create(L),Xt.prototype._fork=function(t,e){var n;try{n=this._fn()}catch(e){return t(e),s}return e(n),s},Xt.prototype.toString=function(){return"Future.try("+f(this._fn)+")"};var Kt=Jt.Cold=0,$t=Jt.Pending=1,Yt=Jt.Rejected=2,Qt=Jt.Resolved=3;function Jt(t){this._pure=t,this.reset()}function Zt(t,e){this._fn=t,this._a=e}function te(t,e,n){this._fn=t,this._a=e,this._b=n}function ee(t,e,n,r){this._fn=t,this._a=e,this._b=n,this._c=r}function ne(t,e){this._fn=t,this._a=e}function re(t,e,n){this._fn=t,this._a=e,this._b=n}function oe(t,e,n,r){this._fn=t,this._a=e,this._b=n,this._c=r}function ie(t,e){this._fn=t,this._a=e}function ue(t,e,n){this._fn=t,this._a=e,this._b=n}function ae(t,e,n,r){this._fn=t,this._a=e,this._b=n,this._c=r}function se(t){return function(t){return I(t)&&function(t){return"boolean"==typeof t}(t.done)}(t)||A("Future.do was given an invalid generator: Its iterator did not return a valid iteration from iterator.next()\n  Actual: "+l(t)),t.done||P(t.value)?t:x("Future.do","the iterator to produce only valid Futures",t.value,"\n  Tip: If you're using a generator, make sure you always yield a Future")}function ce(t){this._generator=t}function le(t){return M(t)||S("Future.do",0,"be a Function",t),new ce(t)}function fe(t,e,n){this._acquire=t,this._dispose=e,this._consume=n}function pe(t,e,n){return M(n)||S("Future.hook",2,"be a Future",n),new fe(t,e,n)}function de(t,e,n){return M(e)||S("Future.hook",1,"be a function",e),2===arguments.length?d(pe,t,e):pe(t,e,n)}function he(t){this._fn=t}function ye(t,e){return P(t)?t:x("Future.parallel","its second argument to be an array of valid Futures. The value at position "+e+" in the array is not a Future",t)}function me(t,e){this._futures=e,this._length=e.length,this._max=Math.min(this._length,t)}Jt.prototype=Object.create(L),Jt.prototype.isRejected=function(){return this._state===Yt},Jt.prototype.isResolved=function(){return this._state===Qt},Jt.prototype.extractLeft=function(){return this.isRejected()?[this._value]:[]},Jt.prototype.extractRight=function(){return this.isResolved()?[this._value]:[]},Jt.prototype._addToQueue=function(t,e){var n=this;if(n._state>$t)return s;var r=n._queue.push(new function(t,e){this[Yt]=t,this[Qt]=e}(t,e))-1;return n._queued=n._queued+1,function(){n._state>$t||(n._queue[r]=void 0,n._queued=n._queued-1,0===n._queued&&n.reset())}},Jt.prototype._drainQueue=function(){if(!(this._state<=$t)&&0!==this._queued){for(var t=this._queue,e=t.length,n=this._state,r=this._value,o=0;o<e;o++)t[o]&&t[o][n](r),t[o]=void 0;this._queue=void 0,this._queued=0}},Jt.prototype.reject=function(t){this._state>$t||(this._value=t,this._state=Yt,this._drainQueue())},Jt.prototype.resolve=function(t){this._state>$t||(this._value=t,this._state=Qt,this._drainQueue())},Jt.prototype.run=function(){var t=this;t._state>Kt||(t._state=$t,t._cancel=t._pure._fork(function(e){t.reject(e)},function(e){t.resolve(e)}))},Jt.prototype.reset=function(){this._state!==Kt&&(this._state>$t&&this._cancel(),this._cancel=s,this._queue=[],this._queued=0,this._value=void 0,this._state=Kt)},Jt.prototype._fork=function(t,e){var n=s;switch(this._state){case $t:n=this._addToQueue(t,e);break;case Yt:t(this._value);break;case Qt:e(this._value);break;default:n=this._addToQueue(t,e),this.run()}return n},Jt.prototype.toString=function(){return"Future.cache("+this._pure.toString()+")"},Zt.prototype=Object.create(L),Zt.prototype._fork=function(t,e){var n;try{n=this._fn(this._a)}catch(e){return t(e),s}return e(n),s},Zt.prototype.toString=function(){return"Future.encase("+f(this._fn)+", "+l(this._a)+")"},te.prototype=Object.create(L),te.prototype._fork=function(t,e){var n;try{n=this._fn(this._a,this._b)}catch(e){return t(e),s}return e(n),s},te.prototype.toString=function(){return"Future.encase2("+f(this._fn)+", "+l(this._a)+", "+l(this._b)+")"},ee.prototype=Object.create(L),ee.prototype._fork=function(t,e){var n;try{n=this._fn(this._a,this._b,this._c)}catch(e){return t(e),s}return e(n),s},ee.prototype.toString=function(){return"Future.encase3("+f(this._fn)+", "+l(this._a)+", "+l(this._b)+", "+l(this._c)+")"},ne.prototype=Object.create(L),ne.prototype._fork=function(t,e){var n=!0;return this._fn(this._a,function(r,o){n&&(n=!1,r?t(r):e(o))}),function(){n=!1}},ne.prototype.toString=function(){return"Future.encaseN("+f(this._fn)+", "+l(this._a)+")"},re.prototype=Object.create(L),re.prototype._fork=function(t,e){var n=!0;return this._fn(this._a,this._b,function(r,o){n&&(n=!1,r?t(r):e(o))}),function(){n=!1}},re.prototype.toString=function(){return"Future.encaseN2("+f(this._fn)+", "+l(this._a)+", "+l(this._b)+")"},oe.prototype=Object.create(L),oe.prototype._fork=function(t,e){var n=!0;return this._fn(this._a,this._b,this._c,function(r,o){n&&(n=!1,r?t(r):e(o))}),function(){n=!1}},oe.prototype.toString=function(){return"Future.encaseN3("+f(this._fn)+", "+l(this._a)+", "+l(this._b)+", "+l(this._c)+")"},ie.prototype=Object.create(L),ie.prototype._fork=function(t,e){var n=this._fn,r=this._a,o=!0;return function(t,e,n){return N(t)?t:A("Future.encaseP expects the function it's given to return a Promise/Thenable\n  Actual: "+l(t)+"\n  From calling: "+f(e)+"\n  With: "+l(n))}(n(r),n,r).then(y(function(t){o&&(o=!1,e(t))}),y(function(e){o&&(o=!1,t(e))})),function(){o=!1}},ie.prototype.toString=function(){return"Future.encaseP("+f(this._fn)+", "+l(this._a)+")"},ue.prototype=Object.create(L),ue.prototype._fork=function(t,e){var n=this._fn,r=this._a,o=this._b,i=!0;return function(t,e,n,r){return N(t)?t:A("Future.encaseP2 expects the function it's given to return a Promise/Thenable\n  Actual: "+l(t)+"\n  From calling: "+f(e)+"\n  With 1: "+l(n)+"\n  With 2: "+l(r))}(n(r,o),n,r,o).then(y(function(t){i&&(i=!1,e(t))}),y(function(e){i&&(i=!1,t(e))})),function(){i=!1}},ue.prototype.toString=function(){return"Future.encaseP2("+f(this._fn)+", "+l(this._a)+", "+l(this._b)+")"},ae.prototype=Object.create(L),ae.prototype._fork=function(t,e){var n=this._fn,r=this._a,o=this._b,i=this._c,u=!0;return function(t,e,n,r,o){return N(t)?t:A("Future.encaseP3 expects the function it's given to return a Promise/Thenable\n  Actual: "+l(t)+"\n  From calling: "+f(e)+"\n  With 1: "+l(n)+"\n  With 2: "+l(r)+"\n  With 3: "+l(o))}(n(r,o,i),n,r,o,i).then(y(function(t){u&&(u=!1,e(t))}),y(function(e){u&&(u=!1,t(e))})),function(){u=!1}},ae.prototype.toString=function(){return"Future.encaseP3("+f(this._fn)+", "+l(this._a)+", "+l(this._b)+", "+l(this._c)+")"},ce.prototype=Object.create(L),ce.prototype._fork=function(t,e){var n,r,o=function(t){return function(t){return I(t)&&M(t.next)}(t)?t:S("Future.do",0,'return an iterator, maybe you forgot the "*"',t)}(this._generator()),i=lt,u=s;function a(t){if(r=t,i===pt)return c();i=ft,n=se(o.next(r))}function c(){for(n=se(o.next(r));!n.done;)if(i=lt,u=n.value._fork(t,a),i!==ft)return void(i=pt);e(n.value)}return c(),function(){u()}},ce.prototype.toString=function(){return"Future.do("+f(this._generator)+")"},fe.prototype=Object.create(L),fe.prototype._fork=function(t,e){var n,r,o,i,u=this._acquire,a=this._dispose,c=this._consume,p=s,d=s;function h(){d(i)}function y(){var e=a(o);return function(t,e,n){P(t)||x("Future.hook","the first function it's given to return a Future",t,"\n  From calling: "+f(e)+"\n  With: "+l(n))}(e,a,o),n=e._fork(t,h)}function m(){p(),y()()}function v(e){d=t,i=e,y()}function _(t){d=e,i=t,y()}return r=u._fork(t,function(t){var e=c(o=t);!function(t,e,n){P(t)||x("Future.hook","the second function it's given to return a Future",t,"\n  From calling: "+f(e)+"\n  With: "+l(n))}(e,c,o),n=m,p=e._fork(v,_)}),n=n||r,function(){n()}},fe.prototype.toString=function(){return"Future.hook("+this._acquire.toString()+", "+f(this._dispose)+", "+f(this._consume)+")"},he.prototype=Object.create(L),he.prototype._fork=function(t,e){var n=!0;return this._fn(function(r,o){n&&(n=!1,r?t(r):e(o))}),function(){n=!1}},he.prototype.toString=function(){return"Future.node("+f(this._fn)+")"},me.prototype=Object.create(L),me.prototype._fork=function(t,e){var n=this._futures,r=this._length,o=this._max,i=new Array(r),u=new Array(r),a=0,c=0,l=!1;function f(){a=r;for(var t=0;t<r;t++)i[t]&&i[t]()}function p(o){c++,i[o]=n[o]._fork(function(e){i[o]=s,f(),t(e)},function(t){i[o]=s,u[o]=t,c--,a===r&&0===c?e(u):l&&d()})}function d(){for(l=!1;a<r&&c<o;)p(a++);l=!0}return d(),f},me.prototype.toString=function(){return"Future.parallel("+this._max+", "+l(this._futures)+")"};var ve=new j([]);function _e(t,e){(function(t){return Array.isArray(t)})(e)||S("Future.parallel",1,"be an array",e);var n=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++)r[o]=e(t[o],o,t);return r}(e,ye);return 0===n.length?ve:new me(t,n)}function ge(t){this._fn=t}ge.prototype=Object.create(L),ge.prototype._fork=function(t,e){var n=!0;return function(t,e){return N(t)?t:A("Future.tryP expects the function it's given to return a Promise/Thenable\n  Actual: "+l(t)+"\n  From calling: "+f(e))}(this._fn(),this._fn).then(y(function(t){n&&(n=!1,e(t))}),y(function(e){n&&(n=!1,t(e))})),function(){n=!1}},ge.prototype.toString=function(){return"Future.tryP("+l(this._fn)+")"},"function"!=typeof Object.create&&T("Please polyfill Object.create to use Fluture"),"function"!=typeof Object.assign&&T("Please polyfill Object.assign to use Fluture"),"function"!=typeof Array.isArray&&T("Please polyfill Array.isArray to use Fluture"),F.of=F[m]=D,F.chainRec=F["fantasy-land/chainRec"]=function(t,e){return new dt(t,e)},F.reject=B,F.ap=yt,F.map=gt,F.bimap=Tt,F.chain=St;var Ee=i(F,G,Ft,function(t,e){return new Dt(t,e)});function be(t){return t instanceof Ee||r(t)===Ee["@@type"]}Ee.of=Ee[m],Ee.zero=Ee["fantasy-land/zero"],Ee.map=gt,Ee.ap=yt,Ee.alt=vt;var Te=Object.freeze({Future:F,default:F,Par:Ee,isParallel:be,seq:function(t){return be(t)||S("Future.seq",0,"to be a Par",t),t.sequential},isFuture:P,reject:B,of:D,never:G,isNever:H,after:function(t,e){return w(t)||S("Future.after",0,"be a positive integer",t),1===arguments.length?p(qt,t):qt(t,e)},rejectAfter:function(t,e){return w(t)||S("Future.rejectAfter",0,"be a positive integer",t),1===arguments.length?p(zt,t):zt(t,e)},attempt:Wt,try:Wt,cache:function(t){return P(t)||x("Future.cache",0,t),new Jt(t)},encase:function t(e,n){return M(e)||S("Future.encase",0,"be a function",e),1===arguments.length?p(t,e):new Zt(e,n)},encase2:function t(e,n,r){switch(M(e)||S("Future.encase2",0,"be a function",e),arguments.length){case 1:return p(t,e);case 2:return d(t,e,n);default:return new te(e,n,r)}},encase3:function t(e,n,r,o){switch(M(e)||S("Future.encase3",0,"be a function",e),arguments.length){case 1:return p(t,e);case 2:return d(t,e,n);case 3:return h(t,e,n,r);default:return new ee(e,n,r,o)}},encaseN:function t(e,n){return M(e)||S("Future.encaseN",0,"be a function",e),1===arguments.length?p(t,e):new ne(e,n)},encaseN2:function t(e,n,r){switch(M(e)||S("Future.encaseN2",0,"be a function",e),arguments.length){case 1:return p(t,e);case 2:return d(t,e,n);default:return new re(e,n,r)}},encaseN3:function t(e,n,r,o){switch(M(e)||S("Future.encaseN3",0,"be a function",e),arguments.length){case 1:return p(t,e);case 2:return d(t,e,n);case 3:return h(t,e,n,r);default:return new oe(e,n,r,o)}},encaseP:function t(e,n){return M(e)||S("Future.encaseP",0,"be a function",e),1===arguments.length?p(t,e):new ie(e,n)},encaseP2:function t(e,n,r){switch(M(e)||S("Future.encaseP2",0,"be a function",e),arguments.length){case 1:return p(t,e);case 2:return d(t,e,n);default:return new ue(e,n,r)}},encaseP3:function t(e,n,r,o){switch(M(e)||S("Future.encaseP3",0,"be a function",e),arguments.length){case 1:return p(t,e);case 2:return d(t,e,n);case 3:return h(t,e,n,r);default:return new ae(e,n,r,o)}},go:le,do:le,hook:function(t,e,n){return P(t)||x("Future.hook",0,t),1===arguments.length?p(de,t):2===arguments.length?de(t,e):de(t,e,n)},node:function(t){return M(t)||S("Future.node",0,"be a function",t),new he(t)},parallel:function(t,e){return w(t)||S("Future.parallel",0,"be a positive integer",t),1===arguments.length?p(_e,t):_e(t,e)},tryP:function(t){return M(t)||S("Future.tryP",0,"be a function",t),new ge(t)},ap:yt,alt:vt,map:gt,bimap:Tt,chain:St,mapRej:function(t,e){return M(t)||S("Future.mapRej",0,"be a Function",t),1===arguments.length?p(Rt,t):Rt(t,e)},chainRej:function(t,e){return M(t)||S("Future.chainRej",0,"be a Function",t),1===arguments.length?p(xt,t):xt(t,e)},lastly:Nt,finally:Nt,and:function(t,e){return P(t)||x("Future.and",0,t),1===arguments.length?p(wt,t):wt(t,e)},both:function(t,e){return P(t)||x("Future.both",0,t),1===arguments.length?p(It,t):It(t,e)},or:function(t,e){return P(t)||x("Future.or",0,t),1===arguments.length?p(Ct,t):Ct(t,e)},race:Ft,swap:function(t){return P(t)||x("Future.swap",0,t),t.swap()},fold:function(t,e,n){return M(t)||S("Future.fold",0,"be a function",t),1===arguments.length?p(Lt,t):2===arguments.length?Lt(t,e):Lt(t,e,n)},done:function(t,e){return M(t)||S("Future.done",0,"be a Function",t),1===arguments.length?p(kt,t):kt(t,e)},fork:function(t,e,n){return M(t)||S("Future.fork",0,"be a function",t),1===arguments.length?p(Bt,t):2===arguments.length?Bt(t,e):Bt(t,e,n)},promise:function(t){return P(t)||x("Future.promise",0,t),t.promise()},value:function(t,e){return M(t)||S("Future.value",0,"be a Function",t),1===arguments.length?p(jt,t):jt(t,e)},extractLeft:function(t){return P(t)||x("Future.extractLeft",0,t),t.extractLeft()},extractRight:function(t){return P(t)||x("Future.extractRight",0,t),t.extractRight()}});return Object.assign(F,Te)})}).call(this,n(42))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty;function o(t){return"function"==typeof t}function i(t){return void 0===t}function u(t){return"[object String]"===Object.prototype.toString.call(t)}e.has=function(t,e){return r.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?"COLLECTION_NULL":i(t)?"COLLECTION_UNDEFINED":u(t)?"$s"+t:"$o"+t.toString()},e.makeString=function(t,n){if(void 0===n&&(n=","),null===t)return"COLLECTION_NULL";if(i(t))return"COLLECTION_UNDEFINED";if(u(t))return t.toString();var r="{",o=!0;for(var a in t)e.has(t,a)&&(o?o=!1:r+=n,r=r+a+":"+t[a]);return r+"}"},e.isFunction=o,e.isUndefined=i,e.isString=u,e.reverseCompareFunction=function(t){return i(t)||!o(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},e.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}}},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():null!=n(1)?(o=[],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryShow=u()}(function(){"use strict";var t="@@show",e=[];function n(t){return function(e){return r(e)+": "+r(t[e])}}function r(o){if(e.indexOf(o)>=0)return"<Circular>";switch(Object.prototype.toString.call(o)){case"[object Boolean]":return"object"==typeof o?"new Boolean ("+r(o.valueOf())+")":o.toString();case"[object Number]":return"object"==typeof o?"new Number ("+r(o.valueOf())+")":1/o==-1/0?"-0":o.toString(10);case"[object String]":return"object"==typeof o?"new String ("+r(o.valueOf())+")":JSON.stringify(o);case"[object Date]":return"new Date ("+r(isNaN(o.valueOf())?NaN:o.toISOString())+")";case"[object Error]":return"new "+o.name+" ("+r(o.message)+")";case"[object Arguments]":return"function () { return arguments; } ("+Array.prototype.map.call(o,r).join(", ")+")";case"[object Array]":e.push(o);try{return"["+o.map(r).concat(Object.keys(o).sort().filter(function(t){return!/^\d+$/.test(t)}).map(n(o))).join(", ")+"]"}finally{e.pop()}case"[object Object]":e.push(o);try{return t in o&&(null==o.constructor||o.constructor.prototype!==o)?o[t]():"{"+Object.keys(o).sort().map(n(o)).join(", ")+"}"}finally{e.pop()}default:return String(o)}}return r})},function(t,e,n){"use strict";n.r(e),n.d(e,"ImageLoader",function(){return s}),n.d(e,"fetchImage",function(){return c}),n.d(e,"loadImageFromUrl",function(){return l}),n.d(e,"loadImageFromArrayBuffer",function(){return f}),n.d(e,"XhrLoader",function(){return d}),n.d(e,"fletch",function(){return h}),n.d(e,"fetchUrl",function(){return y}),n.d(e,"fetchArrayBuffer",function(){return _}),n.d(e,"fetchText",function(){return g}),n.d(e,"fetchBlob",function(){return E}),n.d(e,"fetchXml",function(){return b}),n.d(e,"fetchJson",function(){return T}),n.d(e,"fetchArrayBufferUrl",function(){return A}),n.d(e,"fetchJsonUrl",function(){return S}),n.d(e,"fetchTextUrl",function(){return R}),n.d(e,"fetchBlobUrl",function(){return x}),n.d(e,"fetchXmlUrl",function(){return M}),n.d(e,"BlobLoader",function(){return N}),n.d(e,"loadBlobAsArrayBuffer",function(){return w}),n.d(e,"loadBlobAsDataUrl",function(){return I}),n.d(e,"loadblobAsText",function(){return C}),n.d(e,"loadAudioBuffer",function(){return O}),n.d(e,"VideoPlayer",function(){return F}),n.d(e,"playVideo",function(){return P});var r=n(12),o=n(2),i=Object(r.create)({checkTypes:!1,env:r.env}),u=function(t){return void 0==t||null==t},a=function(t){return-1===t.indexOf("http://")&&-1===t.indexOf("https://")||function(t){return new(window.URL||window.webkitURL||window)(t)}(t).origin===window.location.origin},s=function(t){var e=t.url,n=t.crossOrigin;return Object(o.Future)(function(t,r){var o=new Image;o.addEventListener("load",function(){return r(o)}),o.addEventListener("error",t),i.map(function(t){return o.crossOrigin=t})(n),o.src=e})},c=function(t){return s({url:t,crossOrigin:a(t)?i.Nothing:i.Just("anonymous")})},l=c,f=function(t){var e=t.data,n=t.mimeType;return Object(o.Future)(function(t,r){var o=new Image;o.addEventListener("load",function(){return r(o)}),o.addEventListener("error",t);var i=new Uint8Array(e),u=new Blob([i],{type:n}),a=window.URL||window.webkitURL;o.src=a.createObjectURL(u)})},p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},d=function(t){return function(e){return Object(o.Future)(function(n,r){var o=p({method:"GET"},e),i=void 0!==o.xhr?o.xhr:new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===i.DONE){if(!i.status)return;200!==i.status?n(i):r(i)}};var a="form"!==o.requestType&&"query"!==o.requestType||null===o.data?"":function(t){var e="";if(!u(t))for(var n in t)t.hasOwnProperty(n)&&!u(t[n])&&(""!==e&&(e+="&"),e+=n+"="+encodeURIComponent(t[n]));return e}(o.data),s="query"===o.requestType&&""!==a?t+"?"+a:t;return i.open(o.method,s),i.responseType=o.responseType,void 0!==o.withCredentials&&(i.withCredentials=o.withCredentials),void 0!==o.headers&&o.headers.forEach(function(t){var e=t[0],n=t[1];i.setRequestHeader(e,n)}),"form"===o.requestType&&""!==a?(i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(a)):u(o.data)?i.send():i.send(o.data),function(){return i.abort()}})}},h=function(t){return function(e){return d(t)(e).map(function(t){return t.response})}},y=function(t){return h(t)(null)},m=function(t){return function(e){return function(n){return h(e)(p({},n,{responseType:t}))}}},v=function(t){return function(e){return h(e)({responseType:t})}},_=m("arraybuffer"),g=m("text"),E=m("blob"),b=m("document"),T=function(t){return function(e){return m("json")(t)(p({requestType:"query"},e))}},A=v("arraybuffer"),S=v("json"),R=v("text"),x=v("blob"),M=v("document"),N=function(t){return function(e){return Object(o.Future)(function(n,r){var o=new FileReader;return o.onload=function(){return r(o.result)},o.onerror=function(t){return n(t)},t([o,e]),function(){return o.abort()}})}},w=N(function(t){var e=t[0],n=t[1];return e.readAsArrayBuffer(n)}),I=N(function(t){var e=t[0],n=t[1];return e.readAsDataURL(n)}),C=N(function(t){var e=t[0],n=t[1];return e.readAsText(n)}),O=function(t){return function(e){return Object(o.Future)(function(n,r){t.decodeAudioData(e,r,n)})}},F=function(t){var e=t.url,n=t.crossOrigin;return Object(o.Future)(function(t,r){var o=!1,u=!1,a=document.createElement("video");a.autoplay=!0,a.muted=!0,a.loop=!0,i.map(function(t){return a.crossOrigin=t})(n);var s=function(){o&&u&&r(a)};a.addEventListener("playing",function(){o=!0,s()},!0),a.addEventListener("timeupdate",function(){u=!0,s()},!0),a.src=e,a.play()})},P=function(t){return F({url:t,crossOrigin:a(t)?i.Nothing:i.Just("anonymous")})}},function(t,e,n){"use strict";t.exports=n(97)},function(t,e,n){"use strict";n.r(e),n.d(e,"GltfAnimationTargetPath",function(){return r}),n.d(e,"GltfAnimationInterpolation",function(){return o}),n.d(e,"GltfMaterialAlphaMode",function(){return i}),n.d(e,"GltfNodeKind",function(){return u}),n.d(e,"GltfPrimitiveDrawKind",function(){return a}),n.d(e,"GltfIblExtensionName",function(){return f}),n.d(e,"GltfLightsExtensionName",function(){return p}),n.d(e,"GltfUnlitExtensionName",function(){return d}),n.d(e,"CameraKind",function(){return h}),n.d(e,"NodeKind",function(){return y}),n.d(e,"LightKind",function(){return m}),n.d(e,"WebGlConstants",function(){return v}),n.d(e,"createVec2",function(){return _}),n.d(e,"createVec4",function(){return g}),n.d(e,"createVec3",function(){return E}),n.d(e,"createMat4",function(){return b}),n.d(e,"createQuat",function(){return T}),n.d(e,"createIdentityMat4",function(){return A}),n.d(e,"getTrsFromMatrix",function(){return S}),n.d(e,"getMatrixFromTrs",function(){return R}),n.d(e,"getModelMatrix",function(){return x}),n.d(e,"getNormalMatrix",function(){return M}),n.d(e,"getViewMatrices",function(){return N}),n.d(e,"updateTransform",function(){return w}),n.d(e,"getCameraProjection",function(){return I}),n.d(e,"getCameraView",function(){return C}),n.d(e,"getCameraPosition",function(){return O}),n.d(e,"updateCameraWithTransform",function(){return F}),n.d(e,"filterNodeDeep",function(){return P}),n.d(e,"filterNodesDeep",function(){return L}),n.d(e,"forEachNode",function(){return k}),n.d(e,"forEachNodes",function(){return U}),n.d(e,"countNodes",function(){return B}),n.d(e,"findNode",function(){return j}),n.d(e,"mapNode",function(){return D}),n.d(e,"mapNodeWithParent",function(){return V}),n.d(e,"mapNodesWithParent",function(){return G}),n.d(e,"mapNodes",function(){return H}),n.d(e,"updateNodeTransforms",function(){return q}),n.d(e,"updateNodeListTransforms",function(){return z}),n.d(e,"createPointLight",function(){return X}),n.d(e,"gltf_setAnimationTime",function(){return ot}),n.d(e,"gltf_createAnimator",function(){return it}),n.d(e,"gltf_load",function(){return Yt}),n.d(e,"gltf_serializeScene",function(){return Qt}),n.d(e,"gltf_parseScene",function(){return Jt}),n.d(e,"gltf_updatePrimitiveShaderConfig",function(){return Zt}),n.d(e,"gltf_updateNodeTransforms",function(){return te}),n.d(e,"gltf_findNodeById",function(){return ee}),n.d(e,"gltf_setJointTransforms",function(){return ne}),n.d(e,"createAttributes",function(){return oe}),n.d(e,"createWebGlBuffers",function(){return ie}),n.d(e,"makeFramebufferPicker",function(){return ue}),n.d(e,"createWebGlRenderer",function(){return fe}),n.d(e,"activateShader",function(){return kt}),n.d(e,"createShader",function(){return Ut}),n.d(e,"createTextureSwitcher",function(){return ct}),n.d(e,"createTextureFromTarget",function(){return lt}),n.d(e,"createCubeTextureFromTarget",function(){return ft}),n.d(e,"textureSetterSimple",function(){return pt}),n.d(e,"createSimpleTextureFromTarget",function(){return dt}),n.d(e,"createUniforms",function(){return Ot}),n.d(e,"getVersionString",function(){return se}),n.d(e,"getMajorVersion",function(){return le}),n.d(e,"createVertexArrays",function(){return ae});var r,o,i,u,a,s=n(0),c=n(2),l=n(5);!function(t){t[t.TRANSLATION=1]="TRANSLATION",t[t.ROTATION=2]="ROTATION",t[t.SCALE=3]="SCALE",t[t.WEIGHTS=4]="WEIGHTS"}(r||(r={})),function(t){t[t.LINEAR=1]="LINEAR",t[t.STEP=2]="STEP",t[t.CUBICSPLINE=3]="CUBICSPLINE"}(o||(o={})),function(t){t[t.OPAQUE=1]="OPAQUE",t[t.MASK=2]="MASK",t[t.BLEND=3]="BLEND"}(i||(i={})),function(t){t[t.MESH=3]="MESH",t[t.SKIN=4]="SKIN"}(u||(u={})),function(t){t[t.ELEMENTS=1]="ELEMENTS",t[t.ARRAY=2]="ARRAY"}(a||(a={}));const f="PURE3D_IBL",p="KHR_lights",d="KHR_Unlit";var h,y,m,v;!function(t){t[t.PERSPECTIVE=0]="PERSPECTIVE",t[t.ORTHOGRAPHIC=1]="ORTHOGRAPHIC"}(h||(h={})),function(t){t[t.CAMERA=1]="CAMERA",t[t.LIGHT=2]="LIGHT"}(y||(y={})),function(t){t[t.Ambient=1]="Ambient",t[t.Directional=2]="Directional",t[t.Point=3]="Point",t[t.Spot=4]="Spot"}(m||(m={})),function(t){t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_ATTRIBUTE_MAX_LENGTH=35722]="ACTIVE_ATTRIBUTE_MAX_LENGTH",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_UNIFORM_MAX_LENGTH=35719]="ACTIVE_UNIFORM_MAX_LENGTH",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALPHA=6406]="ALPHA",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.ALWAYS=519]="ALWAYS",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.BACK=1029]="BACK",t[t.BLEND=3042]="BLEND",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.BYTE=5120]="BYTE",t[t.CCW=2305]="CCW",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CULL_FACE=2884]="CULL_FACE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.CW=2304]="CW",t[t.DECR=7683]="DECR",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DITHER=3024]="DITHER",t[t.DONT_CARE=4352]="DONT_CARE",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.EQUAL=514]="EQUAL",t[t.FASTEST=4353]="FASTEST",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRONT=1028]="FRONT",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.GEQUAL=518]="GEQUAL",t[t.GREATER=516]="GREATER",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.INCR=7682]="INCR",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.INFO_LOG_LENGTH=35716]="INFO_LOG_LENGTH",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVERT=5386]="INVERT",t[t.KEEP=7680]="KEEP",t[t.LEQUAL=515]="LEQUAL",t[t.LESS=513]="LESS",t[t.LINEAR=9729]="LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.NEAREST=9728]="NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.NEVER=512]="NEVER",t[t.NICEST=4354]="NICEST",t[t.NONE=0]="NONE",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.NO_ERROR=0]="NO_ERROR",t[t.NUM_COMPRESSED_TEXTURE_FORMATS=34466]="NUM_COMPRESSED_TEXTURE_FORMATS",t[t.ONE=1]="ONE",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.POINTS=0]="POINTS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.RED_BITS=3410]="RED_BITS",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERER=7937]="RENDERER",t[t.REPEAT=10497]="REPEAT",t[t.REPLACE=7681]="REPLACE",t[t.RGB=6407]="RGB",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.RGBA=6408]="RGBA",t[t.RGBA4=32854]="RGBA4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.SHADER_COMPILER=36346]="SHADER_COMPILER",t[t.SHADER_SOURCE_LENGTH=35720]="SHADER_SOURCE_LENGTH",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.SHORT=5122]="SHORT",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.VENDOR=7936]="VENDOR",t[t.VERSION=7938]="VERSION",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.VIEWPORT=2978]="VIEWPORT",t[t.ZERO=0]="ZERO"}(v||(v={}));const _=()=>new Float64Array(2),g=()=>new Float64Array(4),E=()=>new Float64Array(3),b=()=>new Float64Array(16),T=()=>new Float64Array(4),A=()=>s.mat4.identity(b()),S=t=>{const e=s.mat4.getScaling(E(),t),n=s.mat4.scale(b(),t,[1/e[0],1/e[1],1/e[2]]);return{translation:s.mat4.getTranslation(E(),t),rotation:s.mat4.getRotation(g(),n),scale:e}},R=t=>s.mat4.fromRotationTranslationScale(b(),t.rotation,t.translation,t.scale),x=t=>e=>t?s.mat4.multiply(b(),t,e):e.slice(),M=t=>s.mat4.transpose(s.mat4.create(),s.mat4.invert(s.mat4.create(),t)),N=t=>e=>{const n=s.mat4.multiply(s.mat4.create(),t.view,e);return{modelViewMatrix:n,modelViewProjectionMatrix:s.mat4.multiply(s.mat4.create(),t.projection,n)}},w=t=>e=>n=>{const r=t.updateLocal?R(n.trs):n.localMatrix,o=t.updateModel?x(e)(r):n.modelMatrix,i=t.updateModel&&n.normalMatrix?M(o):void 0,{modelViewMatrix:u,modelViewProjectionMatrix:a}=t.updateView?N(t.camera)(o):n;return Object.assign({},n,{localMatrix:r,modelMatrix:o,normalMatrix:i,modelViewMatrix:u,modelViewProjectionMatrix:a})},I=t=>t.kind==h.ORTHOGRAPHIC?(t=>{const e=b(),n=t.xmag,r=t.ymag,o=t.znear,i=t.zfar;return e[0]=1/n,e[5]=1/r,e[10]=2/(o-i),e[14]=(i+o)/(o-i),e[15]=1,e})(t):(t=>{const e=b(),n=t.aspectRatio,r=t.yfov,o=t.znear,i=t.zfar;return e[0]=1/(n*Math.tan(.5*r)),e[5]=1/Math.tan(.5*r),e[10]=void 0===i?-1:(i+o)/(o-i),e[11]=-1,e[14]=void 0===i?-2*o:2*i*o/(o-i),e})(t),C=t=>s.mat4.invert(b(),t),O=t=>s.mat4.getTranslation(E(),t),F=t=>e=>Object.assign({},e,{position:s.mat4.getTranslation(E(),t.localMatrix),view:C(t.modelMatrix),projection:I(e)}),P=t=>e=>{if(void 0!==e&&t(e))return e.children?Object.assign({},e,{children:e.children.map(P(t)).filter(t=>t)}):e},L=t=>e=>e.map(P(t)).filter(t=>t),k=t=>e=>{!0!==t(e)&&e.children&&e.children.forEach(k(t))},U=t=>e=>e.forEach(k(t)),B=t=>{let e=0;return U(()=>(e++,null))(t),e},j=t=>e=>{let n;const r=e=>{if(t(e))return n=e,!0};return Array.isArray(e)?U(r)(e):k(r)(e),n},D=t=>e=>{const n=t(e);return n.children?Object.assign(n,{children:n.children.map(D(t))}):n},V=t=>e=>n=>{const r=t(e)(n);return r.children?Object.assign(r,{children:r.children.map(V(t)(r))}):r},G=t=>e=>n=>n.map(V(t)(e)),H=t=>e=>e.map(D(t)),q=t=>e=>n=>V(e=>n=>{const r=e?e.transform.modelMatrix:void 0,o=w(t)(r)(n.transform);return Object.assign({},n,{transform:o})})(e)(n),z=t=>e=>n=>G(q(t))(e)(n),X=()=>{},W=({v0:t,v1:e,t:n})=>{if("number"==typeof t&&"number"==typeof e)return t*(1-n)+e*n;const r=t,o=e;if(r.length!==o.length)throw new Error("different length of animation values");switch(r.length){case 1:return W({v0:r[0],v1:o[0],t:n});case 2:return s.vec2.lerp(s.vec2.create(),r,o,n);case 3:return s.vec3.lerp(s.vec3.create(),r,o,n);case 4:return s.vec4.lerp(s.vec4.create(),r,o,n)}},K=(t=>e=>n=>{const r=e.length-1,o=([r,o])=>{if(r===o)return!1;if(r<0||o<1)return!1;const i=t(e[r]),u=t(e[o]);return n>i&&n<u},i=([r,u])=>{if(u>=r){const a=0|r+(u-r)/2,s=t(e[a]);return s==n?a:o([a-1,a])?[a-1,a]:o([a,a+1])?[a,a+1]:i(s>n?[r,a-1]:[a+1,u])}return-1};return i([0,r])})(t=>t.timing),$={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Y={[v.BYTE]:1,[v.UNSIGNED_BYTE]:1,[v.SHORT]:2,[v.UNSIGNED_SHORT]:2,[v.UNSIGNED_INT]:4,[v.FLOAT]:4},Q=({buffer:t,componentType:e})=>{switch(e){case v.BYTE:return new Int8Array(t);case v.UNSIGNED_BYTE:return new Uint8Array(t);case v.SHORT:return new Int16Array(t);case v.UNSIGNED_SHORT:return new Uint16Array(t);case v.UNSIGNED_INT:return new Uint32Array(t);case v.FLOAT:return new Float32Array(t);default:throw new Error("unknown accessor component type!")}},J=({info:t,buffers:e})=>void 0===t.bufferViewIndex?Q({buffer:new ArrayBuffer(t.bufferLength),componentType:t.componentType}):Q({buffer:e[t.bufferIndex].slice(t.byteOffset,t.byteOffset+t.bufferLength),componentType:t.componentType}),Z=({gltf:t,info:e,buffers:n})=>{const r=J({info:e,buffers:n});if(e.sparse){const t=$[e.accessorType],o=J({info:e.sparse.indices,buffers:n}),i=J({info:e.sparse.values,buffers:n});o.map(e=>e*t).forEach((e,n)=>{for(let o=0;o<t;o++)r[e+o]=i[o+n*t]})}return r},tt=({gltf:t,accessorId:e})=>{const n=t.accessors[e],r=(({gltf:t,accessor:e})=>{const n=e.count*$[e.type]*Y[e.componentType];if(void 0===e.bufferView){if(void 0===e.sparse)throw new Error("accessor must either be sparse or have a buffer view");return{bufferLength:n,componentType:e.componentType,accessorType:e.type}}const r=t.bufferViews[e.bufferView],o=(void 0===r.byteOffset?0:r.byteOffset)+(void 0===e.byteOffset?0:e.byteOffset);return{bufferLength:(r.byteStride?r.byteStride:0)*$[e.type]*Y[e.componentType]+n,componentType:e.componentType,bufferViewIndex:e.bufferView,bufferIndex:r.buffer,byteOffset:o,accessorType:e.type}})({gltf:t,accessor:n});return n.sparse&&(r.sparse={indices:(({gltf:t,accessor:e})=>{const n=e.sparse.indices,r=e.sparse.count*Y[n.componentType],o=t.bufferViews[n.bufferView],i=(void 0===o.byteOffset?0:o.byteOffset)+(void 0===n.byteOffset?0:n.byteOffset);return{bufferLength:r,componentType:n.componentType,bufferViewIndex:e.bufferView,bufferIndex:o.buffer,byteOffset:i,accessorType:e.type}})({gltf:t,accessor:n}),values:(({gltf:t,accessor:e})=>{const n=e.sparse.values,r=e.sparse.count*$[e.type]*Y[e.componentType],o=t.bufferViews[n.bufferView],i=(void 0===o.byteOffset?0:o.byteOffset)+(void 0===n.byteOffset?0:n.byteOffset);return{bufferLength:r,componentType:e.componentType,bufferViewIndex:e.bufferView,bufferIndex:o.buffer,byteOffset:i,accessorType:e.type}})({gltf:t,accessor:n})}),r},et={[r.WEIGHTS]:"weights",[r.TRANSLATION]:"translation",[r.ROTATION]:"rotation",[r.SCALE]:"scale"},nt={weights:r.WEIGHTS,translation:r.TRANSLATION,rotation:r.ROTATION,scale:r.SCALE},rt={linear:o.LINEAR,step:o.STEP,cubicspline:o.CUBICSPLINE},ot=t=>e=>n=>{const i=K(t.keyframes)(e);if(-1===i)return;const u=Array.isArray(i)?(({k0:t,k1:e,time:n,interpolation:i,targetPath:u})=>{const a=t.values,c=e.values,l=(n-t.timing)/(e.timing-t.timing);switch(i){case o.LINEAR:return u===r.ROTATION?s.quat.slerp(s.quat.create(),a,c,l):W({v0:a,v1:c,t:l});case o.STEP:return a;case o.CUBICSPLINE:throw new Error("cubicspline is not supported yet!");default:throw new Error("unsupported interpolation ")}})({k0:t.keyframes[i[0]],k1:t.keyframes[i[1]],interpolation:t.interpolation,targetPath:t.targetPath,time:e}):t.keyframes[i].values;return Object.assign({},n,t.targetPath===r.WEIGHTS?{morphWeights:u}:{transform:Object.assign({},n.transform,{trs:Object.assign({},n.transform.trs,{[et[t.targetPath]]:u})})})},it=t=>({loop:e})=>{const n=new Map;let r;return t.forEach((t,e)=>n.set(e,0)),o=>i=>{const u=void 0===r?0:(o-r)/1e3;return r=o,t.forEach((t,r)=>{let o=n.get(r)+u;if(!0===e)for(;o>t.timeMax;)o-=t.timeMax;o>=t.timeMin&&o<=t.timeMax&&(i=H(e=>-1!==e.animationIds.indexOf(r)?ot(t)(o)(e):e)(i)),n.set(r,o)}),i}},ut=["a_Position","a_Normal","a_Tangent","a_UV","a_Color","a_Morph_0","a_Morph_1","a_Morph_2","a_Morph_3","a_Morph_4","a_Morph_5","a_Morph_6","a_Morph_7","a_Skin_Joint","a_Skin_Weight"],at=Symbol(),st=t=>{if(!0!==t.extras[at]){if(t.version>1)throw new Error("GLTF Renderering only supports WebGL 1.0 for now");ut.forEach(e=>{t.attributes.globalLocations.add(e)}),t.getExtension("OES_standard_derivatives"),t.getExtension("EXT_shader_texture_lod"),t.getExtension("EXT_SRGB"),t.getExtension("OES_element_index_uint"),t.extras[at]=!0}},ct=t=>{const e=new Map,n=n=>r=>o=>(e.has(r)&&(()=>{const t=e.get(r);return t.target===n&&t.texture===o})()||(t.activeTexture(t.TEXTURE0+r),t.bindTexture(n,o),e.set(r,{target:n,texture:o})),o);return{switchTexture:n(v.TEXTURE_2D),switchCubeTexture:n(v.TEXTURE_CUBE_MAP)}},lt=t=>e=>{const{gl:n}=t,r=n.createTexture(),o=v.TEXTURE_2D,i=t.dataSize||n.UNSIGNED_BYTE;return n.bindTexture(o,r),t.setParameters(t),(Array.isArray(e)?e:[e]).forEach((e,r)=>{e instanceof Element?n.texImage2D(o,r,t.format,t.format,i,e):n.texImage2D(o,r,t.format,t.width,t.height,0,t.format,i,e)}),r},ft=t=>e=>{const{gl:n}=t,r=n.createTexture(),o=v.TEXTURE_CUBE_MAP,i=t.dataSize||n.UNSIGNED_BYTE;return n.bindTexture(o,r),t.setParameters(t),(Array.isArray(e)?e:[e]).forEach((e,r)=>{Object.keys(e).forEach(o=>{const u=(t=>{switch(o){case"posX":return v.TEXTURE_CUBE_MAP_POSITIVE_X;case"negX":return v.TEXTURE_CUBE_MAP_NEGATIVE_X;case"posY":return v.TEXTURE_CUBE_MAP_POSITIVE_Y;case"negY":return v.TEXTURE_CUBE_MAP_NEGATIVE_Y;case"posZ":return v.TEXTURE_CUBE_MAP_POSITIVE_Z;case"negZ":return v.TEXTURE_CUBE_MAP_NEGATIVE_Z}})(),a=e[o];a instanceof Element?n.texImage2D(u,r,t.format,t.format,i,a):n.texImage2D(u,r,t.format,t.width,t.height,0,t.format,i,a)})}),r},pt=t=>e=>{const{gl:n,width:r,height:o}=e,i=t=>0==(t&t-1);t.flipY?n.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!0):n.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1),i(r)&&i(o)&&!0===t.useMips?n.generateMipmap(v.TEXTURE_2D):(n.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,t.wrapS?t.wrapS:v.CLAMP_TO_EDGE),n.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,t.wrapT?t.wrapT:v.CLAMP_TO_EDGE),n.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,t.filterMin?t.filterMin:v.LINEAR),n.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,t.filterMag?t.filterMag:v.LINEAR))},dt=t=>e=>lt({gl:t.gl,format:t.alpha?v.RGBA:v.RGB,setParameters:pt(t)})(e),ht=t=>{--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},yt={filterMin:v.LINEAR,filterMag:v.LINEAR,wrapS:v.REPEAT,wrapT:v.REPEAT},mt=t=>{const e=t.lastIndexOf("/")+1,n=t.lastIndexOf("\\")+1;return e||n?t.substr(0,e>n?e:n):t},vt=t=>t.extensionsUsed&&-1!==t.extensionsUsed.indexOf(f)?t.extensions[f]:null,_t=t=>t.extensionsUsed&&-1!==t.extensionsUsed.indexOf(p)?t.extensions[p].lights:null,gt=t=>{const e={kind:{ambient:m.Ambient,directional:m.Directional,point:m.Point,spot:m.Spot}[t.type],color:t.color?Float64Array.from(t.color):Float64Array.from([1,1,1]),intensity:void 0!==t.intensity?t.intensity:1};return e.kind===m.Spot&&(e.innerConeAngle=t.spot&&void 0!==t.spot.innerConeAngle?t.spot.innerConeAngle:0,e.outerConeAngle=t.spot&&void 0!==t.spot.outerConeAngle?t.spot.outerConeAngle:Math.PI/4),e},Et=[{loadAssets:({gltf:t,coreData:e})=>{const n=vt(t),r=n?n.path:"";return""===r?c.Future.of(e):Object(l.fetchJsonUrl)(r).chain(t=>{const e=mt(r),n=Array();n.push(t.brdf.url),Object.keys(t.cubeMaps).forEach(e=>{t.cubeMaps[e].urls.forEach(t=>{t.forEach(t=>{n.push(e+"/"+t)})})});const o=n.map(t=>Object(l.fetchImage)(e+t).map(e=>({url:t,img:e})));return Object(c.parallel)(1/0,o).map(t=>{const e=new Map;return t.forEach(t=>{e.set(t.url,t.img)}),e}).map(e=>({jsonData:t,imageMap:e}))}).map(t=>Object.assign({},e,{extensions:Object.assign({},e.extensions,{ibl:t})}))},createData:({gltf:t,assets:e,renderer:n})=>t=>{if(!e.extensions.ibl)return t;st(n);const r=n.gl,{jsonData:o,imageMap:i}=e.extensions.ibl,u={brdf:lt({gl:r,format:o.brdf.colorSpace,setParameters:()=>{r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.texParameteri(v.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(v.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(v.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(v.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR)}})(i.get(o.brdf.url)),cubeMaps:{},useLod:!1};return Object.keys(o.cubeMaps).forEach(t=>{o.cubeMaps[t].urls.length>1&&(u.useLod=!0),u.cubeMaps[t]=(t=>e=>({colorSpace:n,urls:o})=>{const i=["posX","negX","posY","negY","posZ","negZ"];let u=[];return o.forEach(n=>{const r={};n.forEach((n,o)=>{const u=t.get(e+"/"+n);r[i[o]]=u}),u.push(r)}),ft({gl:r,format:n,setParameters:t=>{r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),o.length>1?(r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR)):(r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR))}})(u)})(i)(t)(o.cubeMaps[t])}),Object.assign({},t,{extensions:Object.assign({},t.extensions,{ibl:u})})},createScene:t=>e=>e=>{const n=vt(t),r=n?n.settings:void 0;return r?Object.assign({},e,{extensions:Object.assign({},e.extensions,{ibl:r})}):e},createNode:t=>t=>t=>t,initialShaderConfig:({data:t,primitive:e})=>e=>t.extensions.ibl?Object.assign({},e,{extensions:Object.assign({},e.extensions,{ibl:{useLod:t.extensions.ibl.useLod}})}):e,runtimeShaderConfig:({data:t,scene:e,primitive:n})=>t=>t,shaderSource:({data:t,primitive:e})=>e=>{if(t.extensions.ibl){const n=[];n.push("USE_IBL"),t.extensions.ibl.useLod&&n.push("USE_TEX_LOD");const r=n.map(t=>`#define ${t} 1\n`).join("");return Object.assign({},e,{vertex:r+e.vertex,fragment:r+e.fragment})}return e}},{loadAssets:({gltf:t,coreData:e})=>c.Future.of(e),createData:({gltf:t,assets:e,renderer:n})=>t=>t,createScene:t=>e=>n=>{const r=_t(t),o=e.extensions&&e.extensions.hasOwnProperty(p)?e.extensions[p]:void 0;if(!r||!o)return n;const i=gt(r[o.light]);if(i.kind!==m.Ambient)throw new Error("scene light is not ambient");return Object.assign({},n,{light:i})},createNode:t=>e=>n=>{const r=_t(t),o=e.extensions&&e.extensions.hasOwnProperty(p)?e.extensions[p]:void 0;if(!r||!o)return n;const i=gt(r[o.light]);if(n.kind)throw new Error("node cannot be both a light and some other kind...");return Object.assign({},n,{kind:y.LIGHT,light:i})},initialShaderConfig:({data:t,primitive:e})=>t=>t,runtimeShaderConfig:({data:t,scene:e,primitive:n})=>t=>{let n=0,r=0,o=0,i=!!e.light;e.nodes.forEach(t=>{if(t.kind===y.LIGHT)switch(t.light.kind){case m.Ambient:i=!0;break;case m.Directional:r++;break;case m.Point:n++;break;case m.Spot:o++}});const u={nPointLights:n,nDirectionalLights:r,nSpotLights:o,hasAmbient:i};return Object.assign({},t,{extensions:Object.assign({},t.extensions,{lights:u})})},shaderSource:({data:t,primitive:e})=>t=>{if(e.shaderConfig.extensions.lights){const n=[],{hasAmbient:r,nPointLights:o,nDirectionalLights:i,nSpotLights:u}=e.shaderConfig.extensions.lights;if((o>10||i>10||u>10)&&console.warn("Only 10 lights of each kind are supported"),!(r||o||i||u))return t;n.push("USE_KHR_LIGHTS"),r&&n.push("KHR_LIGHTS_AMBIENT");const a=n.map(t=>`#define ${t} 1\n`).join("");return Object.assign({},t,{vertex:(t=>t.replace("%KHR_LIGHTS_VARS%","").replace("%KHR_LIGHTS_FUNCS%",""))(a+t.vertex),fragment:(t=>e=>(t.shaderConfig.extensions.lights.nDirectionalLights,e.replace("%KHR_LIGHTS_VARS%","").replace("%KHR_LIGHTS_FUNCS%","")))(e)(a+t.fragment)})}return t}}],bt=({basePath:t,gltf:e,glbBuffers:n})=>Et.map(t=>t.loadAssets).reduce((t,n)=>(t=t.chain(t=>n({gltf:e,coreData:t})),t),(({basePath:t,gltf:e,glbBuffers:n})=>Object(c.parallel)(1/0,e.buffers.map((e,r)=>void 0!==n&&r<n.length?c.Future.of(n[r].slice(0,e.byteLength)):0===e.uri.indexOf("data:")?Object(l.fetchArrayBufferUrl)(e.uri):Object(l.fetchArrayBufferUrl)(t+e.uri))))({basePath:t,gltf:e,glbBuffers:n}).chain(n=>(({basePath:t,gltf:e,buffers:n})=>Object(c.parallel)(1/0,e.images&&e.images.length?e.images.map(r=>void 0!==r.bufferView?Object(l.loadImageFromArrayBuffer)({data:(t=>{const r=e.bufferViews[t],o=r.buffer,i=void 0===r.byteOffset?0:r.byteOffset;return n[o].slice(i,i+r.byteLength)})(r.bufferView),mimeType:r.mimeType}):0===r.uri.indexOf("data:")?Object(l.fetchImage)(r.uri):Object(l.fetchImage)(t+r.uri)):[]))({basePath:t,gltf:e,buffers:n}).map(t=>({buffers:n,imageElements:t,extensions:{}})))),Tt=({gltf:t,assets:e,renderer:n,config:o})=>{st(n);const{imageElements:i,buffers:u}=e,a=(({renderer:t,gltf:e,imageElements:n})=>{const r=new Map,{gl:o}=t;return e.textures&&e.textures.forEach((i,u)=>{const a=Object.assign({},yt,void 0===i.sampler?void 0:e.samplers[i.sampler]),s=(({renderer:t,gltf:e,textureId:n})=>{const r=v.RGBA;for(let t=0;t<e.materials.length;t++){const r=e.materials[t];if(r.emissiveTexture&&r.emissiveTexture.index===n)return 35906;if(r.normalTexture&&r.normalTexture.index===n)return v.RGBA;if(r.occlusionTexture&&r.occlusionTexture.index===n)return v.RGBA;if(r.pbrMetallicRoughness){if(r.pbrMetallicRoughness.baseColorTexture&&r.pbrMetallicRoughness.baseColorTexture.index===n)return 35906;if(r.pbrMetallicRoughness.metallicRoughnessTexture&&r.pbrMetallicRoughness.metallicRoughnessTexture.index===n)return v.RGBA}}return r})({renderer:t,gltf:e,textureId:u}),c=n[i.source],{wrapS:l,wrapT:f,filterMin:p,filterMag:d}=a,h=(({wrapS:t,wrapT:e,filterMin:n,filterMag:r,sampler:o})=>t===v.REPEAT||t===v.MIRRORED_REPEAT||e===v.REPEAT||e===v.MIRRORED_REPEAT||n===v.NEAREST_MIPMAP_NEAREST||n===v.NEAREST_MIPMAP_LINEAR||n===v.LINEAR_MIPMAP_NEAREST||n===v.LINEAR_MIPMAP_LINEAR)({wrapS:l,wrapT:f,filterMin:p,filterMag:d,sampler:a})&&!(t=>{const e=t=>0==(t&t-1);return e(t.naturalWidth)&&e(t.naturalHeight)})(c)?(t=>{const e=document.createElement("canvas");return e.width=ht(t.width),e.height=ht(t.height),e.getContext("2d").drawImage(t,0,0,e.width,e.height),e})(c):c,y=lt({gl:o,format:s,setParameters:()=>{o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1),o.pixelStorei(o.UNPACK_COLORSPACE_CONVERSION_WEBGL,o.NONE),o.texParameteri(v.TEXTURE_2D,o.TEXTURE_WRAP_S,l),o.texParameteri(v.TEXTURE_2D,o.TEXTURE_WRAP_T,f),o.texParameteri(v.TEXTURE_2D,o.TEXTURE_MIN_FILTER,p),o.texParameteri(v.TEXTURE_2D,o.TEXTURE_MAG_FILTER,d)}})(h);r.set(u,y)}),r})({renderer:n,gltf:t,imageElements:i}),s=(({gltf:t,buffers:e,renderer:n})=>{const r=new Map,o=new Map,i=[];t.meshes&&t.meshes.forEach(t=>{t.primitives.forEach(t=>{void 0!==t.indices&&i.push(t.indices)})}),t.accessors.map((t,e)=>({accessor:t,accessorId:e})).filter(({accessorId:e})=>(({gltf:t,accessorId:e})=>!!t.nodes&&t.nodes.some(n=>void 0!==n.mesh&&t.meshes[n.mesh].primitives.some(t=>t.indices===e||Object.keys(t.attributes).some(n=>t.attributes[n]===e)||t.targets&&t.targets.some(t=>Object.keys(t).some(n=>t[n]===e)))))({gltf:t,accessorId:e})).forEach(({accessor:u,accessorId:a})=>{const s=-1!==i.indexOf(a),c=tt({gltf:t,accessorId:a}),l=(({gltf:t,accessor:e,info:n})=>{const r=$[e.type],o=void 0===e.bufferView?void 0:t.bufferViews[e.bufferView],i=void 0===o||void 0===o.byteStride?0:o.byteStride;return{size:r,type:e.componentType,normalized:void 0!==e.normalized&&e.normalized,stride:i,offset:n.sparse||!e.byteOffset?0:e.byteOffset}})({gltf:t,accessor:u,info:c});let f,p;if(u.sparse)f=Symbol(`accessor ${a}`),p=Z({gltf:t,buffers:e,info:c}).buffer;else{if(!r.has(c.bufferViewIndex)){const n=t.bufferViews[c.bufferViewIndex],o=n.byteOffset?n.byteOffset:0;r.set(c.bufferViewIndex,{rendererBufferId:Symbol(`${c.bufferViewIndex}`),buffer:e[c.bufferIndex].slice(o,o+n.byteLength)})}const n=r.get(c.bufferViewIndex);f=n.rendererBufferId,p=n.buffer}n.buffers.assign(f)({target:s?v.ELEMENT_ARRAY_BUFFER:v.ARRAY_BUFFER,usagePattern:v.STATIC_DRAW,data:p}),o.set(a,{strategy:l,rendererBufferId:f})});const u=new Map;return{accessorLookup:o,vaoIdLookup:u}})({gltf:t,buffers:u,renderer:n}),c=(({gltf:t,buffers:e})=>{const n=new Map;let o=0;return t.animations&&t.animations.forEach(i=>{i.channels.filter(t=>void 0!==t.target.node).forEach(u=>{const a=nt[u.target.path.toLowerCase()],s=i.samplers[u.sampler],c=rt[s.interpolation?s.interpolation.toLowerCase():"linear"],l=t.accessors[s.input],f=Z({gltf:t,buffers:e,info:tt({gltf:t,accessorId:s.input})}),p=Z({gltf:t,buffers:e,info:tt({gltf:t,accessorId:s.output})}),d=t.accessors[s.output];let h=new Array(f.length);f.forEach((t,e)=>{const n=a===r.WEIGHTS?p.length/f.length:$[d.type];h[e]={timing:t,values:1===n?p[e]:p.subarray(e*n,(e+1)*n)}}),n.set(o++,{keyframes:h,interpolation:c,targetPath:a,timeMin:l.min[0],timeMax:l.max[0]})})}),n})({gltf:t,buffers:u}),l=new Map;return Et.map(t=>t.createData).reduce((r,o)=>(r=o({gltf:t,assets:e,renderer:n})(r),r),{original:t,animations:c,attributes:s,textures:a,shaders:l,initConfig:o,extensions:{}})},At=function(){var t=new Array(128),e=String.fromCodePoint||String.fromCharCode,n=[];return function(r){var o,i,u=r.length;n.length=0;for(var a=0;a<u;)(i=r[a++])<=127?o=i:i<=223?o=(31&i)<<6|63&r[a++]:i<=239?o=(15&i)<<12|(63&r[a++])<<6|63&r[a++]:String.fromCodePoint?o=(7&i)<<18|(63&r[a++])<<12|(63&r[a++])<<6|63&r[a++]:(o=63,a+=3),n.push(t[o]||(t[o]=e(o)));return n.join("")}}(),St=t=>{const e=new Uint8Array(t),n=window.TextDecoder?new TextDecoder("utf-8").decode(e):At(e);return JSON.parse(n)},Rt=t=>e=>{const n=new DataView(e,t,8),r=n.getUint32(0,!0),o=n.getUint32(4,!0),i=t+8,u=i+r,a=e.slice(i,u),s=[1313821514===o?St(a):5130562===o?a:null,u];return null===s[0]&&console.log(`unknown chunk type: ${o}`),s},xt=t=>(t=>1179937895===(t=>{const e=new DataView(t,0,12);return{magic:e.getUint32(0,!0),version:e.getUint32(4,!0),length:e.getUint32(8,!0)}})(t).magic)(t)?(t=>{const[e,n]=Rt(12)(t),r=new Array;let o=n;for(;o<t.byteLength;){const[e,n]=Rt(o)(t);null!==e&&r.push(e),o+=n}return{gltf:e,glbBuffers:r}})(t):{gltf:St(t),glbBuffers:[]};let Mt=0;const Nt={POSITION:"a_Position",NORMAL:"a_Normal",TANGENT:"a_Tangent",TEXCOORD_0:"a_UV",COLOR_0:"a_Color",JOINTS_0:"a_Skin_Joint",WEIGHTS_0:"a_Skin_Weight"},wt=t=>t.sort((t,e)=>{if(t===e)return 0;const n=["POSITION","NORMAL","TANGENT","TEXCOOR_0","COLOR_0","JOINTS_0","WEIGHTS_0"],r=n.indexOf(t),o=n.indexOf(e);return r<o?-1:r>o?1:0}),It=t=>wt(Object.keys(t.attributes));var Ct;!function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT"}(Ct||(Ct={}));const Ot=({renderer:t,activateShader:e})=>{const{gl:n}=t,r={uniformLocations:new Map,uniformValues:new Map,uniformSingleValues:new Map,uniformMatrixTranspose:new Map},o=t=>{const{program:o}=e();return r.uniformLocations.has(t)||r.uniformLocations.set(t,n.getUniformLocation(o,t)),r.uniformLocations.get(t)},i=t=>null!==t&&void 0!==t&&-1!=t,u=t=>e=>{if(!r.uniformValues.has(t))return!1;const n=r.uniformValues.get(t);if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0},a=t=>e=>n=>{if(!r.uniformValues.has(e)){switch(t){case Ct.FLOAT:r.uniformValues.set(e,new Float32Array(n.length));break;case Ct.INT:r.uniformValues.set(e,new Int32Array(n.length))}return}const o=r.uniformValues.get(e);for(let t=0;t<n.length;t++)o[t]=n[t]},s=t=>e=>n=>{if(!r.uniformSingleValues.has(e)||r.uniformSingleValues.get(e)!==n){r.uniformSingleValues.set(e,n);const u=o(e);i(u)&&t(u)(n)}},c=t=>e=>n=>s=>{if(!u(n)(s)){a(t)(n)(s);const u=o(n);i(u)&&e(u)(r.uniformValues.get(n))}},l=t=>e=>n=>s=>c=>{if(!r.uniformMatrixTranspose.has(n)||r.uniformMatrixTranspose.get(n)!==s||!u(n)(c)){a(t)(n)(c),r.uniformMatrixTranspose.set(n,s);const u=o(n);i(u)&&e(u)(s)(r.uniformValues.get(n))}},f={uniform1f:s(t=>e=>n.uniform1f(t,e)),uniform1fv:c(Ct.FLOAT)(t=>e=>n.uniform1fv(t,e)),uniform1i:s(t=>e=>n.uniform1i(t,e)),uniform1iv:c(Ct.INT)(t=>e=>n.uniform1iv(t,e)),uniform2f:c(Ct.FLOAT)(t=>e=>n.uniform2f(t,e[0],e[1])),uniform2fv:c(Ct.FLOAT)(t=>e=>n.uniform2fv(t,e)),uniform2i:c(Ct.INT)(t=>e=>n.uniform2i(t,e[0],e[1])),uniform2iv:c(Ct.INT)(t=>e=>n.uniform2iv(t,e)),uniform3f:c(Ct.FLOAT)(t=>e=>n.uniform3f(t,e[0],e[1],e[2])),uniform3fv:c(Ct.FLOAT)(t=>e=>n.uniform3fv(t,e)),uniform3i:c(Ct.INT)(t=>e=>n.uniform3i(t,e[0],e[1],e[2])),uniform3iv:c(Ct.INT)(t=>e=>n.uniform3iv(t,e)),uniform4f:c(Ct.FLOAT)(t=>e=>n.uniform4f(t,e[0],e[1],e[2],e[3])),uniform4fv:c(Ct.FLOAT)(t=>e=>n.uniform4fv(t,e)),uniform4i:c(Ct.INT)(t=>e=>n.uniform4i(t,e[0],e[1],e[2],e[3])),uniform4iv:c(Ct.INT)(t=>e=>n.uniform4iv(t,e)),uniformMatrix2fv:l(Ct.FLOAT)(t=>e=>r=>n.uniformMatrix2fv(t,e,r)),uniformMatrix3fv:l(Ct.FLOAT)(t=>e=>r=>n.uniformMatrix3fv(t,e,r)),uniformMatrix4fv:l(Ct.FLOAT)(t=>e=>r=>n.uniformMatrix4fv(t,e,r))};return{cache:r,setters:f,getLocation:o,validLocation:i,hasLocation:t=>i(o(t))}};let Ft;const Pt=new Map,Lt=t=>(Ft&&Ft.shaderId===t||(Ft=Pt.get(t)).gl.useProgram(Ft.program),Ft),kt=t=>Lt(t),Ut=({renderer:t,shaderId:e,source:n})=>{const r=(({renderer:t,source:e})=>{let n,r;const{gl:o}=t,i=o.createProgram(),u=()=>{void 0!==n&&n instanceof WebGLShader&&o.deleteShader(n),void 0!==r&&r instanceof WebGLShader&&o.deleteShader(r),o.deleteProgram(i)},a=t=>e=>{const n=o.createShader(t);if(o.shaderSource(n,e),o.compileShader(n),!o.getShaderParameter(n,o.COMPILE_STATUS)){const e=`${(t=>t===o.VERTEX_SHADER?"vertex":"fragment")(t)} error: `+o.getShaderInfoLog(n);throw new Error(e)}return o.attachShader(i,n),n};if((n=a(o.VERTEX_SHADER)(e.vertex))instanceof Error)return u(),n;if((r=a(o.FRAGMENT_SHADER)(e.fragment))instanceof Error)return u(),r;let s=0;return t.attributes.globalLocations.forEach(t=>{o.bindAttribLocation(i,s,t),s++}),o.linkProgram(i),o.getProgramParameter(i,o.LINK_STATUS)?i:(u(),new Error("Unable to initialize the shader program: "+o.getProgramInfoLog(i)))})({source:n,renderer:t}),o={gl:t.gl,shaderId:e,program:r,uniforms:Ot({renderer:t,activateShader:()=>Lt(e)})};return Pt.set(e,o),o},Bt=new Uint8Array(19),jt=new Uint8Array(30),Dt=new Uint8Array(30),Vt=new Uint8Array(30),Gt=t=>{let e=1<<t.length;for(let n=0;n<t.length;n++)e|=t[n]<<t.length-n-1;return e},Ht=({data:t,primitive:e,scene:n})=>{const r=Et.map(t=>t.runtimeShaderConfig).reduce((r,o)=>(r=o({data:t,scene:n,primitive:e})(r),r),qt({data:t,scene:n,primitive:e}));return Object.assign({},e,{shaderConfig:r})},qt=({data:t,scene:e,primitive:n})=>n.shaderConfig,zt=({data:t,primitive:e})=>Et.map(t=>t.shaderSource).reduce((n,r)=>(n=r({data:t,primitive:e})(n),n),(({data:t,primitive:e})=>{t.original,t.original.meshes[e.originalMeshId].primitives[e.originalPrimitiveId];const n=e.shaderConfig,r=[];switch(n.hasNormalAttributes&&r.push("HAS_NORMALS"),n.hasTangentAttributes&&r.push("HAS_TANGENTS"),n.hasUvAttributes&&r.push("HAS_UV"),n.hasColorAttributes&&r.push("HAS_COLOR"),n.hasBaseColorMap&&r.push("HAS_BASECOLORMAP"),n.hasNormalMap&&r.push("HAS_NORMALMAP"),n.hasEmissiveMap&&r.push("HAS_EMISSIVEMAP"),n.hasMetalRoughnessMap&&r.push("HAS_METALROUGHNESSMAP"),n.hasOcclusionMap&&r.push("HAS_OCCLUSIONMAP"),n.manualSRGB&&r.push("MANUAL_SRGB"),n.fastSRGB&&r.push("SRGB_FAST_APPROXIMATION"),n.nSkinJoints&&r.push("HAS_SKIN"),n.alphaMode){case i.MASK:r.push("HAS_ALPHA_CUTOFF");break;case i.BLEND:r.push("HAS_ALPHA_BLEND")}const o=r.map(t=>`#define ${t} 1\n`).join("");return{vertex:(({data:t,primitive:e})=>n=>{const r=t.original.nodes[e.originalNodeId],o=t.original.meshes[e.originalMeshId].primitives[e.originalPrimitiveId],{targets:i}=o,u=(It(o),{POSITION:"m_Position",NORMAL:"m_Normal",TANGENT:"m_Tangent"});let a="",s="",c=0,l=0;i&&(i.forEach(t=>{wt(Object.keys(t)).forEach(t=>{const e=`a_Morph_${c}`;a+=`attribute vec4 ${e};\n`,s+=`${u[t]} += (u_MorphWeights[${l}] * ${e});\n`,c++}),l++}),a+=`uniform float u_MorphWeights[${l}];\n`);let f="";return void 0!==r.skin&&(f=t.original.skins[r.skin].joints.length.toString()),n.replace("%MORPH_VARS%",a).replace("%MORPH_FUNCS%",s).replace("%SKIN_JOINT_COUNT%",f)})({data:t,primitive:e})(o+"precision highp float;\nprecision highp int;\n\n%MORPH_VARS%\n\n#ifdef HAS_SKIN\nattribute vec4 a_Skin_Joint;\nattribute vec4 a_Skin_Weight;\nuniform mat4 u_Skin_Matrices[%SKIN_JOINT_COUNT%];\n#endif\n\n#ifdef USE_KHR_LIGHTS\n%KHR_LIGHTS_VARS%\n#endif\n\nattribute vec4 a_Position;\n#ifdef HAS_NORMALS\nattribute vec4 a_Normal;\n#endif\n#ifdef HAS_TANGENTS\nattribute vec4 a_Tangent;\n#endif\n#ifdef HAS_UV\nattribute vec2 a_UV;\n#endif\n#ifdef HAS_COLOR\nattribute vec4 a_Color;\nvarying vec4 v_Color;\n#endif\n\nuniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 v_Position;\nvarying vec2 v_UV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 v_TBN;\n#else\nvarying vec3 v_Normal;\n#endif\n#endif\n\n\nvoid main()\n{\n\n  \n\n  vec4 m_Position = a_Position;\n  #ifdef HAS_NORMALS\n    vec4 m_Normal = a_Normal;\n  #endif\n  #ifdef HAS_TANGENTS\n    vec4 m_Tangent = a_Tangent;\n  #endif\n\n#ifdef HAS_SKIN\n    mat4 skinMat = a_Skin_Weight[0] * u_Skin_Matrices[int(a_Skin_Joint[0])]\n        +   a_Skin_Weight[1] * u_Skin_Matrices[int(a_Skin_Joint[1])]\n        +   a_Skin_Weight[2] * u_Skin_Matrices[int(a_Skin_Joint[2])]\n        +   a_Skin_Weight[3] * u_Skin_Matrices[int(a_Skin_Joint[3])];\n\n    m_Position = skinMat * m_Position;\n#endif\n    %MORPH_FUNCS%\n\n    #ifdef USE_KHR_LIGHTS\n    %KHR_LIGHTS_FUNCS%\n    #endif\n\n  \n  vec4 pos = u_ModelMatrix * m_Position;\n  v_Position = vec3(pos.xyz) / pos.w;\n\n  #ifdef HAS_NORMALS\n  #ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(m_Normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(m_Tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * m_Tangent.w;\n  v_TBN = mat3(tangentW, bitangentW, normalW);\n  #else // HAS_TANGENTS != 1\n  v_Normal = normalize(vec3(u_ModelMatrix * vec4(m_Normal.xyz, 0.0)));\n  #endif\n  #endif\n\n  #ifdef HAS_UV\n  v_UV = a_UV;\n  #else\n  v_UV = vec2(0.,0.);\n  #endif\n\n    #ifdef HAS_COLOR\n    v_Color = a_Color;\n    #endif\n\n\n  gl_Position = u_MVPMatrix * m_Position; // needs w for proper perspective correction\n}\n\n"),fragment:(t=>t)(o+"precision highp float;\nprecision highp int;\n\n#ifdef USE_KHR_LIGHTS\n    #ifdef KHR_LIGHTS_AMBIENT\n        uniform float u_KhrLight_Ambient_Intensity;\n        uniform vec3 u_KhrLight_Ambient_Color;\n    #endif\n%KHR_LIGHTS_VARS%\n#endif\n\n//\n// This fragment shader defines a reference implementation for Physically Based Shading of\n// a microfacet surface material defined by a glTF model.\n//\n// References:\n// [1] Real Shading in Unreal Engine 4\n//     http://blog.selfshadow.com/publications/s2013-shading-course/karis/s2013_pbs_epic_notes_v2.pdf\n// [2] Physically Based Shading at Disney\n//     http://blog.selfshadow.com/publications/s2012-shading-course/burley/s2012_pbs_disney_brdf_notes_v3.pdf\n// [3] README.md - Environment Maps\n//     https://github.com/KhronosGroup/glTF-WebGL-PBR/#environment-maps\n// [4] \"An Inexpensive BRDF Model for Physically based Rendering\" by Christophe Schlick\n//     https://www.cs.virginia.edu/~jdl/bib/appearance/analytic%20models/schlick94b.pdf\n#extension GL_EXT_shader_texture_lod: enable\n#extension GL_OES_standard_derivatives : enable\n\nuniform vec3 u_LightDirection;\nuniform vec3 u_LightColor;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\nuniform float u_AlphaCutoff; //PURE3D - Added\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef HAS_COLOR\nvarying vec4 v_Color;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n\n// debugging flags used for shader output of intermediate PBR variables\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\nuniform vec4 u_ScaleIBLAmbient;\n\nvarying vec3 v_Position;\n\nvarying vec2 v_UV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 v_TBN;\n#else\nvarying vec3 v_Normal;\n#endif\n#endif\n\n// Encapsulate the various inputs used by the various functions in the shading equation\n// We store values in this struct to simplify the integration of alternative implementations\n// of the shading terms, outlined in the Readme.MD Appendix.\nstruct PBRInfo\n{\n    float NdotL;                  // cos angle between normal and light direction\n    float NdotV;                  // cos angle between normal and view direction\n    float NdotH;                  // cos angle between normal and half vector\n    float LdotH;                  // cos angle between light direction and half vector\n    float VdotH;                  // cos angle between view direction and half vector\n    float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n    float metalness;              // metallic value at the surface\n    vec3 reflectance0;            // full reflectance color (normal incidence angle)\n    vec3 reflectance90;           // reflectance color at grazing angle\n    float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n    vec3 diffuseColor;            // color contribution from diffuse lighting\n    vec3 specularColor;           // color contribution from specular lighting\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n    #ifdef MANUAL_SRGB\n        #ifdef SRGB_FAST_APPROXIMATION\n            vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n        #else //SRGB_FAST_APPROXIMATION\n            vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n            vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n        #endif //SRGB_FAST_APPROXIMATION\n        \n        return vec4(linOut,srgbIn.w);\n    #else //MANUAL_SRGB\n        return srgbIn;\n    #endif //MANUAL_SRGB\n}\n\n\n// Find the normal for this fragment, pulling either from a predefined normal map\n// or from the interpolated mesh normal and tangent attributes.\nvec3 getNormal()\n{\n    // Retrieve the tangent space matrix\n#ifndef HAS_TANGENTS\n    vec3 pos_dx = dFdx(v_Position);\n    vec3 pos_dy = dFdy(v_Position);\n    vec3 tex_dx = dFdx(vec3(v_UV, 0.0));\n    vec3 tex_dy = dFdy(vec3(v_UV, 0.0));\n    vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n    vec3 ng = normalize(v_Normal);\n#else\n    vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n    t = normalize(t - ng * dot(ng, t));\n    vec3 b = normalize(cross(ng, t));\n    mat3 tbn = mat3(t, b, ng);\n#else // HAS_TANGENTS\n    mat3 tbn = v_TBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n    vec3 n = texture2D(u_NormalSampler, v_UV).rgb;\n    n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n    // The tbn matrix is linearly interpolated, so we need to re-normalize\n    vec3 n = normalize(tbn[2].xyz);\n#endif\n\n    return n;\n}\n\n#ifdef USE_IBL\n// Calculation of the lighting contribution from an optional Image Based Light source.\n// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].\n// See our README.md on Environment Maps [3] for additional discussion.\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n    float mipCount = 9.0; // resolution of 512x512\n    float lod = (pbrInputs.perceptualRoughness * mipCount);\n    // retrieve a scale and bias to F0. See [1], Figure 3\n    \n    vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT, vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n    vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n    \n\n#ifdef USE_TEX_LOD\n    vec3 specularLight = SRGBtoLINEAR(textureCubeLodEXT(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n    vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n    vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n    vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n\n    // For presentation, this allows us to disable IBL terms\n    diffuse *= u_ScaleIBLAmbient.x;\n    specular *= u_ScaleIBLAmbient.y;\n\n    \n    return diffuse + specular;\n}\n#endif\n\n#ifdef USE_KHR_LIGHTS\nvec3 getKhrLightingContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n    vec3 diffuse = pbrInputs.diffuseColor;\n    vec3 specular = pbrInputs.specularColor;\n\n    #ifdef KHR_LIGHTS_AMBIENT \n        vec3 nAmbient = (u_KhrLight_Ambient_Color * u_KhrLight_Ambient_Intensity);\n        diffuse *= nAmbient; \n        specular *= nAmbient; \n    #endif\n\n    return diffuse + specular;\n}\n#endif\n\n// Basic Lambertian diffuse\n// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\n// See also [1], Equation 1\nvec3 diffuse(PBRInfo pbrInputs)\n{\n    return pbrInputs.diffuseColor / M_PI;\n}\n\n// The following equation models the Fresnel reflectance term of the spec equation (aka F())\n// Implementation of fresnel from [4], Equation 15\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n    return pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n// This calculates the specular geometric attenuation (aka G()),\n// where rougher material will reflect less light back to the viewer.\n// This implementation is based on [1] Equation 4, and we adopt their modifications to\n// alphaRoughness as input as originally proposed in [2].\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n    float NdotL = pbrInputs.NdotL;\n    float NdotV = pbrInputs.NdotV;\n    float r = pbrInputs.alphaRoughness;\n\n    float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n    float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n    return attenuationL * attenuationV;\n}\n\n// The following equation(s) model the distribution of microfacet normals across the area being drawn (aka D())\n// Implementation from \"Average Irregularity Representation of a Roughened Surface for Ray Reflection\" by T. S. Trowbridge, and K. P. Reitz\n// Follows the distribution function recommended in the SIGGRAPH 2013 course notes from EPIC Games [1], Equation 3.\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n    float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n    float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n    return roughnessSq / (M_PI * f * f);\n}\n\nvoid main()\n{\n    // Metallic and Roughness material properties are packed together\n    // In glTF, these factors can be specified by fixed scalar values\n    // or from a metallic-roughness map\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\n    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, v_UV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n    // Roughness is authored as perceptual roughness; as is convention,\n    // convert to material roughness by squaring the perceptual roughness [2].\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    // The albedo may be defined from a base texture or a flat color\n#ifdef HAS_BASECOLORMAP\n    vec4 textureColor = texture2D(u_BaseColorSampler, v_UV);\n    vec4 baseColor = SRGBtoLINEAR(textureColor) * u_BaseColorFactor;\n#else\n    vec4 baseColor = u_BaseColorFactor;\n#endif\n\n    #ifdef HAS_ALPHA_CUTOFF\n        //Pure3d added\n        if(baseColor.a < u_AlphaCutoff) {\n            discard;\n        }\n\n    #endif\n\n    #ifndef HAS_ALPHA_BLEND\n        baseColor.a = 1.0;\n    #endif\n\n    vec3 f0 = vec3(0.04);\n#ifdef HAS_COLOR\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0) * SRGBtoLINEAR(v_Color).rgb;\n    diffuseColor *= 1.0 - metallic;\n#else\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n#endif\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n\n    // Compute reflectance.\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n    // For typical incident reflectance range (between 4% to 100%) set the grazing reflectance to 100% for typical fresnel effect.\n    // For very low reflectance range on highly diffuse objects (below 4%), incrementally reduce grazing reflecance to 0%.\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();                             // normal at surface point\n    vec3 v = normalize(u_Camera - v_Position);        // Vector from surface point to camera\n    vec3 l = normalize(u_LightDirection);             // Vector from surface point to light\n    vec3 h = normalize(l+v);                          // Half vector between both l and v\n    vec3 reflection = -normalize(reflect(v, n));\n\n    float NdotL = clamp(dot(n, l), 0.001, 1.0);\n    float NdotV = abs(dot(n, v)) + 0.001;\n    float NdotH = clamp(dot(n, h), 0.0, 1.0);\n    float LdotH = clamp(dot(l, h), 0.0, 1.0);\n    float VdotH = clamp(dot(v, h), 0.0, 1.0);\n\n    PBRInfo pbrInputs = PBRInfo(\n        NdotL,\n        NdotV,\n        NdotH,\n        LdotH,\n        VdotH,\n        perceptualRoughness,\n        metallic,\n        specularEnvironmentR0,\n        specularEnvironmentR90,\n        alphaRoughness,\n        diffuseColor,\n        specularColor\n    );\n\n    // Calculate the shading terms for the microfacet specular shading model\n    vec3 F = specularReflection(pbrInputs);\n    float G = geometricOcclusion(pbrInputs);\n    float D = microfacetDistribution(pbrInputs);\n\n    // Calculation of analytical lighting contribution\n    vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n    vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);\n    // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n    vec3 color = NdotL * u_LightColor * (diffuseContrib + specContrib);\n\n    // Calculate lighting contribution from image based lighting source (IBL)\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n\n#ifdef USE_KHR_LIGHTS\n    color += getKhrLightingContribution(pbrInputs, n, reflection);\n#endif\n\n    // Apply optional PBR terms for additional (optional) shading\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, v_UV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, v_UV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n\n#ifdef USE_KHR_LIGHTS\n%KHR_LIGHTS_FUNCS%\n#endif\n    // This section uses mix to override final color for reference app visualization\n    // of various parameters in the lighting equation.\n    color = mix(color, F, u_ScaleFGDSpec.x);\n    color = mix(color, vec3(G), u_ScaleFGDSpec.y);\n    color = mix(color, vec3(D), u_ScaleFGDSpec.z);\n    color = mix(color, specContrib, u_ScaleFGDSpec.w);\n\n    color = mix(color, diffuseContrib, u_ScaleDiffBaseMR.x);\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n\n    gl_FragColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n")}})({data:t,primitive:e})),Xt=({renderer:t,data:e})=>{const n=e.original,r=new Map;return void 0===n.nodes||null===n.nodes?r:(n.nodes.map((t,e)=>[t,e]).filter(([t,e])=>void 0!==t.mesh&&null!==t.mesh).forEach(([o,u])=>r.set(o.mesh,n.meshes[o.mesh].primitives.map((r,s)=>{n.meshes[o.mesh];const c=Object.assign({originalNodeId:u,originalMeshId:o.mesh,originalPrimitiveId:s,vaoId:(({renderer:t,originalPrimitive:e,data:n})=>{const r={data:[]},o=n.attributes.accessorLookup;void 0!==e.indices&&(r.elementBufferId=o.get(e.indices).rendererBufferId),It(e).forEach(n=>{const i=e.attributes[n],u=Nt[n];if(!o.has(i))throw new Error("bug here!");r.data.push(Object.assign({location:t.attributes.getLocationInRenderer(u),bufferId:o.get(i).rendererBufferId},o.get(i).strategy))});const{targets:i}=e;if(i){let e=0;i.forEach(n=>{wt(Object.keys(n)).forEach(i=>{const u=n[i],a=`a_Morph_${e++}`;r.data.push(Object.assign({location:t.attributes.getLocationInRenderer(a),bufferId:o.get(u).rendererBufferId},o.get(u).strategy))})})}const u=Mt++,a=Symbol();return n.attributes.vaoIdLookup.set(u,a),t.vertexArrays.assign(a)(r),u})({renderer:t,originalPrimitive:r,data:e})},(({originalPrimitive:t,data:e})=>{const n={drawKind:void 0!==t.indices?a.ELEMENTS:a.ARRAY,drawMode:t.mode?t.mode:v.TRIANGLES};if(n.drawKind===a.ELEMENTS)n.elementsId=t.indices;else{const r=It(t);n.arrayCount=e.original.accessors[t.attributes[r[0]]].count}return n})({originalPrimitive:r,data:e}));return void 0!==r.material&&(c.material=(({gltf:t,materialId:e,data:n})=>{const r=t.materials[e],o={};if(o.metallicRoughnessValues=Float64Array.from([1,1]),o.baseColorFactor=Float64Array.from([1,1,1,1]),r.pbrMetallicRoughness&&(void 0!==r.pbrMetallicRoughness.metallicFactor&&(o.metallicRoughnessValues[0]=r.pbrMetallicRoughness.metallicFactor),void 0!==r.pbrMetallicRoughness.roughnessFactor&&(o.metallicRoughnessValues[1]=r.pbrMetallicRoughness.roughnessFactor),void 0!==r.pbrMetallicRoughness.baseColorFactor&&(o.baseColorFactor=Float64Array.from(r.pbrMetallicRoughness.baseColorFactor)),void 0!==r.pbrMetallicRoughness.baseColorTexture&&(o.baseColorSamplerIndex=r.pbrMetallicRoughness.baseColorTexture.index),void 0!==r.pbrMetallicRoughness.metallicRoughnessTexture&&(o.metallicRoughnessSamplerIndex=r.pbrMetallicRoughness.metallicRoughnessTexture.index)),void 0!==r.normalTexture){const t=void 0!==r.normalTexture.scale?r.normalTexture.scale:1;o.normal={scale:t,samplerIndex:r.normalTexture.index}}if(void 0!==r.occlusionTexture){const t=void 0!==r.occlusionTexture.strength?r.occlusionTexture.strength:1;o.occlusion={strength:t,samplerIndex:r.occlusionTexture.index}}if(void 0!==r.emissiveTexture&&(o.emissiveSamplerIndex=r.emissiveTexture.index),void 0!==r.emissiveFactor&&(o.emissiveFactor=Float64Array.from(r.emissiveFactor)),r.alphaMode)switch(r.alphaMode){case"BLEND":o.alphaMode=i.BLEND;break;case"MASK":o.alphaMode=i.MASK;break;default:o.alphaMode=i.OPAQUE}return o.doubleSided=!!r.doubleSided,o.alphaCutoff=void 0===r.alphaCutoff?.5:r.alphaCutoff,o})({gltf:n,materialId:r.material,data:e})),c.shaderConfig=(({data:t,primitive:e})=>Et.map(t=>t.initialShaderConfig).reduce((n,r)=>(n=r({data:t,primitive:e})(n),n),(({data:t,primitive:e})=>{t.original;const n=t.original.nodes[e.originalNodeId],r=t.original.meshes[e.originalMeshId].primitives[e.originalPrimitiveId],o=t=>e=>-1!==Object.keys(t.attributes).indexOf(e),u=e.material;let a=0,s=0,c=0,l=0,f=0;return void 0!==n.skin&&(f=t.original.skins[n.skin].joints.length),r.targets&&r.targets.forEach(t=>{wt(Object.keys(t)).forEach(t=>{switch(t){case"POSITION":s++;break;case"NORMAL":c++;break;case"TANGENT":l++;break;default:console.warn("unknown...",t)}}),a++}),{nMorphWeights:a,nPositionMorphs:s,nNormalMorphs:c,nTangentMorphs:l,nSkinJoints:f,alphaMode:u&&u.alphaMode?u.alphaMode:i.OPAQUE,hasNormalAttributes:o(r)("NORMAL"),hasTangentAttributes:o(r)("TANGENT"),hasUvAttributes:o(r)("TEXCOORD_0"),hasColorAttributes:o(r)("COLOR_0"),hasBaseColorMap:u&&void 0!==u.baseColorSamplerIndex,hasNormalMap:u&&void 0!==u.normal,hasEmissiveMap:u&&void 0!==u.emissiveSamplerIndex,hasMetalRoughnessMap:u&&void 0!==u.metallicRoughnessSamplerIndex,hasOcclusionMap:u&&void 0!==u.occlusion,manualSRGB:!0===t.initConfig.manualSRGB,fastSRGB:!0===t.initConfig.fastSRGB,extensions:{}}})({data:t,primitive:e})))({data:e,primitive:c}),c}))),r)},Wt=({gltf:t,primitives:e,data:n,assets:r})=>{const o=(({gltf:t,buffers:e})=>{const n=new Map;return t.skins&&t.skins.length?(t.skins.forEach((r,o)=>{const i=r.inverseBindMatrices?(t=>{const e=new Array;for(let n=0;n<t.length;)e.push(t.slice(n,n+16)),n+=16;return e})(Z({gltf:t,buffers:e,info:tt({gltf:t,accessorId:r.inverseBindMatrices})})):r.joints.map(A());if(i.length!==r.joints.length)throw new Error("inverse bind matrices mismatch!");let u;const a={joints:r.joints.map((t,e)=>{const n={originalNodeId:t,inverseBindMatrix:i[e]};return void 0!==r.skeleton&&r.skeleton===t&&(u=t),n})};void 0!==u&&(a.skeletonRootId=u),n.set(o,a)}),n):n})({gltf:t,buffers:r.buffers}),i=n=>r=>a=>{const s={originalNodeId:r,animationIds:[],kind:void 0!==a.mesh&&e.has(a.mesh)&&e.get(a.mesh).length?u.MESH:void 0!==a.camera?y.CAMERA:void 0},c=a.matrix?S(Float64Array.from(a.matrix)):function(t){const e={translation:Float64Array.from([0,0,0]),rotation:Float64Array.from([0,0,0,1]),scale:Float64Array.from([1,1,1])};return Object.keys(e).forEach(n=>{const r=t[n];r&&(e[n]=r)}),e}(a),l=a.matrix?new Float64Array(a.matrix):R(c),f=x(n)(l);if(s.transform={trs:c,localMatrix:l,modelMatrix:f},s.kind===u.MESH&&t.meshes[a.mesh].primitives.some(t=>(t=>-1!==Object.keys(t.attributes).indexOf("NORMAL"))(t))&&(s.transform.normalMatrix=M(f)),s.kind===u.MESH){if(s.primitives=e.get(a.mesh),void 0!==a.skin){const t=o.get(a.skin);s.skin={skinId:a.skin,joints:t.joints.slice()},void 0!==t.skeletonRootId&&(s.skin.skeletonRootId=t.skeletonRootId)}const n=a.weights?Float64Array.from(a.weights):t.meshes[a.mesh].weights?Float64Array.from(t.meshes[a.mesh].weights):void 0;n&&(s.morphWeights=n)}else s.kind===y.CAMERA&&(s.camera=(t=>"orthographic"===t.type?{kind:h.ORTHOGRAPHIC,xmag:t.orthographic.xmag,ymag:t.orthographic.ymag,znear:t.orthographic.znear,zfar:t.orthographic.zfar}:{kind:h.PERSPECTIVE,aspectRatio:t.perspective.aspectRatio,yfov:t.perspective.yfov,znear:t.perspective.znear,zfar:t.perspective.zfar})(t.cameras[a.camera]),s.cameraIndex=a.camera);const p=Et.map(t=>t.createNode).reduce((e,n)=>(e=n(t)(a)(e),e),s);return a.children?Object.assign(p,{children:a.children.map(e=>i(f)(e)(t.nodes[e]))}):p};return(({gltf:t,nodes:e})=>{let n=0;return t.animations&&t.animations.forEach(t=>{t.channels.filter(t=>void 0!==t.target.node).forEach(t=>{H(e=>(e.originalNodeId===t.target.node&&-1===e.animationIds.indexOf(n)&&e.animationIds.push(n),e))(e),n++})}),e})({gltf:t,nodes:t.nodes.map((t,e)=>i(null)(e)(t))})},Kt=t=>e=>n=>{const r=new Map,o=new Map,s=new Array,c=new Array;U(t=>{t.kind===u.MESH&&t.transform&&t.transform.modelViewProjectionMatrix?s.push(t):t.kind===y.LIGHT&&c.push(t)})(n.nodes),s.forEach(u=>{let s;void 0!==u.skin&&u.skin.skinMatrices&&(s=u.skin.skinMatrices),u.primitives.forEach(l=>{const f=(({renderer:t,data:e,primitive:n})=>{const r=(t=>{if(t.hasNormalAttributes&&(Bt[0]=1),t.hasTangentAttributes&&(Bt[1]=1),t.hasUvAttributes&&(Bt[2]=1),t.hasColorAttributes&&(Bt[3]=1),t.hasBaseColorMap&&(Bt[4]=1),t.hasNormalMap&&(Bt[5]=1),t.hasEmissiveMap&&(Bt[6]=1),t.hasMetalRoughnessMap&&(Bt[7]=1),t.hasOcclusionMap&&(Bt[8]=1),t.manualSRGB&&(Bt[9]=1),t.fastSRGB&&(Bt[10]=1),t.extensions.ibl&&(Bt[11]=1,t.extensions.ibl.useLod&&(Bt[12]=1)),t.extensions.unlit&&(Bt[13]=1),Bt[14]=t.alphaMode===i.BLEND?0:1,Bt[15]=t.alphaMode===i.MASK?0:1,Bt[16]=t.alphaMode===i.OPAQUE?0:1,t.extensions.lights){Bt[17]=1,t.extensions.lights.hasAmbient&&(Bt[18]=1);for(let e=0;e<t.extensions.lights.nDirectionalLights;e++)Vt[e]=1;for(let e=0;e<t.extensions.lights.nPointLights;e++)Vt[10+e]=1;for(let e=0;e<t.extensions.lights.nSpotLights;e++)Vt[20+e]=1}for(let e=0;e<t.nPositionMorphs;e++);for(let e=0;e<t.nNormalMorphs;e++);for(let e=0;e<t.nTangentMorphs;e++);for(let e=0;e<t.nMorphWeights;e++);for(let e=0;e<t.nSkinJoints;e++)Dt[e]=1;const e=Gt(Bt).toString();return Gt(jt).toString(),Gt(Dt).toString(),Gt(Vt).toString(),e})(n.shaderConfig);if(!e.shaders.has(r)){const o=zt({data:e,primitive:n}),i=Ut({shaderId:Symbol(),renderer:t,source:o});e.shaders.set(r,i)}return e.shaders.get(r)})({renderer:t,data:e,primitive:l});o.has(f.shaderId)||o.set(f.shaderId,[]);const p=o.get(f.shaderId);p.push((t=>()=>{const{renderer:e,data:n,node:r,primitive:o,lightList:u,scene:s,shader:c,skinMatrices:l}=t,{camera:f}=s,{gl:p}=e,d=n.original,{material:h,drawMode:y}=o,{uniforms:_,shaderId:g}=c,{uniform1i:E,uniform1f:b,uniform1fv:T,uniform1iv:A,uniform2fv:S,uniform3fv:R,uniform4fv:x,uniformMatrix4fv:M}=_.setters,N=n.attributes.vaoIdLookup.get(o.vaoId);let w=0;kt(g),h&&h.doubleSided?e.glToggle(v.CULL_FACE)(!1):e.glToggle(v.CULL_FACE)(!0),s.extensions.ibl&&(e.switchTexture(w)(n.extensions.ibl.brdf),E("u_brdfLUT")(w++),n.extensions.ibl.cubeMaps.diffuse&&(e.switchCubeTexture(w)(n.extensions.ibl.cubeMaps.diffuse),E("u_DiffuseEnvSampler")(w++)),n.extensions.ibl.cubeMaps.specular&&(e.switchCubeTexture(w)(n.extensions.ibl.cubeMaps.specular),E("u_SpecularEnvSampler")(w++)),R("u_Camera")(f.position),x("u_ScaleDiffBaseMR")(s.extensions.ibl.scaleDiffBaseMR),x("u_ScaleFGDSpec")(s.extensions.ibl.scaleFGDSpec),x("u_ScaleIBLAmbient")(s.extensions.ibl.scaleIBLAmbient)),s.light&&(R("u_KhrLight_Ambient_Color")(s.light.color),b("u_KhrLight_Ambient_Intensity")(s.light.intensity)),u.forEach(t=>{const{light:e}=t;e.kind===m.Directional&&(R("u_LightDirection")([-.5825,-.1357,-.8014]),R("u_LightColor")(e.color)),e.kind,m.Spot}),l&&M("u_Skin_Matrices")(!1)(l),M("u_MVPMatrix")(!1)(r.transform.modelViewProjectionMatrix),M("u_ModelMatrix")(!1)(r.transform.modelMatrix),r.transform.normalMatrix&&M("u_NormalMatrix")(!1)(r.transform.normalMatrix),r.morphWeights&&T("u_MorphWeights")(r.morphWeights);const I=t=>r=>{"number"==typeof r?e.switchTexture(w)(n.textures.get(r)):e.switchTexture(w)(r),E(t)(w++)};if(h&&(S("u_MetallicRoughnessValues")(h.metallicRoughnessValues),x("u_BaseColorFactor")(h.baseColorFactor),void 0!==h.baseColorSamplerIndex&&I("u_BaseColorSampler")(h.baseColorSamplerIndex),void 0!==h.metallicRoughnessSamplerIndex&&I("u_MetallicRoughnessSampler")(h.metallicRoughnessSamplerIndex),void 0!==h.normal&&(b("u_NormalScale")(h.normal.scale),I("u_NormalSampler")(h.normal.samplerIndex)),void 0!==h.occlusion&&(b("u_OcclusionStrength")(h.occlusion.strength),I("u_OcclusionSampler")(h.occlusion.samplerIndex)),void 0!==h.emissiveSamplerIndex&&I("u_EmissiveSampler")(h.emissiveSamplerIndex),void 0!==h.emissiveFactor&&R("u_EmissiveFactor")(h.emissiveFactor),h.alphaMode===i.MASK)){const t=h.alphaMode===i.MASK?h.alphaCutoff:1;b("u_AlphaCutoff")(t)}if(e.vertexArrays.activate(N),o.drawKind===a.ELEMENTS){const t=d.accessors[o.elementsId];p.drawElements(y,t.count,t.componentType,t.byteOffset||0)}else p.drawArrays(y,0,o.arrayCount)})({skinMatrices:s,renderer:t,data:e,node:u,primitive:l,lightList:c,scene:n,shader:f})),r.has(l.shaderConfig.alphaMode)||r.set(l.shaderConfig.alphaMode,new Set),r.get(l.shaderConfig.alphaMode).add(p)})}),t.glToggle(v.BLEND)(!1),t.glToggle(v.DEPTH_TEST)(!0),t.glDepthFunc(t.gl.LEQUAL),t.glBlendFunc(t.gl.SRC_ALPHA)(t.gl.ONE_MINUS_SRC_ALPHA);const l=$t(t)(r);l(i.OPAQUE),l(i.MASK),l(i.BLEND)},$t=t=>e=>n=>{e.has(n)&&(n===i.BLEND&&t.glToggle(v.BLEND)(!0),e.get(n).forEach(t=>{t.forEach(t=>t())}))},Yt=({renderer:t,path:e,config:n,mapper:r})=>{const o=function(t){const e={};let n,r;const o=t=>(t=>e=>Object.assign({},t,{nodes:H(t=>t.kind===u.MESH?Object.assign({},t,{primitives:t.primitives.map(t=>e(t))}):t)(t.nodes)}))(t)(e=>Ht({data:r,primitive:e,scene:t})),i={renderer:t,getAllNodes:()=>n,getData:()=>r,getOriginalScene:t=>e=>{let i=[];if(e>=0&&r.original.scenes[e]){const t=r.original.scenes[e].nodes;U(e=>{-1!==t.indexOf(e.originalNodeId)&&i.push(e)})(n)}else i=n,console.warn("no scene specified! Expect duplicate nodes...");const u=e>=0?r.original.scenes[e]:{nodes:r.original.nodes.map((t,e)=>e)},a=Et.map(t=>t.createScene).reduce((t,e)=>t=e(r.original)(u)(t),{camera:t,extensions:{},nodes:z({updateLocal:!0,updateModel:!0,updateView:!0,camera:t})(null)(i)});return o(a)},getCameraNode:e=>{const r=j(t=>t.kind===y.CAMERA&&t.cameraIndex===e)(n);if(!r)return;const o=Object.assign({},r.camera);return o.kind===h.PERSPECTIVE&&void 0===o.aspectRatio&&(o.aspectRatio=t.canvas.width/t.canvas.height),Object.assign({},r,{camera:F(r.transform)(o)})},loadFile:t=>Object(l.fetchArrayBufferUrl)(t).map(xt),loadAssets:({gltf:t,basePath:e,glbBuffers:n})=>bt({basePath:e||"",gltf:t,glbBuffers:n}),start:({gltf:e,assets:o,config:i})=>{const u=Tt({gltf:e,renderer:t,assets:o,config:i}),a=Xt({renderer:t,data:u});r=u,n=Wt({gltf:e,primitives:a,data:u,assets:o})},renderScene:e=>{Kt(t)(r)(e)},updateShaderConfigs:o};return Object.assign(e,i),e}(t);return o.loadFile(e).chain(({gltf:t,glbBuffers:i})=>(t=r?r(t):t,o.loadAssets({gltf:t,glbBuffers:i,basePath:mt(e)}).map(e=>({gltf:t,config:n,assets:e})))).map(o.start).map(()=>o)},Qt=t=>t,Jt=t=>t,Zt=Ht,te=t=>e=>{const n=z(t)(null)(e);return H(ne(n))(n)},ee=t=>e=>j(e=>e.originalNodeId===t)(e),ne=t=>e=>{if(e.kind===u.MESH&&e.skin){const n=re(t)(e),r=e=>{const r=n.find(t=>t.originalNodeId===e);return r?r.transform:ee(e)(t).transform};let o=0;const i=s.mat4.invert(s.mat4.create(),void 0===e.skin.skeletonRootId?e.transform.modelMatrix:r(e.skin.skeletonRootId).modelMatrix),u=n.reduce((t,e)=>{const n=s.mat4.create();s.mat4.multiply(n,e.transform.modelMatrix,e.inverseBindMatrix),i&&s.mat4.multiply(n,i,n);for(let e=0;e<n.length;e++)t[o++]=n[e];return t},new Float32Array(16*e.skin.joints.length));return Object.assign({},e,{skin:Object.assign({},e.skin,{skinMatrices:u})})}return e},re=t=>e=>{const n=new Map,r=e.skin.joints.map((t,e)=>(n.set(t.originalNodeId,e),{originalNodeId:t.originalNodeId,inverseBindMatrix:t.inverseBindMatrix}));return U(t=>{if(n.has(t.originalNodeId)){const e=n.get(t.originalNodeId);if(r[e].transform=t.transform,n.delete(t.originalNodeId),!n.size)return!0}})(t),r},oe=({gl:t,buffers:e})=>{let n,r;const o=new Set,i=new Map,u=new Map,a=o=>{const i=e.get(o);n===o&&r===i.target||(t.bindBuffer(i.target,i.buffer),n=o,r=i.target)};return{globalLocations:o,getLocationInShader:e=>n=>{i.has(e)||i.set(e,new Map);const r=i.get(e);return r.has(n)||r.set(n,t.getAttribLocation(e,n)),r.get(n)},getLocationInRenderer:t=>{if(!u.has(t)){let t=0;o.forEach(e=>{u.has(e)||u.set(e,t),t++})}return u.get(t)},activateElements:a,activateData:e=>n=>r=>{a(n),t.vertexAttribPointer(e,r.size,r.type,void 0!==r.normalized&&r.normalized,void 0===r.stride?0:r.stride,void 0===r.offset?0:r.offset),t.enableVertexAttribArray(e)}}},ie=t=>{const e=new Map,n=n=>{const r=e.get(n);t.bindBuffer(r.target,r.buffer)};return{assign:r=>o=>{const i=e.has(r)?e.get(r):{buffer:t.createBuffer()};i.data=o.data,i.target=o.target,i.usagePattern=o.usagePattern,e.set(r,i),n(r),t.bufferData(i.target,i.data,i.usagePattern)},get:t=>e.get(t),bind:n}},ue=t=>({width:e,height:n})=>{const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null);const o=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e,n);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,o),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null);const u=()=>t.bindFramebuffer(t.FRAMEBUFFER,i),a=()=>t.bindFramebuffer(t.FRAMEBUFFER,null);return{bind:u,unbind:a,readPixel:({x:e,y:n})=>{const r=new Uint8Array(4);return u(),t.readPixels(e,n,1,1,t.RGBA,t.UNSIGNED_BYTE,r),a(),r},dispose:()=>{a(),t.deleteFramebuffer(i),t.deleteRenderbuffer(o),t.deleteTexture(r)},clear:e=>{u(),t.clear(e),a()}}},ae=({getExtension:t,gl:e,version:n,buffers:r})=>{const o=new Map;let i;const u=r=>1===n?t("OES_vertex_array_object").bindVertexArrayOES(r):e.bindVertexArray(r),a=r=>a=>{(r||i!==a)&&(i=a,o.has(a)||o.set(a,1===n?t("OES_vertex_array_object").createVertexArrayOES():e.createVertexArray()),u(o.get(a)))},s=()=>{null!==i&&(i=null,u(null))};return{activate:a(!1),release:s,assign:t=>n=>{a(!0)(t),n.elementBufferId&&r.bind(n.elementBufferId),n.data.forEach(({location:t,usagePattern:n,bufferId:o,size:i,type:u,normalized:a,stride:s,offset:c})=>{r.get(o),r.bind(o),e.vertexAttribPointer(t,i,u,void 0!==a&&a,void 0===s?0:s,void 0===c?0:c),e.enableVertexAttribArray(t)}),s()}}},se=t=>t.getParameter(v.VERSION),ce=t=>{switch(t){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return!0}return!1},le=t=>{const e=se(t);let n="";for(let t=0;t<e.length;t++){const r=e.charAt(t);if(ce(r))n+=r;else if(n.length)break}return parseInt(n,10)},fe=t=>{const{canvas:e,contextAttributes:n}=t,r=(()=>{if(void 0!==t.gl)return t.gl;let r;if(void 0===t.version||2===t.version){try{r=e.getContext("webgl2",n)}catch(t){r=void 0}if(r)return r;console.warn("Failed to initialize webgl2, trying webgl1 as a fallback...")}try{r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}catch(t){r=void 0}return r||console.warn("Unable to initialize webgl1"),r})(),o=le(r),i={width:NaN,height:NaN},u=new Map,a=ie(r),s=new Map,c=t=>{if(!s.has(t)){const e=r.getExtension(t);e||console.warn("Could not create extension",t),s.set(t,e)}return s.get(t)};let l,f,p;const d=ct(r),h=oe({gl:r,buffers:a}),y=ae({getExtension:c,gl:r,version:o,buffers:a});return Object.assign({resize:({width:t,height:n})=>{i.width===t&&i.height===n||(e.setAttribute("width",t.toString()),e.setAttribute("height",n.toString()),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),i.width=t,i.height=n)},canvas:e,gl:r,buffers:a,attributes:h,vertexArrays:y},d,{glToggle:t=>e=>{u.has(t)&&u.get(t)===e||(u.set(t,e),e?r.enable(t):r.disable(t))},glDepthFunc:t=>{t!==l&&(r.depthFunc(t),l=t)},glBlendFunc:t=>e=>{t===f&&e===p||(r.blendFunc(t,e),f=t,p=e)},getExtension:c,version:o,extras:{}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||r.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!r.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!r.isUndefined(t)&&!r.isUndefined(e)){var n,o="$"+this.toStr(t),i=this.table[o];return r.isUndefined(i)?(this.nElements++,n=void 0):n=i.value,this.table[o]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!r.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!r.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();e.default=o},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():null!=n(1)?(o=[],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeIdentifiers=u()}(function(){"use strict";var t="@@type",e=new RegExp("^([\\s\\S]+)/([\\s\\S]+?)(?:@([0-9]+))?$");function n(e){return null!=e&&null!=e.constructor&&e.constructor.prototype!==e&&"string"==typeof e.constructor[t]?e.constructor[t]:Object.prototype.toString.call(e).slice("[object ".length,-"]".length)}return n.parse=function(t){var n=e.exec(t);return{namespace:null==n||null==n[1]?null:n[1],name:null==n?t:n[2],version:null==n||null==n[3]?0:Number(n[3])}},n})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);function o(t,e,n){for(var o=n||r.defaultEquals,i=t.length,u=0;u<i;u++)if(o(t[u],e))return u;return-1}e.indexOf=o,e.lastIndexOf=function(t,e,n){for(var o=n||r.defaultEquals,i=t.length-1;i>=0;i--)if(o(t[i],e))return i;return-1},e.contains=function(t,e,n){return o(t,e,n)>=0},e.remove=function(t,e,n){var r=o(t,e,n);return!(r<0||(t.splice(r,1),0))},e.frequency=function(t,e,n){for(var o=n||r.defaultEquals,i=t.length,u=0,a=0;a<i;a++)o(t[a],e)&&u++;return u},e.equals=function(t,e,n){var o=n||r.defaultEquals;if(t.length!==e.length)return!1;for(var i=t.length,u=0;u<i;u++)if(!o(t[u],e[u]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var r=t[e];return t[e]=t[n],t[n]=r,!0},e.toString=function(t){return"["+t.toString()+"]"},e.forEach=function(t,e){for(var n=0,r=t;n<r.length;n++)if(!1===e(r[n]))return}},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(n(34)):null!=n(1)?(o=[n(34)],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeClasses=u(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var e=__doctest.require("./test/List"),n=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),e.Nil,e.Cons,n.Nothing,n.Just}function r(t){return function(e){return t.concat(e)}}function o(t){return function(e){return t}}function i(t,e){Object.keys(t).forEach(e,t)}function u(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function a(t){return t}function s(t){return function(e){return[t,e]}}function c(e,n){return typeof e==typeof n&&t(e)===t(n)}function l(t){return{value:t,done:!1}}function f(t){return{value:t,done:!0}}function p(t,e,n,r){if(!(this instanceof p))return new p(t,e,n,r);this.name=t,this.url=e,this.test=function(t){return n.every(function(e){return e.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var d="Constructor",h="Value";function y(t,e,n){for(var r=n,o=0;o<e.length;o+=1){var i=e[o];if(null==r||!t&&!u(i,r))return null;r=r[i]}return"function"==typeof r?r:null}function m(t,e){return y(!0,t,e)}function v(t){return y(!1,t,$)}var _=u("name",function(){})?function(t){return t.name}:function(t){var e=/function (\w*)/.exec(t);return null==e?"":e[1]};function g(e,n,r){function o(e){var n="fantasy-land/"+e;return r[e]===d?function(t){var e=m([n],t);return null==e&&"function"==typeof t?v([_(t),n]):e}:function(e){var r=null;return null!=e&&null!=e.constructor&&e.constructor.prototype===e||(r=m([n],e)),null==r&&(r=v([t(e),"prototype",n])),r&&r.bind(e)}}var i=Object.keys(r),u=p("sanctuary-type-classes/"+e,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v8.2.1#"+e,n,function(t){return i.every(function(e){var n=r[e]===d?t.constructor:t;return null!=o(e)(n)})});return u.methods=i.reduce(function(t,e){return t[e]=o(e),t},{}),u}var E=g("Setoid",[],{equals:h}),b=g("Ord",[E],{lte:h}),T=g("Semigroupoid",[],{compose:h}),A=g("Category",[T],{id:d}),S=g("Semigroup",[],{concat:h}),R=g("Monoid",[S],{empty:d}),x=g("Group",[R],{invert:h}),M=g("Filterable",[],{filter:h}),N=g("Functor",[],{map:h}),w=g("Bifunctor",[N],{bimap:h}),I=g("Profunctor",[N],{promap:h}),C=g("Apply",[N],{ap:h}),O=g("Applicative",[C],{of:d}),F=g("Chain",[C],{chain:h}),P=g("ChainRec",[F],{chainRec:d}),L=g("Monad",[O,F],{}),k=g("Alt",[N],{alt:h}),U=g("Plus",[k],{zero:d}),B=g("Alternative",[O,U],{}),j=g("Foldable",[],{reduce:h}),D=g("Traversable",[N,j],{traverse:h}),V=g("Extend",[N],{extend:h}),G=g("Comonad",[V],{extract:h}),H=g("Contravariant",[],{contramap:h});function q(t){return[t]}function z(t){if(t.length!==this.length)return!1;for(var e=0;e<this.length;e+=1)if(!Q(this[e],t[e]))return!1;return!0}function X(t){for(var e=0;;e+=1){if(e===this.length)return!0;if(e===t.length)return!1;if(!Q(this[e],t[e]))return Z(this[e],t[e])}}function W(t){return this.concat(t)}function K(t){var e={};function n(t){e[t]=this[t]}return i(this,n),i(t,n),e}var $={Null:{prototype:{toString:function(){return"null"},"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{toString:function(){return"undefined"},"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{toString:function(){return"object"==typeof this?"new Boolean("+Y(this.valueOf())+")":this.toString()},"fantasy-land/equals":function(t){return"object"==typeof this?Q(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{toString:function(){return"object"==typeof this?"new Number("+Y(this.valueOf())+")":1/this==-1/0?"-0":this.toString(10)},"fantasy-land/equals":function(t){return"object"==typeof this?Q(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{toString:function(){var t=isNaN(this.valueOf())?NaN:this.toISOString();return"new Date("+Y(t)+")"},"fantasy-land/equals":function(t){return Q(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return Z(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{toString:function(){return"object"==typeof this?"new String("+Y(this.valueOf())+")":JSON.stringify(this)},"fantasy-land/equals":function(t){return"object"==typeof this?Q(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?Z(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":q,"fantasy-land/chainRec":function(t,e){for(var n=[],r={},o={head:e,tail:r};o!==r;){for(var i=r,u=t(l,f,o.head),a=0;a<u.length;a+=1){var s=u[a];s.done?n.push(s.value):i={head:s.value,tail:i}}for(o=o.tail;i!==r;)o={head:i.head,tail:o},i=i.tail}return n},"fantasy-land/zero":function(){return[]},prototype:{toString:function(){for(var t=this.map(Y),e=Object.keys(this).sort(),n=0;n<e.length;n+=1){var r=e[n];/^\d+$/.test(r)||t.push(Y(r)+": "+Y(this[r]))}return"["+t.join(", ")+"]"},"fantasy-land/equals":z,"fantasy-land/lte":X,"fantasy-land/concat":W,"fantasy-land/filter":function(t){return this.filter(function(e){return t(e)})},"fantasy-land/map":function(t){return this.map(function(e){return t(e)})},"fantasy-land/ap":function(t){for(var e=[],n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)e.push(t[n](this[r]));return e},"fantasy-land/chain":function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=0,o=t(this[n]);r<o.length;r+=1)e.push(o[r]);return e},"fantasy-land/alt":W,"fantasy-land/reduce":function(t,e){for(var n=e,r=0;r<this.length;r+=1)n=t(n,this[r]);return n},"fantasy-land/traverse":function(t,e){var n=this;function o(i,u){switch(u){case 0:return at(t,[]);case 2:return ut(s,e(n[i]),e(n[i+1]));default:var a=2*Math.floor(u/4);return ut(r,o(i,a),o(i+a,u-a))}}return this.length%2==1?ut(r,rt(q,e(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(e,n,r){return t(r.slice(n))})}}},Arguments:{prototype:{toString:function(){return"(function () { return arguments; }("+Array.prototype.map.call(this,Y).join(", ")+"))"},"fantasy-land/equals":function(t){return z.call(this,t)},"fantasy-land/lte":function(t){return X.call(this,t)}}},Error:{prototype:{toString:function(){return"new "+this.name+"("+Y(this.message)+")"},"fantasy-land/equals":function(t){return Q(this.name,t.name)&&Q(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{toString:function(){for(var t=[],e=Object.keys(this).sort(),n=0;n<e.length;n+=1){var r=e[n];t.push(Y(r)+": "+Y(this[r]))}return"{"+t.join(", ")+"}"},"fantasy-land/equals":function(t){var e=this,n=Object.keys(this).sort();return Q(n,Object.keys(t).sort())&&n.every(function(n){return Q(e[n],t[n])})},"fantasy-land/lte":function(t){for(var e=Object.keys(this).sort(),n=Object.keys(t).sort();;){if(0===e.length)return!0;if(0===n.length)return!1;var r=e.shift(),o=n.shift();if(r<o)return!0;if(r>o)return!1;if(!Q(this[r],t[r]))return Z(this[r],t[r])}},"fantasy-land/concat":K,"fantasy-land/filter":function(t){var e={};return i(this,function(n){t(this[n])&&(e[n]=this[n])}),e},"fantasy-land/map":function(t){var e={};return i(this,function(n){e[n]=t(this[n])}),e},"fantasy-land/ap":function(t){var e={};return i(this,function(n){u(n,t)&&(e[n]=t[n](this[n]))}),e},"fantasy-land/alt":K,"fantasy-land/reduce":function(t,e){var n=this;return Object.keys(this).sort().reduce(function(e,r){return t(e,n[r])},e)},"fantasy-land/traverse":function(t,e){var n=this;return Object.keys(this).reduce(function(t,r){return ut(function(t){return function(e){var n={};return n[r]=e,K.call(t,n)}},t,e(n[r]))},at(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(e){return t}},"fantasy-land/chainRec":function(t,e){return function(n){for(var r=l(e);!r.done;)r=t(l,f,r.value)(n);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/map":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/promap":function(t,e){var n=this;return function(r){return e(n(t(r)))}},"fantasy-land/ap":function(t){var e=this;return function(n){return t(n)(e(n))}},"fantasy-land/chain":function(t){var e=this;return function(n){return t(e(n))(n)}},"fantasy-land/extend":function(t){var e=this;return function(n){return t(function(t){return e(tt(n,t))})}},"fantasy-land/contramap":function(t){var e=this;return function(n){return e(t(n))}}}}},Y=function(){var e=[];function n(t,n){e.push(n);try{return t.call(n)}finally{e.pop()}}return function(r){if(e.indexOf(r)>=0)return"<Circular>";var o=t(r);if("Object"===o){var i;try{i=n(r.toString,r)}catch(t){}if(null!=i&&"[object Object]"!==i)return i}return n(v([o,"prototype","toString"])||r.toString,r)}}(),Q=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return!0;t.push([e,n]);try{return E.test(e)&&E.test(n)&&E.methods.equals(e)(n)}finally{t.pop()}}}();function J(t,e){return c(t,e)&&!Z(e,t)}var Z=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return Q(e,n);t.push([e,n]);try{return b.test(e)&&b.test(n)&&b.methods.lte(e)(n)}finally{t.pop()}}}();function tt(t,e){return S.methods.concat(t)(e)}function et(t){return R.methods.empty(t)()}function nt(t,e){return M.methods.filter(e)(t)}function rt(t,e){return N.methods.map(e)(t)}function ot(t,e,n){return w.methods.bimap(n)(t,e)}function it(t,e){return C.methods.ap(e)(t)}function ut(t,e,n){return it(rt(t,e),n)}function at(t,e){return O.methods.of(t)(e)}function st(t,e){return F.methods.chain(e)(t)}function ct(t,e,n){return j.methods.reduce(n)(t,e)}function lt(t,e){var n=ct(function(e,n){return e.push({idx:e.length,x:n,fx:t(n)}),e},[],e),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,e){return t<=e||t!=t};case"string":return function(t,e){return t<=e};default:return Z}}(n[0]);if(n.sort(function(t,e){return r(t.fx,e.fx)?r(e.fx,t.fx)?t.idx-e.idx:-1:1}),Array.isArray(e)){for(var o=0;o<n.length;o+=1)n[o]=n[o].x;return n}var i=e.constructor,u=et(i);for(o=0;o<n.length;o+=1)u=tt(u,at(i,n[o].x));return u}function ft(t,e,n){return D.methods.traverse(n)(t,e)}function pt(t,e){return V.methods.extend(e)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:S,Monoid:R,Group:x,Filterable:M,Functor:N,Bifunctor:w,Profunctor:I,Apply:C,Applicative:O,Chain:F,ChainRec:P,Monad:L,Alt:k,Plus:U,Alternative:B,Foldable:j,Traversable:D,Extend:V,Comonad:G,Contravariant:H,toString:Y,equals:Q,lt:J,lte:Z,gt:function(t,e){return J(e,t)},gte:function(t,e){return Z(e,t)},min:function(t,e){return Z(t,e)?t:e},max:function(t,e){return Z(t,e)?e:t},compose:function(t,e){return T.methods.compose(e)(t)},id:function(t){return A.methods.id(t)()},concat:tt,empty:et,invert:function(t){return x.methods.invert(t)()},filter:nt,reject:function(t,e){return nt(function(e){return!t(e)},e)},map:rt,flip:function(t,e){return N.methods.map(t)(function(t){return function(e){return e(t)}}(e))},bimap:ot,mapLeft:function(t,e){return ot(t,a,e)},promap:function(t,e,n){return I.methods.promap(n)(t,e)},ap:it,lift2:ut,lift3:function(t,e,n,r){return it(it(rt(t,e),n),r)},apFirst:function(t,e){return ut(o,t,e)},apSecond:function(t,e){return ut(o(a),t,e)},of:at,append:function(t,e){return tt(e,at(e.constructor,t))},prepend:function(t,e){return tt(at(e.constructor,t),e)},chain:st,join:function(t){return st(a,t)},chainRec:function(t,e,n){return P.methods.chainRec(t)(e,n)},alt:function(t,e){return k.methods.alt(t)(e)},zero:function(t){return U.methods.zero(t)()},reduce:ct,size:function(t){return Array.isArray(t)?t.length:ct(function(t,e){return t+1},0,t)},elem:function(t,e){return ct(function(e,n){return e||Q(t,n)},!1,e)},foldMap:function(t,e,n){return ct(function(t,n){return tt(t,e(n))},et(t),n)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var e=t.constructor;return ct(function(t,n){return tt(at(e,n),t)},et(e),t)},sort:function(t){return lt(a,t)},sortBy:lt,takeWhile:function(t,e){var n=!0;return nt(function(e){return n=n&&t(e)},e)},dropWhile:function(t,e){var n=!1;return nt(function(e){return n=n||!t(e)},e)},traverse:ft,sequence:function(t,e){return ft(t,a,e)},extend:pt,duplicate:function(t){return pt(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,e){return H.methods.contramap(e)(t)}}})},function(t,e,n){(function(r){var o,i,u;!function(r){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=r(n(45),n(15),n(40),n(37),n(4),n(13),n(9)):null!=n(1)?(i=[n(45),n(15),n(40),n(37),n(4),n(13),n(9)],void 0===(u="function"==typeof(o=r)?o.apply(e,i):o)||(t.exports=u)):self.sanctuary=r(self.sanctuaryDef,self.sanctuaryEither,self.sanctuaryMaybe,self.sanctuaryPair,self.sanctuaryShow,self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)}(function(t,e,o,i,u,a,s){"use strict";if("undefined"!=typeof __doctest){var c=__doctest.require("sanctuary-descending"),l=(__doctest.require("./test/internal/List").Nil,__doctest.require("./test/internal/List").Cons,__doctest.require("./test/internal/Sum"));!function(e){var n=t.UnaryType("sanctuary/Descending")("")(T(c["@@type"]))(y(K(Array))(a.extract));e.create({checkTypes:!0,env:e.env.concat([n(t.Unknown),__doctest.require("./test/internal/List").Type(t.Unknown),l.Type])}).env=e.env}(n(12))}var f=e.Left,p=e.Right,d=o.Nothing,h=o.Just;function y(t){return function(e){return function(n){return t(e(n))}}}function m(t){return function(e){return function(n){return t(n)(e)}}}function v(e){return function(n){return t.Function([e,n])}}function _(t){return y(function(e){return t in e?h(e[t]):d})(b)}function g(t){return function(e){return e[t]()}}function E(t){return function(e){return function(n){return n[t](e)}}}function b(t){return null==t?Object.create(null):Object(t)}function T(t){return function(e){return s(e)===t}}function A(t){return t.value}var S=t.TypeVariable("a"),R=t.TypeVariable("b"),x=t.TypeVariable("c"),M=t.TypeVariable("d"),N=t.TypeVariable("e"),w=t.TypeVariable("g"),I=t.TypeVariable("l"),C=t.TypeVariable("r"),O=t.UnaryTypeVariable("f"),F=t.UnaryTypeVariable("m"),P=t.UnaryTypeVariable("t"),L=t.UnaryTypeVariable("w"),k=t.BinaryTypeVariable("p"),U=t.BinaryTypeVariable("s"),B=t.BinaryType("sanctuary/Either")("https://github.com/sanctuary-js/sanctuary-either")(T("sanctuary-either/Either@1"))(ct(K(Array))(Y([])))(ct(Y([]))(K(Array))),j=t.UnaryType("sanctuary/Maybe")("https://github.com/sanctuary-js/sanctuary-maybe")(T("sanctuary-maybe/Maybe@1"))(rt([])(K(Array))),D=t.BinaryType("sanctuary/Pair")("https://github.com/sanctuary-js/sanctuary-pair")(T("sanctuary-pair/Pair@1"))(function(t){return[t.fst]})(function(t){return[t.snd]}),V=t.UnaryType("sanctuary/TypeRep")("https://github.com/fantasyland/fantasy-land#type-representatives")(function(e){return t.AnyFunction._test(e)||null!=e&&t.String._test(e["@@type"])})(Y([])),G=t.RecordType({checkTypes:t.Boolean,env:t.Array(t.Any)}),H={};function q(n){var r=t.create(n),i={env:n.env,is:r("is")({})([t.Type,t.Any,t.Boolean])(t.test(n.env)),MaybeType:j,Maybe:o,Nothing:d,EitherType:B,Either:e,PairType:D};return Object.keys(H).forEach(function(t){i[t]=r(t)(H[t].consts)(H[t].types)(H[t].impl)}),i.unchecked=n.checkTypes?q({checkTypes:!1,env:n.env}):i,i}function z(t){return function(e){return a.filter(t,e)}}function X(t){return function(e){return a.map(t,e)}}function W(t){return function(e){return function(n){return a.reduce(function(e,n){return t(e)(n)},e,n)}}}function K(t){return function(e){return a.of(t,e)}}function $(t){return t}function Y(t){return function(e){return t}}function Q(t){return function(e){return e(t)}}function J(t){return function(e){return function(n){return t(e,n)}}}function Z(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}}function tt(t){return function(e){return function(n){return function(r){return function(o){return t(e,n,r,o)}}}}}function et(t){return t.isJust}function nt(t){return null==t?d:h(t)}function rt(t){return function(e){return function(n){return n.isJust?e(n.value):t}}}function ot(t){return function(e){return function(n){return n.isJust?e(n.value):t()}}}function it(t){return X(A)(z(et)(t))}function ut(t){return y(dt)(lt($)(t))}function at(t){return t.isLeft}function st(t){return t.isRight}function ct(t){return function(e){return function(n){return(n.isLeft?t:e)(n.value)}}}function lt(t){return function(e){return function(n){try{return p(e(n))}catch(e){return f(t(e))}}}}function ft(t){return function(e){return function(n){return function(r){try{return p(e(n)(r))}catch(e){return f(t(e))}}}}}function pt(t){return function(e){return function(n){return function(r){return function(o){try{return p(e(n)(r)(o))}catch(e){return f(t(e))}}}}}}function dt(t){return t.isLeft?d:h(t.value)}function ht(t){return!t}function yt(t){return function(e){return function(n){return function(r){return(t(r)?e:n)(r)}}}}function mt(t){return function(e){for(var n=[],r=t(e);r.isJust;r=t(r.value.snd))n.push(r.value.fst);return n}}function vt(t){return function(e){return function(n){for(var r=[],o=Math.min(e.length,n.length),i=0;i<o;i+=1)r.push(t(e[i])(n[i]));return r}}}function _t(t){return function(e){var n={};return n[t]=e,n}}function gt(t){return function(e){return t+e}}function Et(t){return function(e){return t*e}}function bt(t){return"(?:"+t.join("|")+")"}H.create={consts:{},types:[G,t.Object],impl:q},H.type={consts:{},types:[t.Any,t.RecordType({namespace:j(t.String),name:t.String,version:t.NonNegativeInteger})],impl:function(t){var e=s.parse(s(t));return e.namespace=nt(e.namespace),e}},H.show={consts:{},types:[t.Any,t.String],impl:u},H.equals={consts:{a:[a.Setoid]},types:[S,S,t.Boolean],impl:J(a.equals)},H.lt={consts:{a:[a.Ord]},types:[S,S,t.Boolean],impl:function(t){return function(e){return a.lt(e,t)}}},H.lte={consts:{a:[a.Ord]},types:[S,S,t.Boolean],impl:function(t){return function(e){return a.lte(e,t)}}},H.gt={consts:{a:[a.Ord]},types:[S,S,t.Boolean],impl:function(t){return function(e){return a.gt(e,t)}}},H.gte={consts:{a:[a.Ord]},types:[S,S,t.Boolean],impl:function(t){return function(e){return a.gte(e,t)}}},H.min={consts:{a:[a.Ord]},types:[S,S,S],impl:J(a.min)},H.max={consts:{a:[a.Ord]},types:[S,S,S],impl:J(a.max)},H.id={consts:{c:[a.Category]},types:[V(x),x],impl:a.id},H.concat={consts:{a:[a.Semigroup]},types:[S,S,S],impl:J(a.concat)},H.empty={consts:{a:[a.Monoid]},types:[V(S),S],impl:a.empty},H.invert={consts:{g:[a.Group]},types:[w,w],impl:a.invert},H.filter={consts:{f:[a.Filterable]},types:[t.Predicate(S),O(S),O(S)],impl:z},H.reject={consts:{f:[a.Filterable]},types:[t.Predicate(S),O(S),O(S)],impl:J(a.reject)},H.takeWhile={consts:{f:[a.Filterable]},types:[t.Predicate(S),O(S),O(S)],impl:J(a.takeWhile)},H.dropWhile={consts:{f:[a.Filterable]},types:[t.Predicate(S),O(S),O(S)],impl:J(a.dropWhile)},H.map={consts:{f:[a.Functor]},types:[v(S)(R),O(S),O(R)],impl:X},H.flip={consts:{f:[a.Functor]},types:[O(v(S)(R)),S,O(R)],impl:J(a.flip)},H.bimap={consts:{p:[a.Bifunctor]},types:[v(S)(R),v(x)(M),k(S)(x),k(R)(M)],impl:Z(a.bimap)},H.mapLeft={consts:{p:[a.Bifunctor]},types:[v(S)(R),k(S)(x),k(R)(x)],impl:J(a.mapLeft)},H.promap={consts:{p:[a.Profunctor]},types:[v(S)(R),v(x)(M),k(R)(x),k(S)(M)],impl:Z(a.promap)},H.alt={consts:{f:[a.Alt]},types:[O(S),O(S),O(S)],impl:J(a.alt)},H.zero={consts:{f:[a.Plus]},types:[V(t.TypeVariable("f")),O(S)],impl:a.zero},H.reduce={consts:{f:[a.Foldable]},types:[v(S)(v(R)(S)),S,O(R),S],impl:W},H.traverse={consts:{f:[a.Applicative],t:[a.Traversable]},types:[V(t.TypeVariable("f")),v(S)(O(R)),P(S),O(P(R))],impl:Z(a.traverse)},H.sequence={consts:{f:[a.Applicative],t:[a.Traversable]},types:[V(t.TypeVariable("f")),P(O(S)),O(P(S))],impl:J(a.sequence)},H.ap={consts:{f:[a.Apply]},types:[O(v(S)(R)),O(S),O(R)],impl:J(a.ap)},H.lift2={consts:{f:[a.Apply]},types:[v(S)(v(R)(x)),O(S),O(R),O(x)],impl:Z(a.lift2)},H.lift3={consts:{f:[a.Apply]},types:[v(S)(v(R)(v(x)(M))),O(S),O(R),O(x),O(M)],impl:tt(a.lift3)},H.apFirst={consts:{f:[a.Apply]},types:[O(S),O(R),O(S)],impl:J(a.apFirst)},H.apSecond={consts:{f:[a.Apply]},types:[O(S),O(R),O(R)],impl:J(a.apSecond)},H.of={consts:{f:[a.Applicative]},types:[V(t.TypeVariable("f")),S,O(S)],impl:K},H.chain={consts:{m:[a.Chain]},types:[v(S)(F(R)),F(S),F(R)],impl:J(a.chain)},H.join={consts:{m:[a.Chain]},types:[F(F(S)),F(S)],impl:a.join},H.chainRec={consts:{m:[a.ChainRec]},types:[V(t.TypeVariable("m")),v(S)(F(B(S)(R))),S,F(R)],impl:function(t){return function(e){return function(e){return a.chainRec(t,n,e)};function n(t,n,r){return a.map(ct(t)(n),e(r))}}}},H.extend={consts:{w:[a.Extend]},types:[v(L(S))(R),L(S),L(R)],impl:J(a.extend)},H.duplicate={consts:{w:[a.Extend]},types:[L(S),L(L(S))],impl:a.duplicate},H.extract={consts:{w:[a.Comonad]},types:[L(S),S],impl:a.extract},H.contramap={consts:{f:[a.Contravariant]},types:[v(R)(S),O(S),O(R)],impl:J(a.contramap)},H.I={consts:{},types:[S,S],impl:$},H.K={consts:{},types:[S,R,S],impl:Y},H.T={consts:{},types:[S,v(S)(R),R],impl:Q},H.curry2={consts:{},types:[t.Function([S,R,x]),S,R,x],impl:J},H.curry3={consts:{},types:[t.Function([S,R,x,M]),S,R,x,M],impl:Z},H.curry4={consts:{},types:[t.Function([S,R,x,M,N]),S,R,x,M,N],impl:tt},H.curry5={consts:{},types:[t.Function([S,R,x,M,N,C]),S,R,x,M,N,C],impl:function(t){return function(e){return function(n){return function(r){return function(o){return function(i){return t(e,n,r,o,i)}}}}}}},H.compose={consts:{s:[a.Semigroupoid]},types:[U(R)(x),U(S)(R),U(S)(x)],impl:J(a.compose)},H.pipe={consts:{f:[a.Foldable]},types:[O(v(t.Any)(t.Any)),S,R],impl:function(t){return function(e){return W(Q)(e)(t)}}},H.pipeK={consts:{f:[a.Foldable],m:[a.Chain]},types:[O(v(t.Any)(F(t.Any))),F(S),F(R)],impl:function(t){return function(e){return a.reduce(function(t,e){return a.chain(e,t)},e,t)}}},H.on={consts:{},types:[v(R)(v(R)(x)),v(S)(R),S,S,x],impl:function(t){return function(e){return function(n){return function(r){return t(e(n))(e(r))}}}}},H.Pair={consts:{},types:[S,R,D(S)(R)],impl:i},H.fst={consts:{},types:[D(S)(R),S],impl:i.fst},H.snd={consts:{},types:[D(S)(R),R],impl:i.snd},H.swap={consts:{},types:[D(S)(R),D(R)(S)],impl:i.swap},H.Just={consts:{},types:[S,j(S)],impl:h},H.isNothing={consts:{},types:[j(S),t.Boolean],impl:function(t){return t.isNothing}},H.isJust={consts:{},types:[j(S),t.Boolean],impl:et},H.fromMaybe={consts:{},types:[S,j(S),S],impl:m(rt)($)},H.fromMaybe_={consts:{},types:[t.Thunk(S),j(S),S],impl:m(ot)($)},H.maybeToNullable={consts:{},types:[j(S),t.Nullable(S)],impl:function(t){return t.isJust?t.value:null}},H.toMaybe={consts:{},types:[S,j(S)],impl:nt},H.maybe={consts:{},types:[R,v(S)(R),j(S),R],impl:rt},H.maybe_={consts:{},types:[t.Thunk(R),v(S)(R),j(S),R],impl:ot},H.justs={consts:{f:[a.Filterable,a.Functor]},types:[O(j(S)),O(S)],impl:it},H.mapMaybe={consts:{f:[a.Filterable,a.Functor]},types:[v(S)(j(R)),O(S),O(R)],impl:y(y(it))(X)},H.encase={consts:{},types:[v(S)(R),S,j(R)],impl:ut},H.encase2={consts:{},types:[v(S)(v(R)(x)),S,R,j(x)],impl:y(y(y(dt)))(ft($))},H.encase3={consts:{},types:[v(S)(v(R)(v(x)(M))),S,R,x,j(M)],impl:y(y(y(y(dt))))(pt($))},H.maybeToEither={consts:{},types:[S,j(R),B(S)(R)],impl:function(t){return rt(f(t))(p)}},H.Left={consts:{},types:[S,B(S)(R)],impl:f},H.Right={consts:{},types:[R,B(S)(R)],impl:p},H.isLeft={consts:{},types:[B(S)(R),t.Boolean],impl:at},H.isRight={consts:{},types:[B(S)(R),t.Boolean],impl:st},H.fromEither={consts:{},types:[R,B(S)(R),R],impl:function(t){return ct(Y(t))($)}},H.toEither={consts:{},types:[S,R,B(S)(R)],impl:function(t){return function(e){return null==e?f(t):p(e)}}},H.either={consts:{},types:[v(S)(x),v(R)(x),B(S)(R),x],impl:ct},H.lefts={consts:{f:[a.Filterable,a.Functor]},types:[O(B(S)(R)),O(S)],impl:y(X(A))(z(at))},H.rights={consts:{f:[a.Filterable,a.Functor]},types:[O(B(S)(R)),O(R)],impl:y(X(A))(z(st))},H.tagBy={consts:{},types:[t.Predicate(S),S,B(S)(S)],impl:function(t){return yt(t)(p)(f)}},H.encaseEither={consts:{},types:[v(t.Error)(I),v(S)(C),S,B(I)(C)],impl:lt},H.encaseEither2={consts:{},types:[v(t.Error)(I),v(S)(v(R)(C)),S,R,B(I)(C)],impl:ft},H.encaseEither3={consts:{},types:[v(t.Error)(I),v(S)(v(R)(v(x)(C))),S,R,x,B(I)(C)],impl:pt},H.eitherToMaybe={consts:{},types:[B(S)(R),j(R)],impl:dt},H.and={consts:{},types:[t.Boolean,t.Boolean,t.Boolean],impl:function(t){return function(e){return t&&e}}},H.or={consts:{},types:[t.Boolean,t.Boolean,t.Boolean],impl:function(t){return function(e){return t||e}}},H.not={consts:{},types:[t.Boolean,t.Boolean],impl:ht},H.complement={consts:{},types:[t.Predicate(S),S,t.Boolean],impl:y(ht)},H.ifElse={consts:{},types:[t.Predicate(S),v(S)(R),v(S)(R),S,R],impl:yt},H.when={consts:{},types:[t.Predicate(S),v(S)(S),S,S],impl:function(t){return m(yt(t))($)}},H.unless={consts:{},types:[t.Predicate(S),v(S)(S),S,S],impl:function(t){return yt(t)($)}},H.allPass={consts:{f:[a.Foldable]},types:[O(t.Predicate(S)),S,t.Boolean],impl:function(t){return function(e){return a.reduce(function(t,n){return t&&n(e)},!0,t)}}},H.anyPass={consts:{f:[a.Foldable]},types:[O(t.Predicate(S)),S,t.Boolean],impl:function(t){return function(e){return a.reduce(function(t,n){return t||n(e)},!1,t)}}},H.slice={consts:{},types:[t.Integer,t.Integer,t.Array(S),j(t.Array(S))],impl:function(t){return function(e){return function(n){var r=t<0?t+n.length:t,o=e<0?e+n.length:e;return Math.abs(t)<=n.length&&Math.abs(e)<=n.length&&r<=o?h(n.slice(r,o)):d}}}},H.at={consts:{},types:[t.Integer,t.Array(S),j(S)],impl:function(t){return function(e){var n=t<0?e.length+t:t;return n<0||n>=e.length?d:h(e[n])}}},H.head={consts:{},types:[t.Array(S),j(S)],impl:function(t){return t.length>0?h(t[0]):d}},H.last={consts:{},types:[t.Array(S),j(S)],impl:function(t){return t.length>0?h(t[t.length-1]):d}},H.tail={consts:{},types:[t.Array(S),j(t.Array(S))],impl:function(t){return t.length>0?h(t.slice(1)):d}},H.init={consts:{},types:[t.Array(S),j(t.Array(S))],impl:function(t){return t.length>0?h(t.slice(0,-1)):d}},H.take={consts:{},types:[t.Integer,t.Array(S),j(t.Array(S))],impl:function(t){return function(e){return t>=0&&t<=e.length?h(e.slice(0,t)):d}}},H.takeLast={consts:{},types:[t.Integer,t.Array(S),j(t.Array(S))],impl:function(t){return function(e){return t>=0&&t<=e.length?h(e.slice(e.length-t)):d}}},H.drop={consts:{},types:[t.Integer,t.Array(S),j(t.Array(S))],impl:function(t){return function(e){return t>=0&&t<=e.length?h(e.slice(t)):d}}},H.dropLast={consts:{},types:[t.Integer,t.Array(S),j(t.Array(S))],impl:function(t){return function(e){return t>=0&&t<=e.length?h(e.slice(0,e.length-t)):d}}},H.size={consts:{f:[a.Foldable]},types:[O(S),t.Integer],impl:a.size},H.append={consts:{f:[a.Applicative,a.Semigroup]},types:[S,O(S),O(S)],impl:J(a.append)},H.prepend={consts:{f:[a.Applicative,a.Semigroup]},types:[S,O(S),O(S)],impl:J(a.prepend)},H.joinWith={consts:{},types:[t.String,t.Array(t.String),t.String],impl:E("join")},H.elem={consts:{a:[a.Setoid],f:[a.Foldable]},types:[S,O(S),t.Boolean],impl:J(a.elem)},H.find={consts:{f:[a.Foldable]},types:[t.Predicate(S),O(S),j(S)],impl:function(t){return function(e){return a.reduce(function(e,n){return e.isJust?e:t(n)?h(n):d},d,e)}}},H.foldMap={consts:{b:[a.Monoid],f:[a.Foldable]},types:[V(R),v(S)(R),O(S),R],impl:Z(a.foldMap)},H.unfoldr={consts:{},types:[v(R)(j(D(S)(R))),R,t.Array(S)],impl:mt},H.range={consts:{},types:[t.Integer,t.Integer,t.Array(t.Integer)],impl:function(t){return function(e){for(var n=[],r=t;r<e;r+=1)n.push(r);return n}}},H.groupBy={consts:{},types:[v(S)(t.Predicate(S)),t.Array(S),t.Array(t.Array(S))],impl:function(t){return function(e){if(0===e.length)return[];for(var n=e[0],r=[n],o=[r],i=1;i<e.length;i+=1){var u=e[i];t(n)(u)?r.push(u):o.push(r=[n=u])}return o}}},H.reverse={consts:{f:[a.Applicative,a.Foldable,a.Monoid]},types:[O(S),O(S)],impl:a.reverse},H.sort={consts:{a:[a.Ord],m:[a.Applicative,a.Foldable,a.Monoid]},types:[F(S),F(S)],impl:a.sort},H.sortBy={consts:{b:[a.Ord],m:[a.Applicative,a.Foldable,a.Monoid]},types:[v(S)(R),F(S),F(S)],impl:J(a.sortBy)},H.zip={consts:{},types:[t.Array(S),t.Array(R),t.Array(D(S)(R))],impl:vt(i)},H.zipWith={consts:{},types:[v(S)(v(R)(x)),t.Array(S),t.Array(R),t.Array(x)],impl:vt},H.prop={consts:{},types:[t.String,S,R],impl:function(t){return function(e){var n=b(e);if(t in n)return n[t];throw new TypeError("prop expected object to have a property named "+t+"; "+u(e)+" does not")}}},H.props={consts:{},types:[t.Array(t.String),S,R],impl:function(t){return function(e){return t.reduce(function(e,n){var r=b(e);if(n in r)return r[n];throw new TypeError("props expected object to have a property at "+u(t)+"; "+u(e)+" does not")},e)}}},H.get={consts:{},types:[t.Predicate(t.Any),t.String,S,j(R)],impl:function(t){return y(y(z(t)))(_)}},H.gets={consts:{},types:[t.Predicate(t.Any),t.Array(t.String),S,j(R)],impl:function(t){return function(e){return function(n){return a.filter(t,e.reduce(function(t,e){return a.chain(_(e),t)},h(n)))}}}},H.singleton={consts:{},types:[t.String,S,t.StrMap(S)],impl:_t},H.insert={consts:{},types:[t.String,S,t.StrMap(S),t.StrMap(S)],impl:function(t){return function(e){return function(n){return a.concat(n,_t(t)(e))}}}},H.remove={consts:{},types:[t.String,t.StrMap(S),t.StrMap(S)],impl:function(t){return function(e){var n=a.concat(e,{});return delete n[t],n}}},H.keys={consts:{},types:[t.StrMap(S),t.Array(t.String)],impl:Object.keys},H.values={consts:{},types:[t.StrMap(S),t.Array(S)],impl:function(t){return a.map(function(e){return t[e]},Object.keys(t))}},H.pairs={consts:{},types:[t.StrMap(S),t.Array(D(t.String)(S))],impl:function(t){return a.map(function(e){return i(e)(t[e])},Object.keys(t))}},H.fromPairs={consts:{f:[a.Foldable]},types:[O(D(t.String)(S)),t.StrMap(S)],impl:function(t){return a.reduce(function(t,e){return t[e.fst]=e.snd,t},{},t)}},H.negate={consts:{},types:[t.ValidNumber,t.ValidNumber],impl:function(t){return-t}},H.add={consts:{},types:[t.FiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:gt},H.sum={consts:{f:[a.Foldable]},types:[O(t.FiniteNumber),t.FiniteNumber],impl:W(gt)(0)},H.sub={consts:{},types:[t.FiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:function(t){return function(e){return e-t}}},H.mult={consts:{},types:[t.FiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:Et},H.product={consts:{f:[a.Foldable]},types:[O(t.FiniteNumber),t.FiniteNumber],impl:W(Et)(1)},H.div={consts:{},types:[t.NonZeroFiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:function(t){return function(e){return e/t}}},H.pow={consts:{},types:[t.FiniteNumber,t.FiniteNumber,t.FiniteNumber],impl:function(t){return function(e){return Math.pow(e,t)}}},H.mean={consts:{f:[a.Foldable]},types:[O(t.FiniteNumber),j(t.FiniteNumber)],impl:function(t){var e=a.reduce(function(t,e){return t.total+=e,t.count+=1,t},{total:0,count:0},t);return e.count>0?h(e.total/e.count):d}},H.even={consts:{},types:[t.Integer,t.Boolean],impl:function(t){return t%2==0}},H.odd={consts:{},types:[t.Integer,t.Boolean],impl:function(t){return t%2!=0}},H.parseDate={consts:{},types:[t.String,j(t.ValidDate)],impl:function(t){var e=new Date(t);return isNaN(e.valueOf())?d:h(e)}};var Tt=new RegExp("^\\s*[+-]?"+bt(["Infinity","NaN",bt(["[0-9]+","[0-9]+[.][0-9]+","[0-9]+[.]","[.][0-9]+"])+(bt(["[Ee][+-]?[0-9]+"])+"?")])+"\\s*$");H.parseFloat={consts:{},types:[t.String,j(t.Number)],impl:function(t){return Tt.test(t)?h(parseFloat(t)):d}};var At=t.NullaryType("sanctuary/Radix")("")(function(e){return t.Integer._test(e)&&e>=2&&e<=36});H.parseInt={consts:{},types:[At,t.String,j(t.Integer)],impl:function(e){return function(n){var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".slice(0,e),o=new RegExp("^["+r+"]+$","i"),i=n.replace(/^[+-]/,"");if(o.test(16===e?i.replace(/^0x/i,""):i)){var u=parseInt(n,e);if(t.Integer._test(u))return h(u)}return d}}},H.parseJson={consts:{},types:[t.Predicate(t.Any),t.String,j(S)],impl:function(t){return y(z(t))(ut(JSON.parse))}};var St=t.RecordType({match:t.String,groups:t.Array(j(t.String))});function Rt(t){return{match:t[0],groups:a.map(nt,t.slice(1))}}function xt(t,e){var n=t.lastIndex,r=e();return t.lastIndex=n,r}return H.regex={consts:{},types:[t.RegexFlags,t.String,t.RegExp],impl:function(t){return function(e){return new RegExp(e,t)}}},H.regexEscape={consts:{},types:[t.String,t.String],impl:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},H.test={consts:{},types:[t.RegExp,t.String,t.Boolean],impl:function(t){return function(e){return xt(t,function(){return t.test(e)})}}},H.match={consts:{},types:[t.NonGlobalRegExp,t.String,j(St)],impl:function(t){return function(e){return a.map(Rt,nt(e.match(t)))}}},H.matchAll={consts:{},types:[t.GlobalRegExp,t.String,t.Array(St)],impl:function(t){return function(e){return xt(t,function(){return mt(function(n){return a.map(function(t){return i(Rt(t))(null)},nt(t.exec(e)))})([])})}}},H.toUpper={consts:{},types:[t.String,t.String],impl:g("toUpperCase")},H.toLower={consts:{},types:[t.String,t.String],impl:g("toLowerCase")},H.trim={consts:{},types:[t.String,t.String],impl:g("trim")},H.stripPrefix={consts:{},types:[t.String,t.String,j(t.String)],impl:function(t){return function(e){var n=t.length;return e.slice(0,n)===t?h(e.slice(n)):d}}},H.stripSuffix={consts:{},types:[t.String,t.String,j(t.String)],impl:function(t){return function(e){var n=e.length-t.length;return e.slice(n)===t?h(e.slice(0,n)):d}}},H.words={consts:{},types:[t.String,t.Array(t.String)],impl:function(t){var e=t.split(/\s+/),n=e.length;return e.slice(""===e[0]?1:0,""===e[n-1]?n-1:n)}},H.unwords={consts:{},types:[t.Array(t.String),t.String],impl:E("join")(" ")},H.lines={consts:{},types:[t.String,t.Array(t.String)],impl:function(t){return""===t?[]:t.replace(/\r\n?/g,"\n").match(/^(?=[\s\S]).*/gm)}},H.unlines={consts:{},types:[t.Array(t.String),t.String],impl:function(t){return t.reduce(function(t,e){return t+e+"\n"},"")}},H.splitOn={consts:{},types:[t.String,t.String,t.Array(t.String)],impl:E("split")},H.splitOnRegex={consts:{},types:[t.GlobalRegExp,t.String,t.Array(t.String)],impl:function(t){return function(e){return xt(t,function(){for(var n,r=[],o=0;null!=(n=t.exec(e));)if(t.lastIndex===o&&""===n[0]){if(t.lastIndex===e.length)return r;t.lastIndex+=1}else r.push(e.slice(o,n.index)),o=n.index+n[0].length;return r.push(e.slice(o)),r})}}},q({checkTypes:void 0===r||null==r||null==Object({NODE_ENV:"production",BROADCAST:void 0,BUILD_VERSION:"0.0.1-alpha"})||!1,env:a.concat(t.env,[t.FiniteNumber,t.NonZeroFiniteNumber,B(t.Unknown)(t.Unknown),v(t.Unknown)(t.Unknown),t.GlobalRegExp,t.NonGlobalRegExp,t.Integer,t.NonNegativeInteger,j(t.Unknown),t.Array2(t.Unknown)(t.Unknown),D(t.Unknown)(t.Unknown),t.RegexFlags,t.Type,t.TypeClass,t.ValidDate,t.ValidNumber])})})}).call(this,n(19))},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(n(41)):null!=n(1)?(o=[n(41)],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeClasses=u(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var e=__doctest.require("./test/List"),n=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),e.Nil,e.Cons,n.Nothing,n.Just}function r(t){return function(e){return t.concat(e)}}function o(t){return function(e){return t}}function i(t,e){Object.keys(t).forEach(e,t)}function u(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function a(t){return t}function s(t){return function(e){return[t,e]}}function c(e,n){return typeof e==typeof n&&t(e)===t(n)}function l(t){return{value:t,done:!1}}function f(t){return{value:t,done:!0}}function p(t,e,n,r){if(!(this instanceof p))return new p(t,e,n,r);this.name=t,this.url=e,this.test=function(t){return n.every(function(e){return e.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var d="Constructor",h="Value";function y(t,e,n){for(var r=n,o=0;o<e.length;o+=1){var i=e[o];if(null==r||!t&&!u(i,r))return null;r=r[i]}return"function"==typeof r?r:null}function m(t,e){return y(!0,t,e)}function v(t){return y(!1,t,$)}var _=u("name",function(){})?function(t){return t.name}:function(t){var e=/function (\w*)/.exec(t);return null==e?"":e[1]};function g(e,n,r){function o(e){var n="fantasy-land/"+e;return r[e]===d?function(t){var e=m([n],t);return null==e&&"function"==typeof t?v([_(t),n]):e}:function(e){var r=null;return null!=e&&null!=e.constructor&&e.constructor.prototype===e||(r=m([n],e)),null==r&&(r=v([t(e),"prototype",n])),r&&r.bind(e)}}var i=Object.keys(r),u=p("sanctuary-type-classes/"+e,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+e,n,function(t){return i.every(function(e){var n=r[e]===d?t.constructor:t;return null!=o(e)(n)})});return u.methods=i.reduce(function(t,e){return t[e]=o(e),t},{}),u}var E=g("Setoid",[],{equals:h}),b=g("Ord",[E],{lte:h}),T=g("Semigroupoid",[],{compose:h}),A=g("Category",[T],{id:d}),S=g("Semigroup",[],{concat:h}),R=g("Monoid",[S],{empty:d}),x=g("Group",[R],{invert:h}),M=g("Filterable",[],{filter:h}),N=g("Functor",[],{map:h}),w=g("Bifunctor",[N],{bimap:h}),I=g("Profunctor",[N],{promap:h}),C=g("Apply",[N],{ap:h}),O=g("Applicative",[C],{of:d}),F=g("Chain",[C],{chain:h}),P=g("ChainRec",[F],{chainRec:d}),L=g("Monad",[O,F],{}),k=g("Alt",[N],{alt:h}),U=g("Plus",[k],{zero:d}),B=g("Alternative",[O,U],{}),j=g("Foldable",[],{reduce:h}),D=g("Traversable",[N,j],{traverse:h}),V=g("Extend",[N],{extend:h}),G=g("Comonad",[V],{extract:h}),H=g("Contravariant",[],{contramap:h});function q(t){return[t]}function z(t){if(t.length!==this.length)return!1;for(var e=0;e<this.length;e+=1)if(!Y(this[e],t[e]))return!1;return!0}function X(t){for(var e=0;;e+=1){if(e===this.length)return!0;if(e===t.length)return!1;if(!Y(this[e],t[e]))return J(this[e],t[e])}}function W(t){return this.concat(t)}function K(t){var e={};function n(t){e[t]=this[t]}return i(this,n),i(t,n),e}var $={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return Y(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return J(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":q,"fantasy-land/chainRec":function(t,e){for(var n=[],r={},o={head:e,tail:r};o!==r;){for(var i=r,u=t(l,f,o.head),a=0;a<u.length;a+=1){var s=u[a];s.done?n.push(s.value):i={head:s.value,tail:i}}for(o=o.tail;i!==r;)o={head:i.head,tail:o},i=i.tail}return n},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":z,"fantasy-land/lte":X,"fantasy-land/concat":W,"fantasy-land/filter":function(t){return this.filter(function(e){return t(e)})},"fantasy-land/map":function(t){return this.map(function(e){return t(e)})},"fantasy-land/ap":function(t){for(var e=[],n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)e.push(t[n](this[r]));return e},"fantasy-land/chain":function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=0,o=t(this[n]);r<o.length;r+=1)e.push(o[r]);return e},"fantasy-land/alt":W,"fantasy-land/reduce":function(t,e){for(var n=e,r=0;r<this.length;r+=1)n=t(n,this[r]);return n},"fantasy-land/traverse":function(t,e){var n=this;function o(i,u){switch(u){case 0:return ut(t,[]);case 2:return it(s,e(n[i]),e(n[i+1]));default:var a=2*Math.floor(u/4);return it(r,o(i,a),o(i+a,u-a))}}return this.length%2==1?it(r,nt(q,e(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(e,n,r){return t(r.slice(n))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return z.call(this,t)},"fantasy-land/lte":function(t){return X.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return Y(this.name,t.name)&&Y(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var e=this,n=Object.keys(this).sort();return Y(n,Object.keys(t).sort())&&n.every(function(n){return Y(e[n],t[n])})},"fantasy-land/lte":function(t){for(var e=Object.keys(this).sort(),n=Object.keys(t).sort();;){if(0===e.length)return!0;if(0===n.length)return!1;var r=e.shift(),o=n.shift();if(r<o)return!0;if(r>o)return!1;if(!Y(this[r],t[r]))return J(this[r],t[r])}},"fantasy-land/concat":K,"fantasy-land/filter":function(t){var e={};return i(this,function(n){t(this[n])&&(e[n]=this[n])}),e},"fantasy-land/map":function(t){var e={};return i(this,function(n){e[n]=t(this[n])}),e},"fantasy-land/ap":function(t){var e={};return i(this,function(n){u(n,t)&&(e[n]=t[n](this[n]))}),e},"fantasy-land/alt":K,"fantasy-land/reduce":function(t,e){var n=this;return Object.keys(this).sort().reduce(function(e,r){return t(e,n[r])},e)},"fantasy-land/traverse":function(t,e){var n=this;return Object.keys(this).reduce(function(t,r){return it(function(t){return function(e){var n={};return n[r]=e,K.call(t,n)}},t,e(n[r]))},ut(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(e){return t}},"fantasy-land/chainRec":function(t,e){return function(n){for(var r=l(e);!r.done;)r=t(l,f,r.value)(n);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/map":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/promap":function(t,e){var n=this;return function(r){return e(n(t(r)))}},"fantasy-land/ap":function(t){var e=this;return function(n){return t(n)(e(n))}},"fantasy-land/chain":function(t){var e=this;return function(n){return t(e(n))(n)}},"fantasy-land/extend":function(t){var e=this;return function(n){return t(function(t){return e(Z(n,t))})}},"fantasy-land/contramap":function(t){var e=this;return function(n){return e(t(n))}}}}},Y=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return!0;t.push([e,n]);try{return E.test(e)&&E.test(n)&&E.methods.equals(e)(n)}finally{t.pop()}}}();function Q(t,e){return c(t,e)&&!J(e,t)}var J=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return Y(e,n);t.push([e,n]);try{return b.test(e)&&b.test(n)&&b.methods.lte(e)(n)}finally{t.pop()}}}();function Z(t,e){return S.methods.concat(t)(e)}function tt(t){return R.methods.empty(t)()}function et(t,e){return M.methods.filter(e)(t)}function nt(t,e){return N.methods.map(e)(t)}function rt(t,e,n){return w.methods.bimap(n)(t,e)}function ot(t,e){return C.methods.ap(e)(t)}function it(t,e,n){return ot(nt(t,e),n)}function ut(t,e){return O.methods.of(t)(e)}function at(t,e){return F.methods.chain(e)(t)}function st(t,e,n){return j.methods.reduce(n)(t,e)}function ct(t,e){var n=st(function(e,n){return e.push({idx:e.length,x:n,fx:t(n)}),e},[],e),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,e){return t<=e||t!=t};case"string":return function(t,e){return t<=e};default:return J}}(n[0]);if(n.sort(function(t,e){return r(t.fx,e.fx)?r(e.fx,t.fx)?t.idx-e.idx:-1:1}),Array.isArray(e)){for(var o=0;o<n.length;o+=1)n[o]=n[o].x;return n}var i=e.constructor,u=tt(i);for(o=0;o<n.length;o+=1)u=Z(u,ut(i,n[o].x));return u}function lt(t,e,n){return D.methods.traverse(n)(t,e)}function ft(t,e){return V.methods.extend(e)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:S,Monoid:R,Group:x,Filterable:M,Functor:N,Bifunctor:w,Profunctor:I,Apply:C,Applicative:O,Chain:F,ChainRec:P,Monad:L,Alt:k,Plus:U,Alternative:B,Foldable:j,Traversable:D,Extend:V,Comonad:G,Contravariant:H,equals:Y,lt:Q,lte:J,gt:function(t,e){return Q(e,t)},gte:function(t,e){return J(e,t)},min:function(t,e){return J(t,e)?t:e},max:function(t,e){return J(t,e)?e:t},compose:function(t,e){return T.methods.compose(e)(t)},id:function(t){return A.methods.id(t)()},concat:Z,empty:tt,invert:function(t){return x.methods.invert(t)()},filter:et,reject:function(t,e){return et(function(e){return!t(e)},e)},map:nt,flip:function(t,e){return N.methods.map(t)(function(t){return function(e){return e(t)}}(e))},bimap:rt,mapLeft:function(t,e){return rt(t,a,e)},promap:function(t,e,n){return I.methods.promap(n)(t,e)},ap:ot,lift2:it,lift3:function(t,e,n,r){return ot(ot(nt(t,e),n),r)},apFirst:function(t,e){return it(o,t,e)},apSecond:function(t,e){return it(o(a),t,e)},of:ut,append:function(t,e){return Z(e,ut(e.constructor,t))},prepend:function(t,e){return Z(ut(e.constructor,t),e)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,e,n){return P.methods.chainRec(t)(e,n)},alt:function(t,e){return k.methods.alt(t)(e)},zero:function(t){return U.methods.zero(t)()},reduce:st,size:function(t){return Array.isArray(t)?t.length:st(function(t,e){return t+1},0,t)},elem:function(t,e){return st(function(e,n){return e||Y(t,n)},!1,e)},foldMap:function(t,e,n){return st(function(t,n){return Z(t,e(n))},tt(t),n)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var e=t.constructor;return st(function(t,n){return Z(ut(e,n),t)},tt(e),t)},sort:function(t){return ct(a,t)},sortBy:ct,takeWhile:function(t,e){var n=!0;return et(function(e){return n=n&&t(e)},e)},dropWhile:function(t,e){var n=!1;return et(function(e){return n=n||!t(e)},e)},traverse:lt,sequence:function(t,e){return lt(t,a,e)},extend:ft,duplicate:function(t){return ft(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,e){return H.methods.contramap(e)(t)}}})},function(t,e,n){(function(t,r){var o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,u=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<i;s=r[++n])y(s)||!E(s)?u+=" "+s:u+=" "+a(s);return u},e.deprecate=function(n,o){if(_(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}};var i,u={};function a(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,t,r.depth)}function s(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&A(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return v(o)||(o=l(t,o,r)),o}var i=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):h(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}(t,n);if(i)return i;var u=Object.keys(n),a=function(t){var e={};return u.forEach(function(t,n){e[t]=!0}),e}();if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),T(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(A(n)){var s=n.name?": "+n.name:"";return t.stylize("[Function"+s+"]","special")}if(g(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return f(n)}var c,E="",S=!1,R=["{","}"];return d(n)&&(S=!0,R=["[","]"]),A(n)&&(E=" [Function"+(n.name?": "+n.name:"")+"]"),g(n)&&(E=" "+RegExp.prototype.toString.call(n)),b(n)&&(E=" "+Date.prototype.toUTCString.call(n)),T(n)&&(E=" "+f(n)),0!==u.length||S&&0!=n.length?r<0?g(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=S?function(t,e,n,r,o){for(var i=[],u=0,a=e.length;u<a;++u)M(e,String(u))?i.push(p(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}(t,n,r,a,u):u.map(function(e){return p(t,n,r,a,e,S)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,E,R)):R[0]+E+R[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o,i){var u,a,s;if((s=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(a=t.stylize("[Setter]","special")),M(r,o)||(u="["+o+"]"),a||(t.seen.indexOf(s.value)<0?(a=y(n)?l(t,s.value,null):l(t,s.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),_(u)){if(i&&o.match(/^\d+$/))return a;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+a}function d(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function v(t){return"string"==typeof t}function _(t){return void 0===t}function g(t){return E(t)&&"[object RegExp]"===S(t)}function E(t){return"object"==typeof t&&null!==t}function b(t){return E(t)&&"[object Date]"===S(t)}function T(t){return E(t)&&("[object Error]"===S(t)||t instanceof Error)}function A(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function R(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(_(i)&&(i=Object({NODE_ENV:"production",BROADCAST:void 0,BUILD_VERSION:"0.0.1-alpha"}).NODE_DEBUG||""),t=t.toUpperCase(),!u[t])if(new RegExp("\\b"+t+"\\b","i").test(i)){var n=r.pid;u[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else u[t]=function(){};return u[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=h,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=g,e.isObject=E,e.isDate=b,e.isError=T,e.isFunction=A,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(107);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.inherits=n(106),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,n(42),n(19))},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(n(4),n(44)):null!=n(1)?(o=[n(4),n(44)],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryEither=u(self.sanctuaryShow,self.sanctuaryTypeClasses)}(function(e,r){"use strict";if("undefined"!=typeof __doctest){var o=__doctest.require("sanctuary-def"),i=__doctest.require("sanctuary-type-identifiers");!function(){var t=__doctest.require("sanctuary"),e=o.BinaryType("sanctuary-either/Either")("")(function(t){return i(t)===u["@@type"]})(function(t){return t.isLeft?[t.value]:[]})(function(t){return t.isLeft?[]:[t.value]}),n=r.concat(t.env,[o.TypeClass,e(o.Unknown)(o.Unknown)]);t.create({checkTypes:!0,env:n})}()}var u={},a={constructor:u,isLeft:!0,isRight:!1,"@@show":y,"fantasy-land/map":function(t){return this},"fantasy-land/bimap":function(t,e){return f(t(this.value))},"fantasy-land/ap":function(t){return t.isLeft?t:this},"fantasy-land/chain":function(t){return this},"fantasy-land/alt":function(t){return t},"fantasy-land/reduce":function(t,e){return e},"fantasy-land/traverse":function(t,e){return r.of(t,this)},"fantasy-land/extend":function(t){return this}},s={constructor:u,isLeft:!1,isRight:!0,"@@show":m,"fantasy-land/map":function(t){return p(t(this.value))},"fantasy-land/bimap":function(t,e){return p(e(this.value))},"fantasy-land/ap":function(t){return t.isLeft?t:p(t.value(this.value))},"fantasy-land/chain":function(t){return t(this.value)},"fantasy-land/alt":function(t){return this},"fantasy-land/reduce":function(t,e){return t(e,this.value)},"fantasy-land/traverse":function(t,e){return r.map(p,e(this.value))},"fantasy-land/extend":function(t){return p(t(this))}},c="object"==typeof t&&"object"==typeof t.exports?n(14):{},l=null!=c.inspect&&"symbol"==typeof c.inspect.custom?c.inspect.custom:"inspect";a[l]=y,s[l]=m;var f=u.Left=function(t){var e=Object.create(a);return r.Setoid.test(t)&&(e["fantasy-land/equals"]=v,r.Ord.test(t)&&(e["fantasy-land/lte"]=g)),r.Semigroup.test(t)&&(e["fantasy-land/concat"]=b),e.value=t,e},p=u.Right=function(t){var e=Object.create(s);return r.Setoid.test(t)&&(e["fantasy-land/equals"]=_,r.Ord.test(t)&&(e["fantasy-land/lte"]=E)),r.Semigroup.test(t)&&(e["fantasy-land/concat"]=T),e.value=t,e};function d(t){return{tag:d,value:t}}function h(t){return{tag:h,value:t}}function y(){return"Left ("+e(this.value)+")"}function m(){return"Right ("+e(this.value)+")"}function v(t){return t.isLeft&&r.equals(this.value,t.value)}function _(t){return t.isRight&&r.equals(this.value,t.value)}function g(t){return t.isRight||r.lte(this.value,t.value)}function E(t){return t.isRight&&r.lte(this.value,t.value)}function b(t){return t.isLeft?f(r.concat(this.value,t.value)):t}function T(t){return t.isRight?p(r.concat(this.value,t.value)):this}return u["@@type"]="sanctuary-either/Either@1",u["fantasy-land/of"]=p,u["fantasy-land/chainRec"]=function(t,e){for(var n=d(e);n.tag===d;){var r=t(d,h,n.value);if(r.isLeft)return r;n=r.value}return p(n.value)},u})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);e.arrays=r;var o=n(92);e.Bag=o.default;var i=n(91);e.BSTree=i.default;var u=n(25);e.BSTreeKV=u.default;var a=n(8);e.Dictionary=a.default;var s=n(23);e.Heap=s.default;var c=n(90);e.LinkedDictionary=c.default;var l=n(17);e.LinkedList=l.default;var f=n(89);e.MultiDictionary=f.default;var p=n(22);e.FactoryDictionary=p.default;var d=n(22);e.DefaultDictionary=d.default;var h=n(24);e.Queue=h.default;var y=n(88);e.PriorityQueue=y.default;var m=n(26);e.Set=m.default;var v=n(87);e.Stack=v.default;var _=n(86);e.MultiRootTree=_.default;var g=n(3);e.util=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(10),i=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(r.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||r.isUndefined(t))return!1;var n=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=n,this.lastNode=n;else if(e===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===e)n.next=this.firstNode,this.firstNode=n;else{var o=this.nodeAtIndex(e-1);if(null==o)return!1;n.next=o.next,o.next=n}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var n=e||r.defaultEquals;if(r.isUndefined(t))return-1;for(var o=this.firstNode,i=0;null!==o;){if(n(o.element,t))return i;i++,o=o.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var n=e||r.defaultEquals;if(this.nElements<1||r.isUndefined(t))return!1;for(var o=null,i=this.firstNode;null!==i;){if(n(i.element,t))return null==o?(this.firstNode=i.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=o,o.next=i.next,i.next=null):(o.next=i.next,i.next=null),this.nElements--,!0;o=i,i=i.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,n){var o=n||r.defaultEquals;return e instanceof t&&this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,o)},t.prototype.equalsAux=function(t,e,n){for(;null!==t&&null!==e;){if(!n(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(t-1);null===n?(e=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=n),null!==n&&null!==n.next&&(e=n.next.element,n.next=n.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,n=null;null!==e;)n=e.next,e.next=t,t=e,e=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return o.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,n=0;n<t&&null!=e;n++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.TICK=0]="TICK",t[t.RENDER=1]="RENDER",t[t.READY=2]="READY",t[t.INIT=3]="INIT",t[t.WORLD_START=4]="WORLD_START",t[t.BALL_START=5]="BALL_START",t[t.BALL_STOP=6]="BALL_STOP"}(e.WorkerCommands||(e.WorkerCommands={}))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var s,c=[],l=!1,f=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=a(p);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],u=n[0],a=n[1],s=n[2];return t[0]=o*s-i*a,t[1]=i*u-r*s,t[2]=r*a-o*u,t}},function(t,e){var n={left:0,top:0};t.exports=function(t,e,r){e=e||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var o=t.clientX||0,i=t.clientY||0,u=function(t){return t===window||t===document||t===document.body?n:t.getBoundingClientRect()}(e);return r[0]=o-u.left,r[1]=i-u.top,r}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=n(3),u=function(t){function e(e,n){var r=t.call(this,n)||this;return r.defaultFactoryFunction=e,r}return r(e,t),e.prototype.setDefault=function(e,n){var r=t.prototype.getValue.call(this,e);return i.isUndefined(r)?(this.setValue(e,n),n):r},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(10),i=function(){function t(t){this.data=[],this.compare=t||r.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)o.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)o.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!r.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=r.compareToEquals(this.compare);return o.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){o.forEach(this.data,t)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=function(){function t(){this.list=new r.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(24),i=function(){function t(t){this.root=null,this.compare=t||r.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!r.isUndefined(t)&&null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0)},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!r.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(e){return t.push(e),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var n=1;null!==t&&0!==n;)(n=this.compare(e,t.element))<0?t=t.leftCh:n>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,n){null===t||n.stop||(this.inorderTraversalAux(t.leftCh,e,n),n.stop||(n.stop=!1===e(t.element),n.stop||this.inorderTraversalAux(t.rightCh,e,n)))},t.prototype.levelTraversalAux=function(t,e){var n=new o.default;for(null!==t&&n.enqueue(t),t=n.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&n.enqueue(t.leftCh),null!==t.rightCh&&n.enqueue(t.rightCh),t=n.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,n){null===t||n.stop||(n.stop=!1===e(t.element),n.stop||(this.preorderTraversalAux(t.leftCh,e,n),n.stop||this.preorderTraversalAux(t.rightCh,e,n)))},t.prototype.postorderTraversalAux=function(t,e,n){null===t||n.stop||(this.postorderTraversalAux(t.leftCh,e,n),n.stop||(this.postorderTraversalAux(t.rightCh,e,n),n.stop||(n.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,n=this.root;null!==n;){var r=this.compare(t.element,n.element);if(0===r)return null;r<0?(e=n,n=n.leftCh):(e=n,n=n.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(10),i=n(8),u=function(){function t(t){this.dictionary=new i.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!r.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return o.toString(this.toArray())},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(93);e.sLoadingFinished=new r.StreamSink},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6);e.RootContext=r.createContext(null)},function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,u,a){if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,u,a],l=0;(s=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var c in n=Object(arguments[s]))o.call(n,c)&&(a[c]=n[c]);if(r){u=r(n);for(var l=0;l<u.length;l++)i.call(n,u[l])&&(a[u[l]]=n[u[l]])}}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Quadratic=function(t){return function(e){return function(n){var r=Math.sqrt(e*e-4*t*n),o=2*t;return[(-e+r)/o,(-e-r)/o]}}}},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():null!=n(1)?(o=[],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeIdentifiers=u()}(function(){"use strict";var t="@@type";return function(e){return null!=e&&null!=e.constructor&&e.constructor.prototype!==e&&"string"==typeof e.constructor[t]?e.constructor[t]:Object.prototype.toString.call(e).slice("[object ".length,-"]".length)}})},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():null!=n(1)?(o=[],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeIdentifiers=u()}(function(){"use strict";var t="@@type";return function(e){return null!=e&&null!=e.constructor&&e.constructor.prototype!==e&&"string"==typeof e.constructor[t]?e.constructor[t]:Object.prototype.toString.call(e).slice("[object ".length,-"]".length)}})},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(n(35)):null!=n(1)?(o=[n(35)],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeClasses=u(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var e=__doctest.require("./test/List"),n=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),e.Nil,e.Cons,n.Nothing,n.Just}function r(t){return function(e){return t.concat(e)}}function o(t){return function(e){return t}}function i(t,e){Object.keys(t).forEach(e,t)}function u(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function a(t){return t}function s(t){return function(e){return[t,e]}}function c(e,n){return typeof e==typeof n&&t(e)===t(n)}function l(t){return{value:t,done:!1}}function f(t){return{value:t,done:!0}}function p(t,e,n,r){if(!(this instanceof p))return new p(t,e,n,r);this.name=t,this.url=e,this.test=function(t){return n.every(function(e){return e.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var d="Constructor",h="Value";function y(t,e,n){for(var r=n,o=0;o<e.length;o+=1){var i=e[o];if(null==r||!t&&!u(i,r))return null;r=r[i]}return"function"==typeof r?r:null}function m(t,e){return y(!0,t,e)}function v(t){return y(!1,t,$)}var _=u("name",function(){})?function(t){return t.name}:function(t){var e=/function (\w*)/.exec(t);return null==e?"":e[1]};function g(e,n,r){function o(e){var n="fantasy-land/"+e;return r[e]===d?function(t){var e=m([n],t);return null==e&&"function"==typeof t?v([_(t),n]):e}:function(e){var r=null;return null!=e&&null!=e.constructor&&e.constructor.prototype===e||(r=m([n],e)),null==r&&(r=v([t(e),"prototype",n])),r&&r.bind(e)}}var i=Object.keys(r),u=p("sanctuary-type-classes/"+e,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+e,n,function(t){return i.every(function(e){var n=r[e]===d?t.constructor:t;return null!=o(e)(n)})});return u.methods=i.reduce(function(t,e){return t[e]=o(e),t},{}),u}var E=g("Setoid",[],{equals:h}),b=g("Ord",[E],{lte:h}),T=g("Semigroupoid",[],{compose:h}),A=g("Category",[T],{id:d}),S=g("Semigroup",[],{concat:h}),R=g("Monoid",[S],{empty:d}),x=g("Group",[R],{invert:h}),M=g("Filterable",[],{filter:h}),N=g("Functor",[],{map:h}),w=g("Bifunctor",[N],{bimap:h}),I=g("Profunctor",[N],{promap:h}),C=g("Apply",[N],{ap:h}),O=g("Applicative",[C],{of:d}),F=g("Chain",[C],{chain:h}),P=g("ChainRec",[F],{chainRec:d}),L=g("Monad",[O,F],{}),k=g("Alt",[N],{alt:h}),U=g("Plus",[k],{zero:d}),B=g("Alternative",[O,U],{}),j=g("Foldable",[],{reduce:h}),D=g("Traversable",[N,j],{traverse:h}),V=g("Extend",[N],{extend:h}),G=g("Comonad",[V],{extract:h}),H=g("Contravariant",[],{contramap:h});function q(t){return[t]}function z(t){if(t.length!==this.length)return!1;for(var e=0;e<this.length;e+=1)if(!Y(this[e],t[e]))return!1;return!0}function X(t){for(var e=0;;e+=1){if(e===this.length)return!0;if(e===t.length)return!1;if(!Y(this[e],t[e]))return J(this[e],t[e])}}function W(t){return this.concat(t)}function K(t){var e={};function n(t){e[t]=this[t]}return i(this,n),i(t,n),e}var $={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return Y(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return J(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":q,"fantasy-land/chainRec":function(t,e){for(var n=[],r={},o={head:e,tail:r};o!==r;){for(var i=r,u=t(l,f,o.head),a=0;a<u.length;a+=1){var s=u[a];s.done?n.push(s.value):i={head:s.value,tail:i}}for(o=o.tail;i!==r;)o={head:i.head,tail:o},i=i.tail}return n},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":z,"fantasy-land/lte":X,"fantasy-land/concat":W,"fantasy-land/filter":function(t){return this.filter(function(e){return t(e)})},"fantasy-land/map":function(t){return this.map(function(e){return t(e)})},"fantasy-land/ap":function(t){for(var e=[],n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)e.push(t[n](this[r]));return e},"fantasy-land/chain":function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=0,o=t(this[n]);r<o.length;r+=1)e.push(o[r]);return e},"fantasy-land/alt":W,"fantasy-land/reduce":function(t,e){for(var n=e,r=0;r<this.length;r+=1)n=t(n,this[r]);return n},"fantasy-land/traverse":function(t,e){var n=this;function o(i,u){switch(u){case 0:return ut(t,[]);case 2:return it(s,e(n[i]),e(n[i+1]));default:var a=2*Math.floor(u/4);return it(r,o(i,a),o(i+a,u-a))}}return this.length%2==1?it(r,nt(q,e(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(e,n,r){return t(r.slice(n))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return z.call(this,t)},"fantasy-land/lte":function(t){return X.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return Y(this.name,t.name)&&Y(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var e=this,n=Object.keys(this).sort();return Y(n,Object.keys(t).sort())&&n.every(function(n){return Y(e[n],t[n])})},"fantasy-land/lte":function(t){for(var e=Object.keys(this).sort(),n=Object.keys(t).sort();;){if(0===e.length)return!0;if(0===n.length)return!1;var r=e.shift(),o=n.shift();if(r<o)return!0;if(r>o)return!1;if(!Y(this[r],t[r]))return J(this[r],t[r])}},"fantasy-land/concat":K,"fantasy-land/filter":function(t){var e={};return i(this,function(n){t(this[n])&&(e[n]=this[n])}),e},"fantasy-land/map":function(t){var e={};return i(this,function(n){e[n]=t(this[n])}),e},"fantasy-land/ap":function(t){var e={};return i(this,function(n){u(n,t)&&(e[n]=t[n](this[n]))}),e},"fantasy-land/alt":K,"fantasy-land/reduce":function(t,e){var n=this;return Object.keys(this).sort().reduce(function(e,r){return t(e,n[r])},e)},"fantasy-land/traverse":function(t,e){var n=this;return Object.keys(this).reduce(function(t,r){return it(function(t){return function(e){var n={};return n[r]=e,K.call(t,n)}},t,e(n[r]))},ut(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(e){return t}},"fantasy-land/chainRec":function(t,e){return function(n){for(var r=l(e);!r.done;)r=t(l,f,r.value)(n);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/map":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/promap":function(t,e){var n=this;return function(r){return e(n(t(r)))}},"fantasy-land/ap":function(t){var e=this;return function(n){return t(n)(e(n))}},"fantasy-land/chain":function(t){var e=this;return function(n){return t(e(n))(n)}},"fantasy-land/extend":function(t){var e=this;return function(n){return t(function(t){return e(Z(n,t))})}},"fantasy-land/contramap":function(t){var e=this;return function(n){return e(t(n))}}}}},Y=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return!0;t.push([e,n]);try{return E.test(e)&&E.test(n)&&E.methods.equals(e)(n)}finally{t.pop()}}}();function Q(t,e){return c(t,e)&&!J(e,t)}var J=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return Y(e,n);t.push([e,n]);try{return b.test(e)&&b.test(n)&&b.methods.lte(e)(n)}finally{t.pop()}}}();function Z(t,e){return S.methods.concat(t)(e)}function tt(t){return R.methods.empty(t)()}function et(t,e){return M.methods.filter(e)(t)}function nt(t,e){return N.methods.map(e)(t)}function rt(t,e,n){return w.methods.bimap(n)(t,e)}function ot(t,e){return C.methods.ap(e)(t)}function it(t,e,n){return ot(nt(t,e),n)}function ut(t,e){return O.methods.of(t)(e)}function at(t,e){return F.methods.chain(e)(t)}function st(t,e,n){return j.methods.reduce(n)(t,e)}function ct(t,e){var n=st(function(e,n){return e.push({idx:e.length,x:n,fx:t(n)}),e},[],e),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,e){return t<=e||t!=t};case"string":return function(t,e){return t<=e};default:return J}}(n[0]);if(n.sort(function(t,e){return r(t.fx,e.fx)?r(e.fx,t.fx)?t.idx-e.idx:-1:1}),Array.isArray(e)){for(var o=0;o<n.length;o+=1)n[o]=n[o].x;return n}var i=e.constructor,u=tt(i);for(o=0;o<n.length;o+=1)u=Z(u,ut(i,n[o].x));return u}function lt(t,e,n){return D.methods.traverse(n)(t,e)}function ft(t,e){return V.methods.extend(e)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:S,Monoid:R,Group:x,Filterable:M,Functor:N,Bifunctor:w,Profunctor:I,Apply:C,Applicative:O,Chain:F,ChainRec:P,Monad:L,Alt:k,Plus:U,Alternative:B,Foldable:j,Traversable:D,Extend:V,Comonad:G,Contravariant:H,equals:Y,lt:Q,lte:J,gt:function(t,e){return Q(e,t)},gte:function(t,e){return J(e,t)},min:function(t,e){return J(t,e)?t:e},max:function(t,e){return J(t,e)?e:t},compose:function(t,e){return T.methods.compose(e)(t)},id:function(t){return A.methods.id(t)()},concat:Z,empty:tt,invert:function(t){return x.methods.invert(t)()},filter:et,reject:function(t,e){return et(function(e){return!t(e)},e)},map:nt,flip:function(t,e){return N.methods.map(t)(function(t){return function(e){return e(t)}}(e))},bimap:rt,mapLeft:function(t,e){return rt(t,a,e)},promap:function(t,e,n){return I.methods.promap(n)(t,e)},ap:ot,lift2:it,lift3:function(t,e,n,r){return ot(ot(nt(t,e),n),r)},apFirst:function(t,e){return it(o,t,e)},apSecond:function(t,e){return it(o(a),t,e)},of:ut,append:function(t,e){return Z(e,ut(e.constructor,t))},prepend:function(t,e){return Z(ut(e.constructor,t),e)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,e,n){return P.methods.chainRec(t)(e,n)},alt:function(t,e){return k.methods.alt(t)(e)},zero:function(t){return U.methods.zero(t)()},reduce:st,size:function(t){return Array.isArray(t)?t.length:st(function(t,e){return t+1},0,t)},elem:function(t,e){return st(function(e,n){return e||Y(t,n)},!1,e)},foldMap:function(t,e,n){return st(function(t,n){return Z(t,e(n))},tt(t),n)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var e=t.constructor;return st(function(t,n){return Z(ut(e,n),t)},tt(e),t)},sort:function(t){return ct(a,t)},sortBy:ct,takeWhile:function(t,e){var n=!0;return et(function(e){return n=n&&t(e)},e)},dropWhile:function(t,e){var n=!1;return et(function(e){return n=n||!t(e)},e)},traverse:lt,sequence:function(t,e){return lt(t,a,e)},extend:ft,duplicate:function(t){return ft(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,e){return H.methods.contramap(e)(t)}}})},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(n(4),n(36)):null!=n(1)?(o=[n(4),n(36)],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryPair=u(self.sanctuaryShow,self.sanctuaryTypeClasses)}(function(e,r){"use strict";if("undefined"!=typeof __doctest){var o=__doctest.require("sanctuary-def"),i=__doctest.require("sanctuary-type-identifiers");!function(){var t=__doctest.require("sanctuary"),e=o.BinaryType("sanctuary-pair/Pair")("")(function(t){return i(t)===s["@@type"]})(function(t){return[t.fst]})(function(t){return[t.snd]}),n=r.concat(t.env,[o.TypeClass,e(o.Unknown)(o.Unknown)]);t.create({checkTypes:!0,env:n})}()}var u={constructor:s,"@@show":c,"fantasy-land/compose":function(t){return s(this.fst)(t.snd)},"fantasy-land/map":function(t){return s(this.fst)(t(this.snd))},"fantasy-land/bimap":function(t,e){return s(t(this.fst))(e(this.snd))},"fantasy-land/reduce":function(t,e){return t(e,this.snd)},"fantasy-land/traverse":function(t,e){return r.map(s(this.fst),e(this.snd))},"fantasy-land/extend":function(t){return s(this.fst)(t(this))},"fantasy-land/extract":function(){return this.snd}},a="object"==typeof t&&"object"==typeof t.exports?n(14):{};function s(t){return function(e){var n=Object.create(u);return r.Setoid.test(t)&&r.Setoid.test(e)&&(n["fantasy-land/equals"]=l,r.Ord.test(t)&&r.Ord.test(e)&&(n["fantasy-land/lte"]=f)),r.Semigroup.test(t)&&(r.Semigroup.test(e)&&(n["fantasy-land/concat"]=p),n["fantasy-land/ap"]=d,n["fantasy-land/chain"]=h),n.fst=t,n.snd=e,n}}function c(){return"Pair ("+e(this.fst)+") ("+e(this.snd)+")"}function l(t){return r.equals(this.fst,t.fst)&&r.equals(this.snd,t.snd)}function f(t){return r.equals(this.fst,t.fst)?r.lte(this.snd,t.snd):r.lte(this.fst,t.fst)}function p(t){return s(r.concat(this.fst,t.fst))(r.concat(this.snd,t.snd))}function d(t){return s(r.concat(t.fst,this.fst))(t.snd(this.snd))}function h(t){var e=t(this.snd);return s(r.concat(this.fst,e.fst))(e.snd)}return u[null!=a.inspect&&"symbol"==typeof a.inspect.custom?a.inspect.custom:"inspect"]=c,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(u[Symbol.iterator]=function(){return[this.fst,this.snd][Symbol.iterator]()}),s.fst=function(t){return t.fst},s.snd=function(t){return t.snd},s.swap=function(t){return s(t.snd)(t.fst)},s["@@type"]="sanctuary-pair/Pair@1",s})},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():null!=n(1)?(o=[],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeIdentifiers=u()}(function(){"use strict";var t="@@type";return function(e){return null!=e&&null!=e.constructor&&e.constructor.prototype!==e&&"string"==typeof e.constructor[t]?e.constructor[t]:Object.prototype.toString.call(e).slice("[object ".length,-"]".length)}})},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(n(38)):null!=n(1)?(o=[n(38)],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeClasses=u(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var e=__doctest.require("./test/List"),n=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),e.Nil,e.Cons,n.Nothing,n.Just}function r(t){return function(e){return t.concat(e)}}function o(t){return function(e){return t}}function i(t,e){Object.keys(t).forEach(e,t)}function u(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function a(t){return t}function s(t){return function(e){return[t,e]}}function c(e,n){return typeof e==typeof n&&t(e)===t(n)}function l(t){return{value:t,done:!1}}function f(t){return{value:t,done:!0}}function p(t,e,n,r){if(!(this instanceof p))return new p(t,e,n,r);this.name=t,this.url=e,this.test=function(t){return n.every(function(e){return e.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var d="Constructor",h="Value";function y(t,e,n){for(var r=n,o=0;o<e.length;o+=1){var i=e[o];if(null==r||!t&&!u(i,r))return null;r=r[i]}return"function"==typeof r?r:null}function m(t,e){return y(!0,t,e)}function v(t){return y(!1,t,$)}var _=u("name",function(){})?function(t){return t.name}:function(t){var e=/function (\w*)/.exec(t);return null==e?"":e[1]};function g(e,n,r){function o(e){var n="fantasy-land/"+e;return r[e]===d?function(t){var e=m([n],t);return null==e&&"function"==typeof t?v([_(t),n]):e}:function(e){var r=null;return null!=e&&null!=e.constructor&&e.constructor.prototype===e||(r=m([n],e)),null==r&&(r=v([t(e),"prototype",n])),r&&r.bind(e)}}var i=Object.keys(r),u=p("sanctuary-type-classes/"+e,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+e,n,function(t){return i.every(function(e){var n=r[e]===d?t.constructor:t;return null!=o(e)(n)})});return u.methods=i.reduce(function(t,e){return t[e]=o(e),t},{}),u}var E=g("Setoid",[],{equals:h}),b=g("Ord",[E],{lte:h}),T=g("Semigroupoid",[],{compose:h}),A=g("Category",[T],{id:d}),S=g("Semigroup",[],{concat:h}),R=g("Monoid",[S],{empty:d}),x=g("Group",[R],{invert:h}),M=g("Filterable",[],{filter:h}),N=g("Functor",[],{map:h}),w=g("Bifunctor",[N],{bimap:h}),I=g("Profunctor",[N],{promap:h}),C=g("Apply",[N],{ap:h}),O=g("Applicative",[C],{of:d}),F=g("Chain",[C],{chain:h}),P=g("ChainRec",[F],{chainRec:d}),L=g("Monad",[O,F],{}),k=g("Alt",[N],{alt:h}),U=g("Plus",[k],{zero:d}),B=g("Alternative",[O,U],{}),j=g("Foldable",[],{reduce:h}),D=g("Traversable",[N,j],{traverse:h}),V=g("Extend",[N],{extend:h}),G=g("Comonad",[V],{extract:h}),H=g("Contravariant",[],{contramap:h});function q(t){return[t]}function z(t){if(t.length!==this.length)return!1;for(var e=0;e<this.length;e+=1)if(!Y(this[e],t[e]))return!1;return!0}function X(t){for(var e=0;;e+=1){if(e===this.length)return!0;if(e===t.length)return!1;if(!Y(this[e],t[e]))return J(this[e],t[e])}}function W(t){return this.concat(t)}function K(t){var e={};function n(t){e[t]=this[t]}return i(this,n),i(t,n),e}var $={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return Y(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return J(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":q,"fantasy-land/chainRec":function(t,e){for(var n=[],r={},o={head:e,tail:r};o!==r;){for(var i=r,u=t(l,f,o.head),a=0;a<u.length;a+=1){var s=u[a];s.done?n.push(s.value):i={head:s.value,tail:i}}for(o=o.tail;i!==r;)o={head:i.head,tail:o},i=i.tail}return n},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":z,"fantasy-land/lte":X,"fantasy-land/concat":W,"fantasy-land/filter":function(t){return this.filter(function(e){return t(e)})},"fantasy-land/map":function(t){return this.map(function(e){return t(e)})},"fantasy-land/ap":function(t){for(var e=[],n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)e.push(t[n](this[r]));return e},"fantasy-land/chain":function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=0,o=t(this[n]);r<o.length;r+=1)e.push(o[r]);return e},"fantasy-land/alt":W,"fantasy-land/reduce":function(t,e){for(var n=e,r=0;r<this.length;r+=1)n=t(n,this[r]);return n},"fantasy-land/traverse":function(t,e){var n=this;function o(i,u){switch(u){case 0:return ut(t,[]);case 2:return it(s,e(n[i]),e(n[i+1]));default:var a=2*Math.floor(u/4);return it(r,o(i,a),o(i+a,u-a))}}return this.length%2==1?it(r,nt(q,e(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(e,n,r){return t(r.slice(n))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return z.call(this,t)},"fantasy-land/lte":function(t){return X.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return Y(this.name,t.name)&&Y(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var e=this,n=Object.keys(this).sort();return Y(n,Object.keys(t).sort())&&n.every(function(n){return Y(e[n],t[n])})},"fantasy-land/lte":function(t){for(var e=Object.keys(this).sort(),n=Object.keys(t).sort();;){if(0===e.length)return!0;if(0===n.length)return!1;var r=e.shift(),o=n.shift();if(r<o)return!0;if(r>o)return!1;if(!Y(this[r],t[r]))return J(this[r],t[r])}},"fantasy-land/concat":K,"fantasy-land/filter":function(t){var e={};return i(this,function(n){t(this[n])&&(e[n]=this[n])}),e},"fantasy-land/map":function(t){var e={};return i(this,function(n){e[n]=t(this[n])}),e},"fantasy-land/ap":function(t){var e={};return i(this,function(n){u(n,t)&&(e[n]=t[n](this[n]))}),e},"fantasy-land/alt":K,"fantasy-land/reduce":function(t,e){var n=this;return Object.keys(this).sort().reduce(function(e,r){return t(e,n[r])},e)},"fantasy-land/traverse":function(t,e){var n=this;return Object.keys(this).reduce(function(t,r){return it(function(t){return function(e){var n={};return n[r]=e,K.call(t,n)}},t,e(n[r]))},ut(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(e){return t}},"fantasy-land/chainRec":function(t,e){return function(n){for(var r=l(e);!r.done;)r=t(l,f,r.value)(n);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/map":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/promap":function(t,e){var n=this;return function(r){return e(n(t(r)))}},"fantasy-land/ap":function(t){var e=this;return function(n){return t(n)(e(n))}},"fantasy-land/chain":function(t){var e=this;return function(n){return t(e(n))(n)}},"fantasy-land/extend":function(t){var e=this;return function(n){return t(function(t){return e(Z(n,t))})}},"fantasy-land/contramap":function(t){var e=this;return function(n){return e(t(n))}}}}},Y=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return!0;t.push([e,n]);try{return E.test(e)&&E.test(n)&&E.methods.equals(e)(n)}finally{t.pop()}}}();function Q(t,e){return c(t,e)&&!J(e,t)}var J=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return Y(e,n);t.push([e,n]);try{return b.test(e)&&b.test(n)&&b.methods.lte(e)(n)}finally{t.pop()}}}();function Z(t,e){return S.methods.concat(t)(e)}function tt(t){return R.methods.empty(t)()}function et(t,e){return M.methods.filter(e)(t)}function nt(t,e){return N.methods.map(e)(t)}function rt(t,e,n){return w.methods.bimap(n)(t,e)}function ot(t,e){return C.methods.ap(e)(t)}function it(t,e,n){return ot(nt(t,e),n)}function ut(t,e){return O.methods.of(t)(e)}function at(t,e){return F.methods.chain(e)(t)}function st(t,e,n){return j.methods.reduce(n)(t,e)}function ct(t,e){var n=st(function(e,n){return e.push({idx:e.length,x:n,fx:t(n)}),e},[],e),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,e){return t<=e||t!=t};case"string":return function(t,e){return t<=e};default:return J}}(n[0]);if(n.sort(function(t,e){return r(t.fx,e.fx)?r(e.fx,t.fx)?t.idx-e.idx:-1:1}),Array.isArray(e)){for(var o=0;o<n.length;o+=1)n[o]=n[o].x;return n}var i=e.constructor,u=tt(i);for(o=0;o<n.length;o+=1)u=Z(u,ut(i,n[o].x));return u}function lt(t,e,n){return D.methods.traverse(n)(t,e)}function ft(t,e){return V.methods.extend(e)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:S,Monoid:R,Group:x,Filterable:M,Functor:N,Bifunctor:w,Profunctor:I,Apply:C,Applicative:O,Chain:F,ChainRec:P,Monad:L,Alt:k,Plus:U,Alternative:B,Foldable:j,Traversable:D,Extend:V,Comonad:G,Contravariant:H,equals:Y,lt:Q,lte:J,gt:function(t,e){return Q(e,t)},gte:function(t,e){return J(e,t)},min:function(t,e){return J(t,e)?t:e},max:function(t,e){return J(t,e)?e:t},compose:function(t,e){return T.methods.compose(e)(t)},id:function(t){return A.methods.id(t)()},concat:Z,empty:tt,invert:function(t){return x.methods.invert(t)()},filter:et,reject:function(t,e){return et(function(e){return!t(e)},e)},map:nt,flip:function(t,e){return N.methods.map(t)(function(t){return function(e){return e(t)}}(e))},bimap:rt,mapLeft:function(t,e){return rt(t,a,e)},promap:function(t,e,n){return I.methods.promap(n)(t,e)},ap:ot,lift2:it,lift3:function(t,e,n,r){return ot(ot(nt(t,e),n),r)},apFirst:function(t,e){return it(o,t,e)},apSecond:function(t,e){return it(o(a),t,e)},of:ut,append:function(t,e){return Z(e,ut(e.constructor,t))},prepend:function(t,e){return Z(ut(e.constructor,t),e)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,e,n){return P.methods.chainRec(t)(e,n)},alt:function(t,e){return k.methods.alt(t)(e)},zero:function(t){return U.methods.zero(t)()},reduce:st,size:function(t){return Array.isArray(t)?t.length:st(function(t,e){return t+1},0,t)},elem:function(t,e){return st(function(e,n){return e||Y(t,n)},!1,e)},foldMap:function(t,e,n){return st(function(t,n){return Z(t,e(n))},tt(t),n)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var e=t.constructor;return st(function(t,n){return Z(ut(e,n),t)},tt(e),t)},sort:function(t){return ct(a,t)},sortBy:ct,takeWhile:function(t,e){var n=!0;return et(function(e){return n=n&&t(e)},e)},dropWhile:function(t,e){var n=!1;return et(function(e){return n=n||!t(e)},e)},traverse:lt,sequence:function(t,e){return lt(t,a,e)},extend:ft,duplicate:function(t){return ft(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,e){return H.methods.contramap(e)(t)}}})},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(n(4),n(39)):null!=n(1)?(o=[n(4),n(39)],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryMaybe=u(self.sanctuaryShow,self.sanctuaryTypeClasses)}(function(e,r){"use strict";if("undefined"!=typeof __doctest){var o=__doctest.require("sanctuary-def"),i=__doctest.require("sanctuary-type-identifiers");!function(){var t=__doctest.require("sanctuary"),e=o.UnaryType("sanctuary-maybe/Maybe")("")(function(t){return i(t)===u["@@type"]})(function(t){return t.isJust?[t.value]:[]}),n=r.concat(t.env,[o.TypeClass,e(o.Unknown)]);t.create({checkTypes:!0,env:n})}()}var u={},a={constructor:u,isNothing:!0,isJust:!1,"@@show":y,"fantasy-land/equals":function(t){return t.isNothing},"fantasy-land/lte":function(t){return!0},"fantasy-land/concat":function(t){return t},"fantasy-land/filter":function(t){return this},"fantasy-land/map":function(t){return this},"fantasy-land/ap":function(t){return this},"fantasy-land/chain":function(t){return this},"fantasy-land/alt":function(t){return t},"fantasy-land/reduce":function(t,e){return e},"fantasy-land/traverse":function(t,e){return r.of(t,this)},"fantasy-land/extend":function(t){return this}},s={constructor:u,isNothing:!1,isJust:!0,"@@show":m,"fantasy-land/filter":function(t){return t(this.value)?this:f},"fantasy-land/map":function(t){return p(t(this.value))},"fantasy-land/ap":function(t){return t.isJust?p(t.value(this.value)):t},"fantasy-land/chain":function(t){return t(this.value)},"fantasy-land/alt":function(t){return this},"fantasy-land/reduce":function(t,e){return t(e,this.value)},"fantasy-land/traverse":function(t,e){return r.map(p,e(this.value))},"fantasy-land/extend":function(t){return p(t(this))}},c="object"==typeof t&&"object"==typeof t.exports?n(14):{},l=null!=c.inspect&&"symbol"==typeof c.inspect.custom?c.inspect.custom:"inspect";a[l]=y,s[l]=m;var f=u.Nothing=Object.create(a),p=u.Just=function(t){var e=Object.create(s);return r.Setoid.test(t)&&(e["fantasy-land/equals"]=v,r.Ord.test(t)&&(e["fantasy-land/lte"]=_)),r.Semigroup.test(t)&&(e["fantasy-land/concat"]=g),e.value=t,e};function d(t){return{tag:d,value:t}}function h(t){return{tag:h,value:t}}function y(){return"Nothing"}function m(){return"Just ("+e(this.value)+")"}function v(t){return t.isJust&&r.equals(this.value,t.value)}function _(t){return t.isJust&&r.lte(this.value,t.value)}function g(t){return t.isJust?p(r.concat(this.value,t.value)):this}return u["@@type"]="sanctuary-maybe/Maybe@1",u["fantasy-land/empty"]=function(){return f},u["fantasy-land/of"]=p,u["fantasy-land/chainRec"]=function(t,e){for(var n=d(e);n.tag===d;){var r=t(d,h,n.value);if(r.isNothing)return r;n=r.value}return p(n.value)},u["fantasy-land/zero"]=function(){return f},u})},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():null!=n(1)?(o=[],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeIdentifiers=u()}(function(){"use strict";var t="@@type";return function(e){return null!=e&&null!=e.constructor&&e.constructor.prototype!==e&&"string"==typeof e.constructor[t]?e.constructor[t]:Object.prototype.toString.call(e).slice("[object ".length,-"]".length)}})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u():null!=n(1)?(o=[],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeIdentifiers=u()}(function(){"use strict";var t="@@type";return function(e){return null!=e&&null!=e.constructor&&e.constructor.prototype!==e&&"string"==typeof e.constructor[t]?e.constructor[t]:Object.prototype.toString.call(e).slice("[object ".length,-"]".length)}})},function(t,e,n){var r,o,i;!function(u){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=u(n(43)):null!=n(1)?(o=[n(43)],void 0===(i="function"==typeof(r=u)?r.apply(e,o):r)||(t.exports=i)):self.sanctuaryTypeClasses=u(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";if("undefined"!=typeof __doctest){__doctest.require("./test/Identity");var e=__doctest.require("./test/List"),n=__doctest.require("./test/Maybe");__doctest.require("./test/Sum"),__doctest.require("./test/Tuple"),e.Nil,e.Cons,n.Nothing,n.Just}function r(t){return function(e){return t.concat(e)}}function o(t){return function(e){return t}}function i(t,e){Object.keys(t).forEach(e,t)}function u(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function a(t){return t}function s(t){return function(e){return[t,e]}}function c(e,n){return typeof e==typeof n&&t(e)===t(n)}function l(t){return{value:t,done:!1}}function f(t){return{value:t,done:!0}}function p(t,e,n,r){if(!(this instanceof p))return new p(t,e,n,r);this.name=t,this.url=e,this.test=function(t){return n.every(function(e){return e.test(t)})&&r(t)}}p["@@type"]="sanctuary-type-classes/TypeClass";var d="Constructor",h="Value";function y(t,e,n){for(var r=n,o=0;o<e.length;o+=1){var i=e[o];if(null==r||!t&&!u(i,r))return null;r=r[i]}return"function"==typeof r?r:null}function m(t,e){return y(!0,t,e)}function v(t){return y(!1,t,$)}var _=u("name",function(){})?function(t){return t.name}:function(t){var e=/function (\w*)/.exec(t);return null==e?"":e[1]};function g(e,n,r){function o(e){var n="fantasy-land/"+e;return r[e]===d?function(t){var e=m([n],t);return null==e&&"function"==typeof t?v([_(t),n]):e}:function(e){var r=null;return null!=e&&null!=e.constructor&&e.constructor.prototype===e||(r=m([n],e)),null==r&&(r=v([t(e),"prototype",n])),r&&r.bind(e)}}var i=Object.keys(r),u=p("sanctuary-type-classes/"+e,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v9.0.0#"+e,n,function(t){return i.every(function(e){var n=r[e]===d?t.constructor:t;return null!=o(e)(n)})});return u.methods=i.reduce(function(t,e){return t[e]=o(e),t},{}),u}var E=g("Setoid",[],{equals:h}),b=g("Ord",[E],{lte:h}),T=g("Semigroupoid",[],{compose:h}),A=g("Category",[T],{id:d}),S=g("Semigroup",[],{concat:h}),R=g("Monoid",[S],{empty:d}),x=g("Group",[R],{invert:h}),M=g("Filterable",[],{filter:h}),N=g("Functor",[],{map:h}),w=g("Bifunctor",[N],{bimap:h}),I=g("Profunctor",[N],{promap:h}),C=g("Apply",[N],{ap:h}),O=g("Applicative",[C],{of:d}),F=g("Chain",[C],{chain:h}),P=g("ChainRec",[F],{chainRec:d}),L=g("Monad",[O,F],{}),k=g("Alt",[N],{alt:h}),U=g("Plus",[k],{zero:d}),B=g("Alternative",[O,U],{}),j=g("Foldable",[],{reduce:h}),D=g("Traversable",[N,j],{traverse:h}),V=g("Extend",[N],{extend:h}),G=g("Comonad",[V],{extract:h}),H=g("Contravariant",[],{contramap:h});function q(t){return[t]}function z(t){if(t.length!==this.length)return!1;for(var e=0;e<this.length;e+=1)if(!Y(this[e],t[e]))return!1;return!0}function X(t){for(var e=0;;e+=1){if(e===this.length)return!0;if(e===t.length)return!1;if(!Y(this[e],t[e]))return J(this[e],t[e])}}function W(t){return this.concat(t)}function K(t){var e={};function n(t){e[t]=this[t]}return i(this,n),i(t,n),e}var $={Null:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):isNaN(this)||this<=t}}},Date:{prototype:{"fantasy-land/equals":function(t){return Y(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return J(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{"fantasy-land/equals":function(t){return"object"==typeof this?Y(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?J(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":q,"fantasy-land/chainRec":function(t,e){for(var n=[],r={},o={head:e,tail:r};o!==r;){for(var i=r,u=t(l,f,o.head),a=0;a<u.length;a+=1){var s=u[a];s.done?n.push(s.value):i={head:s.value,tail:i}}for(o=o.tail;i!==r;)o={head:i.head,tail:o},i=i.tail}return n},"fantasy-land/zero":function(){return[]},prototype:{"fantasy-land/equals":z,"fantasy-land/lte":X,"fantasy-land/concat":W,"fantasy-land/filter":function(t){return this.filter(function(e){return t(e)})},"fantasy-land/map":function(t){return this.map(function(e){return t(e)})},"fantasy-land/ap":function(t){for(var e=[],n=0;n<t.length;n+=1)for(var r=0;r<this.length;r+=1)e.push(t[n](this[r]));return e},"fantasy-land/chain":function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=0,o=t(this[n]);r<o.length;r+=1)e.push(o[r]);return e},"fantasy-land/alt":W,"fantasy-land/reduce":function(t,e){for(var n=e,r=0;r<this.length;r+=1)n=t(n,this[r]);return n},"fantasy-land/traverse":function(t,e){var n=this;function o(i,u){switch(u){case 0:return ut(t,[]);case 2:return it(s,e(n[i]),e(n[i+1]));default:var a=2*Math.floor(u/4);return it(r,o(i,a),o(i+a,u-a))}}return this.length%2==1?it(r,nt(q,e(this[0])),o(1,this.length-1)):o(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(e,n,r){return t(r.slice(n))})}}},Arguments:{prototype:{"fantasy-land/equals":function(t){return z.call(this,t)},"fantasy-land/lte":function(t){return X.call(this,t)}}},Error:{prototype:{"fantasy-land/equals":function(t){return Y(this.name,t.name)&&Y(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{"fantasy-land/equals":function(t){var e=this,n=Object.keys(this).sort();return Y(n,Object.keys(t).sort())&&n.every(function(n){return Y(e[n],t[n])})},"fantasy-land/lte":function(t){for(var e=Object.keys(this).sort(),n=Object.keys(t).sort();;){if(0===e.length)return!0;if(0===n.length)return!1;var r=e.shift(),o=n.shift();if(r<o)return!0;if(r>o)return!1;if(!Y(this[r],t[r]))return J(this[r],t[r])}},"fantasy-land/concat":K,"fantasy-land/filter":function(t){var e={};return i(this,function(n){t(this[n])&&(e[n]=this[n])}),e},"fantasy-land/map":function(t){var e={};return i(this,function(n){e[n]=t(this[n])}),e},"fantasy-land/ap":function(t){var e={};return i(this,function(n){u(n,t)&&(e[n]=t[n](this[n]))}),e},"fantasy-land/alt":K,"fantasy-land/reduce":function(t,e){var n=this;return Object.keys(this).sort().reduce(function(e,r){return t(e,n[r])},e)},"fantasy-land/traverse":function(t,e){var n=this;return Object.keys(this).reduce(function(t,r){return it(function(t){return function(e){var n={};return n[r]=e,K.call(t,n)}},t,e(n[r]))},ut(t,{}))}}},Function:{"fantasy-land/id":function(){return a},"fantasy-land/of":function(t){return function(e){return t}},"fantasy-land/chainRec":function(t,e){return function(n){for(var r=l(e);!r.done;)r=t(l,f,r.value)(n);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/map":function(t){var e=this;return function(n){return t(e(n))}},"fantasy-land/promap":function(t,e){var n=this;return function(r){return e(n(t(r)))}},"fantasy-land/ap":function(t){var e=this;return function(n){return t(n)(e(n))}},"fantasy-land/chain":function(t){var e=this;return function(n){return t(e(n))(n)}},"fantasy-land/extend":function(t){var e=this;return function(n){return t(function(t){return e(Z(n,t))})}},"fantasy-land/contramap":function(t){var e=this;return function(n){return e(t(n))}}}}},Y=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return!0;t.push([e,n]);try{return E.test(e)&&E.test(n)&&E.methods.equals(e)(n)}finally{t.pop()}}}();function Q(t,e){return c(t,e)&&!J(e,t)}var J=function(){var t=[];return function(e,n){if(!c(e,n))return!1;if(t.some(function(t){return t[0]===e&&t[1]===n}))return Y(e,n);t.push([e,n]);try{return b.test(e)&&b.test(n)&&b.methods.lte(e)(n)}finally{t.pop()}}}();function Z(t,e){return S.methods.concat(t)(e)}function tt(t){return R.methods.empty(t)()}function et(t,e){return M.methods.filter(e)(t)}function nt(t,e){return N.methods.map(e)(t)}function rt(t,e,n){return w.methods.bimap(n)(t,e)}function ot(t,e){return C.methods.ap(e)(t)}function it(t,e,n){return ot(nt(t,e),n)}function ut(t,e){return O.methods.of(t)(e)}function at(t,e){return F.methods.chain(e)(t)}function st(t,e,n){return j.methods.reduce(n)(t,e)}function ct(t,e){var n=st(function(e,n){return e.push({idx:e.length,x:n,fx:t(n)}),e},[],e),r=function(t){switch(typeof(t&&t.fx)){case"number":return function(t,e){return t<=e||t!=t};case"string":return function(t,e){return t<=e};default:return J}}(n[0]);if(n.sort(function(t,e){return r(t.fx,e.fx)?r(e.fx,t.fx)?t.idx-e.idx:-1:1}),Array.isArray(e)){for(var o=0;o<n.length;o+=1)n[o]=n[o].x;return n}var i=e.constructor,u=tt(i);for(o=0;o<n.length;o+=1)u=Z(u,ut(i,n[o].x));return u}function lt(t,e,n){return D.methods.traverse(n)(t,e)}function ft(t,e){return V.methods.extend(e)(t)}return{TypeClass:p,Setoid:E,Ord:b,Semigroupoid:T,Category:A,Semigroup:S,Monoid:R,Group:x,Filterable:M,Functor:N,Bifunctor:w,Profunctor:I,Apply:C,Applicative:O,Chain:F,ChainRec:P,Monad:L,Alt:k,Plus:U,Alternative:B,Foldable:j,Traversable:D,Extend:V,Comonad:G,Contravariant:H,equals:Y,lt:Q,lte:J,gt:function(t,e){return Q(e,t)},gte:function(t,e){return J(e,t)},min:function(t,e){return J(t,e)?t:e},max:function(t,e){return J(t,e)?e:t},compose:function(t,e){return T.methods.compose(e)(t)},id:function(t){return A.methods.id(t)()},concat:Z,empty:tt,invert:function(t){return x.methods.invert(t)()},filter:et,reject:function(t,e){return et(function(e){return!t(e)},e)},map:nt,flip:function(t,e){return N.methods.map(t)(function(t){return function(e){return e(t)}}(e))},bimap:rt,mapLeft:function(t,e){return rt(t,a,e)},promap:function(t,e,n){return I.methods.promap(n)(t,e)},ap:ot,lift2:it,lift3:function(t,e,n,r){return ot(ot(nt(t,e),n),r)},apFirst:function(t,e){return it(o,t,e)},apSecond:function(t,e){return it(o(a),t,e)},of:ut,append:function(t,e){return Z(e,ut(e.constructor,t))},prepend:function(t,e){return Z(ut(e.constructor,t),e)},chain:at,join:function(t){return at(a,t)},chainRec:function(t,e,n){return P.methods.chainRec(t)(e,n)},alt:function(t,e){return k.methods.alt(t)(e)},zero:function(t){return U.methods.zero(t)()},reduce:st,size:function(t){return Array.isArray(t)?t.length:st(function(t,e){return t+1},0,t)},elem:function(t,e){return st(function(e,n){return e||Y(t,n)},!1,e)},foldMap:function(t,e,n){return st(function(t,n){return Z(t,e(n))},tt(t),n)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var e=t.constructor;return st(function(t,n){return Z(ut(e,n),t)},tt(e),t)},sort:function(t){return ct(a,t)},sortBy:ct,takeWhile:function(t,e){var n=!0;return et(function(e){return n=n&&t(e)},e)},dropWhile:function(t,e){var n=!1;return et(function(e){return n=n||!t(e)},e)},traverse:lt,sequence:function(t,e){return lt(t,a,e)},extend:ft,duplicate:function(t){return ft(a,t)},extract:function(t){return G.methods.extract(t)()},contramap:function(t,e){return H.methods.contramap(e)(t)}}})},function(t,e,n){(function(r){var o,i,u;!function(r){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=r(n(15),n(4),n(13),n(9)):null!=n(1)?(i=[n(15),n(4),n(13),n(9)],void 0===(u="function"==typeof(o=r)?o.apply(e,i):o)||(t.exports=u)):self.sanctuaryDef=r(self.sanctuaryEither,self.sanctuaryShow,self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)}(function(e,o,i,u){"use strict";var a=Math.pow(2,53)-1,s=-a,c=Array.prototype.slice,l=Object.prototype.hasOwnProperty,f=Object.prototype.toString,p=function(){if("object"==typeof t&&"object"==typeof t.exports){var e=n(14);if("symbol"==typeof e.inspect.custom)return e.inspect.custom}return"inspect"}(),d=e.Left,h=e.Right;function y(t){return function(e){return t}}function m(t){return function(e,n){return t}}function v(t,e){return function(n){return t(e(n))}}function _(t){return t}function g(t){return t.slice(0,-1)}function E(t){return 0===t.length}function b(t){return function(e){if(t.length>e.length)return!1;for(var n=0;n<t.length;n+=1)if(t[n]!==e[n])return!1;return!0}}function T(t,e){return e.join(t)}function A(t){return t[t.length-1]}function S(t){return function(e){return t.some(function(t){return i.equals(t,e)})}}function R(t,e){return E(t)?e:t}function x(t,e){return T(t,Array(e+1))}function M(t){return function(e){return x(t,e.length)}}var N=M(" ");function w(t){return Object.keys(t).sort()}function I(t){return t.slice("(".length,-")".length)}function C(t,e,n,r){return E(r)?t:i.reduce(function(t,e){return t+"  - "+n(e)+"\n"},e,r)}function O(t){return t.replace(/[ ]+$/gm,"")}function F(t,e,n){return t?n:e(n)}function P(t,e,n){return t?e(n):n}function L(t){return function(e){return function(n){return t+n+e}}}var k=L("(")(")"),U=L("")("");function B(t){return t.slice(t.indexOf("/")+1)}function j(t,e,n,r,o,i,u){this._test=o,this.format=r,this.keys=i,this.name=e,this.type=t,this.types=u,this.url=n}j["@@type"]="sanctuary-def/Type",j.prototype["fantasy-land/equals"]=function(t){return i.equals(this.type,t.type)&&i.equals(this.name,t.name)&&i.equals(this.url,t.url)&&i.equals(this.keys,t.keys)&&this.keys.every(function(e){return i.equals(this.types[e].type,t.types[e].type)},this)},j.prototype.validate=function(t){if(!this._test(t))return d({value:t,propPath:[]});for(var e=0;e<this.keys.length;e+=1)for(var n=this.keys[e],r=this.types[n],o=0,u=r.extractor(t);o<u.length;o+=1){var a=r.type.validate(u[o]);if(a.isLeft){var s=a.value.value,c=i.concat([n],a.value.propPath);return d({value:s,propPath:c})}}return h(t)},j.prototype["@@show"]=function(){return this.format(_,y(_))};var D="BINARY",V="FUNCTION",G="INCONSISTENT",H="NO_ARGUMENTS",q="NULLARY",z="RECORD",X="UNARY",W="UNKNOWN",K="VARIABLE",$=new j(G,"","",m("???"),y(!1),[],{}),Y=new j(H,"","",m("()"),y(!0),[],{});function Q(t){return function(e){return u(e)===t}}function J(t){return function(e){return typeof e===t}}function Z(t){return"https://github.com/sanctuary-js/sanctuary-def/tree/v0.18.1#"+B(t)}function tt(t,e){return re(t)(Z(t))(e)}function et(t,e,n){return ie(t)(Z(t))(e)(n)}var nt=tt("sanctuary-def/Any",y(!0)),rt=tt("Function",J("function")),ot=tt("Arguments",Q("Arguments")),it=et("Array",Q("Array"),_),ut=tt("sanctuary-def/Array0",function(t){return Q("Array")(t)&&0===t.length}),at=et("sanctuary-def/Array1",function(t){return Q("Array")(t)&&1===t.length},_),st=function(t,e,n,r){return se(t)(Z(t))(function(t){return Q("Array")(t)&&2===t.length})(function(t){return[t[0]]})(function(t){return[t[1]]})}("sanctuary-def/Array2"),ct=tt("Boolean",J("boolean")),lt=tt("Date",Q("Date")),ft=tt("Error",Q("Error")),pt=tt("sanctuary-def/FiniteNumber",function(t){return qt._test(t)&&isFinite(t)});function dt(t){return 1===t.length?i.concat([Y],t):t}function ht(t){var e=dt(t),n=rt._test,r=[],i={};return e.forEach(function(t,e){var n="$"+o(e+1);r.push(n),i[n]={extractor:y([]),type:t}}),new j(V,"","",function(t,n){var r=e.map(function(t,e){return F(t.type===z||E(t.keys),I,n("$"+o(e+1))(o(t)))}),i=L(t("("))(t(")"));return i(F(2===e.length,i,T(t(", "),g(r)))+t(" -> ")+A(r))},n,r,i)}var yt=tt("sanctuary-def/GlobalRegExp",function(t){return Pt._test(t)&&t.global}),mt=tt("sanctuary-def/HtmlElement",function(t){return/^\[object HTML.+Element\]$/.test(f.call(t))}),vt=tt("sanctuary-def/Integer",function(t){return qt._test(t)&&Math.floor(t)===t&&t>=s&&t<=a}),_t=tt("sanctuary-def/NegativeFiniteNumber",function(t){return pt._test(t)&&t<0}),gt=tt("sanctuary-def/NegativeInteger",function(t){return vt._test(t)&&t<0}),Et=tt("sanctuary-def/NegativeNumber",function(t){return wt._test(t)&&t<0}),bt=et("sanctuary-def/NonEmpty",function(t){return i.Monoid.test(t)&&i.Setoid.test(t)&&!i.equals(t,i.empty(t.constructor))},function(t){return[t]}),Tt=tt("sanctuary-def/NonGlobalRegExp",function(t){return Pt._test(t)&&!t.global}),At=tt("sanctuary-def/NonNegativeInteger",function(t){return vt._test(t)&&t>=0}),St=tt("sanctuary-def/NonZeroFiniteNumber",function(t){return pt._test(t)&&0!==t}),Rt=tt("sanctuary-def/NonZeroInteger",function(t){return vt._test(t)&&0!==t}),xt=tt("sanctuary-def/NonZeroValidNumber",function(t){return qt._test(t)&&0!==t}),Mt=tt("Null",Q("Null")),Nt=et("sanctuary-def/Nullable",y(!0),function(t){return null===t?[]:[t]}),wt=tt("Number",J("number")),It=tt("Object",Q("Object")),Ct=tt("sanctuary-def/PositiveFiniteNumber",function(t){return pt._test(t)&&t>0}),Ot=tt("sanctuary-def/PositiveInteger",function(t){return vt._test(t)&&t>0}),Ft=tt("sanctuary-def/PositiveNumber",function(t){return wt._test(t)&&t>0}),Pt=tt("RegExp",Q("RegExp")),Lt=function(t,e){return fe(t)(Z(t))(["","g","i","m","gi","gm","im","gim"])}("sanctuary-def/RegexFlags"),kt=et("sanctuary-def/StrMap",It._test,function(t){return i.reduce(function(t,e){return t.push(e),t},[],t)}),Ut=tt("String",J("string")),Bt=tt("Symbol",J("symbol")),jt=tt("Type",Q("sanctuary-def/Type")),Dt=tt("TypeClass",Q("sanctuary-type-classes/TypeClass")),Vt=tt("Undefined",Q("Undefined")),Gt=new j(W,"","",m("Unknown"),y(!0),[],{}),Ht=tt("sanctuary-def/ValidDate",function(t){return lt._test(t)&&!isNaN(t.valueOf())}),qt=tt("sanctuary-def/ValidNumber",function(t){return wt._test(t)&&!isNaN(t)}),zt=[rt,ot,it(Gt),ct,lt,ft,mt,Mt,wt,It,Pt,kt(Gt),Ut,Bt,Vt];function Xt(t){return re(t)("")(y(!0))}var Wt=Ue({checkTypes:!(void 0!==r&&null!=r&&null!=Object({NODE_ENV:"production",BROADCAST:void 0,BUILD_VERSION:"0.0.1-alpha"})),env:zt}),Kt=["zero","one","two","three","four","five","six","seven","eight","nine"];function $t(t){return(t<Kt.length?Kt[t]:o(t))+" "+(1===t?"argument":"arguments")}function Yt(t,e,n,r){return r.type.type===W?Qt(t,e,r.extractor(n)):[r.type]}function Qt(t,e,n){return E(n)?[Gt]:R(i.reduce(function(n,r){var o;if("object"==typeof r&&null!=r||"function"==typeof r){if(e.indexOf(r)>=0)return[];o=i.concat(e,[r])}else o=e;return i.chain(function(e){return"sanctuary-def/Nullable"===e.name||e.validate(r).isLeft?[]:e.type===X?i.map(ae(e),Yt(t,o,r,e.types.$1)):e.type===D?le(e,Yt(t,o,r,e.types.$1),Yt(t,o,r,e.types.$2)):[e]},n)},t,n),[$])}function Jt(t){return t.type===X?Jt(t.types.$1.type):t.type===D?Jt(t.types.$1.type)&&Jt(t.types.$2.type):t.type!==G}function Zt(t,e){return i.reject(function(t){return t.type===G},Qt(t,[],e))}function te(t,e,n,r,o,u){var a={};for(var s in e){var c=e[s],f={types:c.types.slice(),valuesByPath:{}};for(var p in c.valuesByPath)f.valuesByPath[p]=c.valuesByPath[p].slice();a[s]=f}l.call(a,n.name)||(a[n.name]={types:t.slice(),valuesByPath:{}});var d=JSON.stringify(i.concat([r],o));l.call(a[n.name].valuesByPath,d)||(a[n.name].valuesByPath[d]=[]);var h=E(n.keys),y=ne(t);function m(e,n){return i.filter(Jt,Yt(t,[],e,n))}return u.forEach(function(t){a[n.name].valuesByPath[d].push(t),a[n.name].types=i.chain(function(e){return e.keys.length<n.keys.length||!y(e)(t)?[]:h&&e.type===X?i.map(ae(e),m(t,e.types.$1)):h&&e.type===D?le(e,m(t,e.types.$1),m(t,e.types.$2)):[e]},a[n.name].types)}),a}function ee(t,e,n,r,o,u,a){for(var s=ee,c=0;c<a.length;c+=1){var f=r.validate(a[c]);if(f.isLeft)return d(function(){return Pe(t,e,o,i.concat(u,f.value.propPath),f.value.value)})}switch(r.type){case K:var p=r.name,y=e.constraints;if(l.call(y,p)){var m=y[p];for(c=0;c<a.length;c+=1)for(var v=0;v<m.length;v+=1)if(!m[v].test(a[c]))return d(function(){return Oe(t,e,m[v],o,u,a[c],n)})}var _=te(t,n,r,o,u,a),g=_[p].types;return E(g)?d(function(){return Fe(t,e,o,u,_[p].valuesByPath)}):i.reduce(function(n,c){return i.chain(function(n){var l=c.keys.length-r.keys.length;return r.keys.reduce(function(n,f,p){var d=c.types[c.keys[l+p]].extractor;return i.reduce(function(n,a){return i.chain(function(n){return s(t,e,n.typeVarMap,r.types[f].type,o,i.concat(u,[f]),[a])},n)},n,i.chain(d,a))},h(n))},n)},h({typeVarMap:_,types:g}),g);case X:return i.map(function(t){return{typeVarMap:t.typeVarMap,types:i.map(ae(r),R(t.types,[r.types.$1.type]))}},s(t,e,n,r.types.$1.type,o,i.concat(u,["$1"]),i.chain(r.types.$1.extractor,a)));case D:return i.chain(function(n){var c=n.types;return i.map(function(t){var e=t.types;return{typeVarMap:t.typeVarMap,types:le(r,R(c,[r.types.$1.type]),R(e,[r.types.$2.type]))}},s(t,e,n.typeVarMap,r.types.$2.type,o,i.concat(u,["$2"]),i.chain(r.types.$2.extractor,a)))},s(t,e,n,r.types.$1.type,o,i.concat(u,["$1"]),i.chain(r.types.$1.extractor,a)));case z:return i.reduce(function(n,c){return i.chain(function(n){return s(t,e,n.typeVarMap,r.types[c].type,o,i.concat(u,[c]),i.chain(r.types[c].extractor,a))},n)},h({typeVarMap:n,types:[r]}),r.keys);default:return h({typeVarMap:n,types:[r]})}}function ne(t){return function(e){return function(n){return ee(t,{name:"name",constraints:{},types:[e]},{},e,0,[],[n]).isRight}}}function re(t){function e(e,n){return e(B(t))}return function(n){return function(r){return new j(q,t,n,e,r,[],{})}}}var oe=Wt("NullaryType")({})([Ut,Ut,ht([nt,ct]),jt])(re);function ie(t){return function(e){return function(n){return function(r){return function(i){return new j(X,t,e,function(e,n){return e("("+B(t)+" ")+n("$1")(o(i))+e(")")},n,["$1"],{$1:{extractor:r,type:i}})}}}}}var ue=Wt("UnaryType")({})([Ut,Ut,ht([nt,ct]),ht([Xt("t a"),it(Xt("a"))]),rt])(function(t){return function(e){return function(n){return v(Wt(B(t))({})([jt,jt]),ie(t)(e)(n))}}});function ae(t){return ie(t.name)(t.url)(t._test)(t.types.$1.extractor)}function se(t){return function(e){return function(n){return function(r){return function(i){return function(u){return function(a){return new j(D,t,e,function(e,n){return e("("+B(t)+" ")+n("$1")(o(u))+e(" ")+n("$2")(o(a))+e(")")},n,["$1","$2"],{$1:{extractor:r,type:u},$2:{extractor:i,type:a}})}}}}}}}var ce=Wt("BinaryType")({})([Ut,Ut,ht([nt,ct]),ht([Xt("t a b"),it(Xt("a"))]),ht([Xt("t a b"),it(Xt("b"))]),rt])(function(t){return function(e){return function(n){return function(r){return function(o){return Wt(B(t))({})([jt,jt,jt])(se(t)(e)(n)(r)(o))}}}}});function le(t,e,n){return i.chain(function(t){return i.map(t,n)},i.map(se(t.name)(t.url)(t._test)(t.types.$1.extractor)(t.types.$2.extractor),e))}function fe(t){return function(e){return v(re(t)(e),S)}}var pe=Wt("EnumType")({})([Ut,Ut,it(nt),jt])(fe);function de(t){var e=w(t),n={};return e.forEach(function(e){n[e]={extractor:function(t){return[t[e]]},type:t[e]}}),new j(z,"","",function(n,r){if(E(e))return n("{}");var u=i.map(function(e){var i=t[e];return n(" ")+n(/^(?!\d)[$\w]+$/.test(e)?e:o(e))+n(" :: ")+F(i.type===z||E(i.keys),I,r(e)(o(i)))},e);return L(n("{"))(n(" }"))(T(n(","),u))},function(t){var n={};for(var r in e.forEach(function(t){n[t]=t}),t)delete n[r];return E(Object.keys(n))},e,n)}var he=Wt("RecordType")({})([kt(jt),jt])(de),ye=Wt("TypeVariable")({})([Ut,jt])(function(t){return new j(K,t,"",m(t),y(!0),[],{})}),me=Wt("UnaryTypeVariable")({})([Ut,rt])(function(t){return Wt(t)({})([jt,jt])(function(t){return function(e){var n={$1:{extractor:y([]),type:e}};return new j(K,t,"",function(n,r){return n("("+t+" ")+r("$1")(o(e))+n(")")},y(!0),["$1"],n)}}(t))}),ve=Wt("BinaryTypeVariable")({})([Ut,rt])(function(t){return Wt(t)({})([jt,jt,jt])(function(t){return function(e){return function(n){var r={$1:{extractor:y([]),type:e},$2:{extractor:y([]),type:n}};return new j(K,t,"",function(r,i){return r("("+t+" ")+i("$1")(o(e))+r(" ")+i("$2")(o(n))+r(")")},y(!0),["$1","$2"],r)}}}(t))}),_e=Wt("Thunk")({})([jt,jt])(function(t){return ht([t])}),ge=Wt("Predicate")({})([jt,jt])(function(t){return ht([t,ct])});function Ee(t,e,n,r){return new TypeError(O(U(t.name)+" applied to the wrong number of arguments\n\n"+Ne(t,y(y(N)),function(t){return function(n){return y(y(t===e?n:N))}})+"\nExpected "+$t(n)+" but received "+$t(r.length)+C(".\n",":\n\n",o,r)))}function be(t,e,n){var r=[];return w(t).forEach(function(e){var o=n(e);t[e].forEach(function(t){r.push(o(t)(B(t.name)+" "+e))})}),P(r.length>0,function(t){return t+e(" => ")},P(r.length>1,L(e("("))(e(")")),T(e(", "),r)))}function Te(t){return i.concat(t.type===K?[t.name]:[],i.chain(function(e){return Te(t.types[e].type)},t.keys))}function Ae(t){var e=i.chain(Te,t.types);return function(t){var n="a".charCodeAt(0);return F(t.type===V||t.type===z||E(t.keys),I,o(t).replace(/\bUnknown\b/g,function(){do{var t=String.fromCharCode(n++)}while(e.indexOf(t)>=0);return t}))}}function Se(t){return U(F(t.type===z||E(t.keys),I,o(t)))}function Re(t,e,n,r){var u=Ae(e);return o(r)+")  "+T("\n    ",i.map(function(e){var n=Zt(t,[e]);return o(e)+" :: "+T(", ",i.map(u,n))},n))}function xe(t){var e=i.map(Ae(t),t.types),n=e.length-1;return t.name+" :: "+be(t.constraints,_,y(y(_)))+P(0===n,k,T(" -> ",g(e)))+" -> "+A(e)}function Me(t,e,n){return F(t.type===z||E(t.keys)||t.type===V&&E(e)||!E(e),I,n(t)(e)(t.format(N,function(r){return y(Me(t.types[r].type,i.concat(e,[r]),n))})))}function Ne(t,e,n){var r=t.types.reduce(function(t,e,r){var i=n(r);return t.numbers.push(Me(e,[],i(function(e){return function(t){return function(e){var n=e.length-t.length;return x(" ",Math.floor(n/2))+t+x(" ",Math.ceil(n/2))}}(o(t.counter+=1))(e)}))),t.carets.push(Me(e,[],function(t){return function(t){var e=o(t),n=e.slice(0,1)+e.slice(-1)==="()";return i(function(t){return n&&"()"!==e&&t.length===e.length?N("(")+M("^")(t.slice(1,-1))+N(")"):M("^")(t)})}(t)(t)})),t},{carets:[],numbers:[],counter:0});return xe(t)+"\n"+N(t.name+" :: ")+be(t.constraints,N,e)+T(N(" -> "),r.carets)+"\n"+N(t.name+" :: ")+be(t.constraints,N,y(y(N)))+T(N(" -> "),r.numbers)+"\n"}function we(t,e){return i.reduce(function(t,e){return t.types[e].type},t,e)}function Ie(t){return function(e){return function(n){return function(r){return function(r){var o=i.concat([e],r),u=b(o)(t),a=b(t)(o);return u&&a?n:u?_:N}}}}}function Ce(t,e){return null==e.url||""===e.url?"":"\nSee "+e.url+" for information about the "+e.name+" "+t+".\n"}function Oe(t,e,n,r,o,u,a){var s=we(e.types[r],o);return new TypeError(O("Type-class constraint violation\n\n"+Ne(e,function(t){return function(e){return t===s.name&&e.name===n.name?M("^"):N}},Ie(i.concat([r],o)))+"\n"+Re(t,e,[u],1)+"\n\n"+U(e.name)+" requires "+U(s.name)+" to satisfy the "+B(n.name)+" type-class constraint; the value at position 1 does not.\n"+Ce("type class",n)))}function Fe(t,e,n,r,u){var a=JSON.stringify(i.concat([n],r)),s=u[a],c=i.filter(function(e){var n=u[e];return e===a||E(function(t,e){return i.filter(Jt,Qt(t,[],e))}(t,i.concat(s,n)))},w(u)),f=function(t,e){var n=i.map(JSON.parse,w(e));return Ne(t,y(y(N)),function(t){return function(r){return function(o){return function(o){var u=i.concat([t],o);return function(t){if(n.some(b(u))){var o=JSON.stringify(u);if(!l.call(e,o))return t;if(!E(e[o]))return r(t)}return N(t)}}}}})}(e,i.reduce(function(t,e){return t[e]=u[e],t},{},c));return new TypeError(O(1===s.length&&E(Zt(t,s))?"Unrecognized value\n\n"+f+"\n1)  "+o(s[0])+" :: (no types)\n\n"+C("The environment is empty! Polymorphic functions require a non-empty environment.\n","The value at position 1 is not a member of any type in the environment.\n\nThe environment contains the following types:\n\n",Ae(e),t):"Type-variable constraint violation\n\n"+f+"\n"+i.reduce(function(n,r){var o=u[r];return E(o)?n:{idx:n.idx+1,s:n.s+Re(t,e,o,n.idx+1)+"\n\n"}},{idx:0,s:""},c).s+"Since there is no type of which all the above values are members, the type-variable constraint has been violated.\n"))}function Pe(t,e,n,r,o){var u=we(e.types[n],r);return new TypeError(O("Invalid value\n\n"+Ne(e,y(y(N)),Ie(i.concat([n],r)))+"\n"+Re(t,e,[o],1)+"\n\nThe value at position 1 is not a member of "+Se(u)+".\n"+Ce("type",u)))}function Le(t){if(t.isLeft)throw t.value();return t.value}function ke(t,e,n){var r=e.types.length-1;function u(n,r,u){if(e.types[r].type!==V)return u;var a=e.types[r];function s(n,r,o,u){var s=[o],c=a.types[o].type;return c.type===K?i.chain(function(n){return E(n[c.name].types)?d(function(){return Fe(t,e,r,s,n[c.name].valuesByPath)}):h(n)},h(te(t,n,c,r,s,[u]))):i.map(function(t){return t.typeVarMap},ee(t,e,n,c,r,s,[u]))}var l=a.types.$1.type.type===H?0:a.keys.length-1,f=n;return function(t){if(arguments.length!==l)throw function(t,e,n,r){return new TypeError(O(U(t.name)+" applied "+Se(t.types[e])+" to the wrong number of arguments\n\n"+Ne(t,y(y(N)),function(t){return function(n){return function(r){return function(o){return function(o){return t===e?r.format(N,function(t){return"$1"===t?n:N}):N(o)}}}}})+"\nExpected "+$t(n)+" but received "+$t(r.length)+C(".\n",":\n\n",o,r)))}(e,r,l,c.call(arguments));var n=arguments;f=Le(g(a.keys).reduce(function(t,e,o){var u=n[o];return i.chain(function(t){return s(t,r,e,u)},t)},h(f)));var p=u.apply(this,arguments),d=A(a.keys);return f=Le(s(f,r,d,p)),p}}var a=e.types[0].type===H?function(){if(0!==arguments.length)throw Ee(e,0,0,c.call(arguments));var o=n();return u(Le(ee(t,e,{},e.types[r],r,[],[o])).typeVarMap,r,o)}:function o(a,s,l){return function(f){var p=c.call(arguments);if(1!==p.length)throw Ee(e,l,1,p);var d=Le(ee(t,e,a,e.types[l],l,[],p)).typeVarMap,h=i.concat(s,p);if(l+1===r){var y=h.reduce(function(t,e,n){return t(u(d,n,e))},n);return u(d=Le(ee(t,e,d,e.types[r],r,[],[y])).typeVarMap,r,y)}return o(d,h,l+1)}}({},[],0);return a[p]=a.toString=function(t){return function(){return t}}(xe(e)),a}function Ue(t){function e(e){return function(n){return function(r){return function(o){return t.checkTypes?ke(t.env,{name:e,constraints:n,types:dt(r)},o):o}}}}return e(e.name)({})([Ut,kt(it(Dt)),bt(it(jt)),rt,rt])(e)}var Be=Wt("create")({})([de({checkTypes:ct,env:it(nt)}),rt])(Ue);function je(t){var e=t(Gt),n=e.types.$1.extractor;return ue(e.name)(e.url)(e._test)(n)}return{Any:nt,AnyFunction:rt,Arguments:ot,Array:je(it),Array0:ut,Array1:je(at),Array2:function(t){var e=st(Gt)(Gt),n=e.types.$1.extractor,r=e.types.$2.extractor;return ce(e.name)(e.url)(e._test)(n)(r)}(),Boolean:ct,Date:lt,Error:ft,FiniteNumber:pt,Function:Wt("Function")({})([it(jt),jt])(ht),GlobalRegExp:yt,HtmlElement:mt,Integer:vt,NegativeFiniteNumber:_t,NegativeInteger:gt,NegativeNumber:Et,NonEmpty:bt,NonGlobalRegExp:Tt,NonNegativeInteger:At,NonZeroFiniteNumber:St,NonZeroInteger:Rt,NonZeroValidNumber:xt,Null:Mt,Nullable:je(Nt),Number:wt,Object:It,PositiveFiniteNumber:Ct,PositiveInteger:Ot,PositiveNumber:Ft,RegExp:Pt,RegexFlags:Lt,StrMap:je(kt),String:Ut,Symbol:Bt,Type:jt,TypeClass:Dt,Undefined:Vt,Unknown:Gt,ValidDate:Ht,ValidNumber:qt,env:zt,create:Be,test:Wt("test")({})([it(jt),jt,nt,ct])(ne),NullaryType:oe,UnaryType:ue,BinaryType:ce,EnumType:pe,RecordType:he,TypeVariable:ye,UnaryTypeVariable:me,BinaryTypeVariable:ve,Thunk:_e,Predicate:ge}})}).call(this,n(19))},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(110)),r(n(105)),r(n(104)),r(n(100)),r(n(33))},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1],i=e[2],u=n[0],a=n[1],s=n[2],c=n[3],l=c*r+a*i-s*o,f=c*o+s*r-u*i,p=c*i+u*o-a*r,d=-u*r-a*o-s*i;return t[0]=l*c+d*-u+f*-s-p*-a,t[1]=f*c+d*-a+p*-u-l*-s,t[2]=p*c+d*-s+l*-a-f*-u,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],u=n*n+r*r+o*o+i*i,a=u?1/u:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-o*a,t[3]=i*a,t}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],u=n*n+r*r+o*o+i*i;return u>0&&(u=1/Math.sqrt(u),t[0]=n*u,t[1]=r*u,t[2]=o*u,t[3]=i*u),t}},function(t,e,n){t.exports=n(54)},function(t,e){t.exports=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e,n){var r=n(57),o=n(56),i=n(55),u=n(20),a=[0,0,0];t.exports=function(t,e,n){var s=r(e,n)+1;return s<1e-6?(s=0,Math.abs(e[0])>Math.abs(e[2])?o(a,-e[1],e[0],0):o(a,0,-e[2],e[1])):u(a,e,n),t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=s,i(t,t),t}},function(t,e){t.exports=function(t,e){return{configurable:!0,enumerable:!0,get:t,set:e}}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function i(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,u,a,s,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(i(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),u=(c=n.slice()).length,s=0;s<u;s++)c[s].apply(this,a);return!0},n.prototype.addListener=function(t,e){var u;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(u=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&u>0&&this._events[t].length>u&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(t,o),n||(n=!0,e.apply(this,arguments))}return o.listener=e,this.on(t,o),this},n.prototype.removeListener=function(t,e){var n,i,u,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(u=(n=this._events[t]).length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=u;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}},function(t,e,n){var r=n(61),o=n(60).EventEmitter,i=n(59),u=n(21);function a(){this.position=[0,0],this.touch=null}t.exports=function(t){t=t||window;var e=new o,n=[null,null],s=0,c=0,l=!1,f=!1;return Object.defineProperties(e,{pinching:i(function(){return 2===s}),fingers:i(function(){return n})}),d(),e.enable=d,e.disable=function(){f&&(f=!1,s=0,n[0]=null,n[1]=null,c=0,l=!1,t.removeEventListener("touchstart",h,!1),t.removeEventListener("touchmove",y,!1),t.removeEventListener("touchend",m,!1),t.removeEventListener("touchcancel",m,!1))},e.indexOfTouch=p,e;function p(t){for(var e=t.identifier,r=0;r<n.length;r++)if(n[r]&&n[r].touch&&n[r].touch.identifier===e)return r;return-1}function d(){f||(f=!0,t.addEventListener("touchstart",h,!1),t.addEventListener("touchmove",y,!1),t.addEventListener("touchend",m,!1),t.addEventListener("touchcancel",m,!1))}function h(r){for(var o=0;o<r.changedTouches.length;o++){var i=r.changedTouches[o];if(-1===p(i.identifier)&&s<2){var f=0===s,d=n[0]?1:0,h=n[0]?0:1,y=new a;n[d]=y,s++,y.touch=i,u(i,t,y.position);var m=n[h]?n[h].touch:void 0;if(e.emit("place",i,m),!f){var _=v();l=!1,e.emit("start",_),c=_}}}}function y(r){for(var o=!1,i=0;i<r.changedTouches.length;i++){var a=r.changedTouches[i],l=p(a);-1!==l&&(o=!0,n[l].touch=a,u(a,t,n[l].position))}if(2===s&&o){var f=v();e.emit("change",f,c),c=f}}function m(t){for(var r=0;r<t.changedTouches.length;r++){var o=t.changedTouches[r],i=p(o);if(-1!==i){n[i]=null,s--;var u=0===i?1:0,a=n[u]?n[u].touch:void 0;e.emit("lift",o,a)}}l||2===s||(l=!0,e.emit("end"))}function v(){return s<2?0:r(n[0].position,n[1].position)}}},function(t,e){t.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},function(t,e,n){"use strict";var r=n(63);t.exports=u;var o=96;function i(t,e){var n=r(getComputedStyle(t).getPropertyValue(e));return n[0]*u(n[1],t)}function u(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return function(t,e){var n=document.createElement("div");n.style["font-size"]="128"+t,e.appendChild(n);var r=i(n,"font-size")/128;return e.removeChild(n),r}(t,e);case"em":return i(e,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6}return 1}},function(t,e,n){"use strict";var r=n(64);t.exports=function(t,e,n){"function"==typeof t&&(n=!!e,e=t,t=window);var o=r("ex",t),i=function(t){n&&t.preventDefault();var r=t.deltaX||0,i=t.deltaY||0,u=t.deltaZ||0,a=1;switch(t.deltaMode){case 1:a=o;break;case 2:a=window.innerHeight}if(i*=a,u*=a,(r*=a)||i||u)return e(r,i,u,t)};return t.addEventListener("wheel",i),i}},function(t,e,n){var r=n(65),o=n(21),i=n(62);t.exports=function(t){var e,n,u=t.element||window,a=t.parent||u,s=[0,0],c=!1,l=[0,0],f=[0,0],p=t.zoom,d=t.rotate,h=t.pinch,y=!1;return m(),{isDragging:function(){return c},isPinching:b,enable:m,disable:function(){y&&(y=!1,n&&u.removeEventListener("wheel",n),e&&(e.disable(),u.removeEventListener("touchstart",v,!1),d&&u.removeEventListener("touchmove",_,!1)),d&&(a.removeEventListener("mousedown",A,!1),a.removeEventListener("mousemove",R,!1),a.removeEventListener("mouseup",S,!1)))}};function m(){y||(y=!0,p&&(n=r(u,function(t,e){p(e)},!0)),d&&(u.addEventListener("mousedown",A,!1),a.addEventListener("mousemove",R,!1),a.addEventListener("mouseup",S,!1)),(d||h)&&(e=i(u),u.addEventListener("touchstart",v,!1),d&&(u.addEventListener("touchmove",_,!1),e.on("place",g),e.on("lift",E)),h&&e.on("change",T)))}function v(t){t.preventDefault()}function _(t){if(c&&!b())for(var n=0;n<t.changedTouches.length;n++){var r=t.changedTouches[n],o=e.indexOfTouch(r);if(h?-1!==o:0===o){R(r);break}}}function g(t,e){(c=!b())&&A(e||t)}function E(t,n){var r=e.fingers.reduce(function(t,e){return t+(e?1:0)},0);(c=h&&r>=1)&&n&&o(n,u,s)}function b(){return e.pinching&&h}function T(t,e){h(t-e)}function A(t){o(t,u,s),function(t){if(u===window||u===document||u===document.body)return!0;var e=u.getBoundingClientRect();return t[0]>=0&&t[1]>=0&&t[0]<e.width&&t[1]<e.height}(s)&&(c=!0)}function S(){c=!1}function R(t){var n=o(t,u,l);if(e&&b())s=n;else if(c){var r=function(t){var e=u;return e!==window&&e!==document&&e!==document.body||(e=document.documentElement),t[0]=e.clientWidth,t[1]=e.clientHeight,t}(f),i=(n[0]-s[0])/r[0],a=(n[1]-s[1])/r[1];d(i,a),s[0]=n[0],s[1]=n[1]}}}},function(t,e){t.exports=function(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}},function(t,e){t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},function(t,e,n){var r=n(68),o=n(67),i=n(66),u=n(58),a=n(53),s={length:n(52),add:n(51),subtract:n(50),transformQuat:n(49),copy:n(48),normalize:n(47),cross:n(20)},c=[0,1,0],l=Math.pow(2,-23),f=[0,0,0];t.exports=function(t){t=t||{};var e=[0,0,0],n=[0,0,0],p=[0,0,0,1],d=p.slice(),h=r(t.phi,Math.PI/2),y=t.theta||0,m={update:function(){_();for(var t="number"==typeof m.damping?m.damping:1,n=0;n<e.length;n++)e[n]*=1-t},copyInto:function(t,e,n){t&&s.copy(t,m.position),e&&s.copy(e,m.direction),n&&s.copy(n,m.up)},position:t.position?t.position.slice():[0,0,1],direction:[0,0,-1],up:t.up?t.up.slice():[0,1,0],target:t.target?t.target.slice():[0,0,0],distance:r(t.distance,1),damping:r(t.damping,.25),rotateSpeed:r(t.rotateSpeed,.28),zoomSpeed:r(t.zoomSpeed,.0075),pinchSpeed:r(t.pinchSpeed,.0075),pinch:!1!==t.pinching,zoom:!1!==t.zoom,rotate:!1!==t.rotate,phiBounds:t.phiBounds||[0,Math.PI],thetaBounds:t.thetaBounds||[-1/0,1/0],distanceBounds:t.distanceBounds||[0,1/0]};"number"!=typeof t.distance&&(s.subtract(f,m.position,m.target),m.distance=s.length(f));var v=i({parent:t.parent||window,element:t.element,rotate:!1!==t.rotate?function(t,n){var r=2*Math.PI;e[0]-=r*t*m.rotateSpeed,e[1]-=r*n*m.rotateSpeed}:null,zoom:!1!==t.zoom?function(t){e[2]+=t*m.zoomSpeed}:null,pinch:!1!==t.pinch?function(t){e[2]-=t*m.pinchSpeed}:null});return m.enable=v.enable,m.disable=v.disable,Object.defineProperties(m,{phi:{get:function(){return h},set:function(t){h=t,g()}},theta:{get:function(){return y},set:function(t){y=t,g()}},dragging:{get:function(){return v.isDragging()}},pinching:{get:function(){return v.isPinching()}}}),g(),m;function _(){var t=m.up||c;u(p,t,c),a(d,p);var r=m.distance;s.subtract(n,m.position,m.target),s.transformQuat(n,n,p);var i=Math.atan2(n[0],n[2]),f=Math.atan2(Math.sqrt(n[0]*n[0]+n[2]*n[2]),n[1]);i+=e[0],f+=e[1],i=o(i,m.thetaBounds[0],m.thetaBounds[1]),f=o(f,m.phiBounds[0],m.phiBounds[1]),f=o(f,l,Math.PI-l),r+=e[2],r=o(r,m.distanceBounds[0],m.distanceBounds[1]);var v=Math.abs(r)<=l?l:r;n[0]=v*Math.sin(f)*Math.sin(i),n[1]=v*Math.cos(f),n[2]=v*Math.sin(f)*Math.cos(i),h=f,y=i,m.distance=r,s.transformQuat(n,n,d),s.add(m.position,m.target,n),function(t,e,n,r){s.copy(t,r),s.subtract(t,t,n),s.normalize(t,t)}(m.direction,0,m.position,m.target)}function g(){var t=m.phi,e=m.theta;e=o(e,m.thetaBounds[0],m.thetaBounds[1]),t=o(t,m.phiBounds[0],m.phiBounds[1]),t=o(t,l,Math.PI-l);var n=Math.max(l,m.distance);m.position[0]=n*Math.sin(t)*Math.sin(e),m.position[1]=n*Math.cos(t),m.position[2]=n*Math.sin(t)*Math.cos(e),s.add(m.position,m.position,m.target),_()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(69),i=n(0);e.createControls=function(t){var e=o({position:t.position,target:Float64Array.from([0,0,-2])});return e.enable(),{updateCamera:function(){e.update();var n=i.mat4.lookAt(r.createMat4(),e.position,e.direction,e.up),o=r.getCameraProjection(t);return Object.assign({},t,{position:e.position,view:n,projection:o})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7);e.makeOutput=function(t){t.canvas;var e=t.renderer,n=(t.camera,t.gltfBridges),o=t.renderSkybox;return function(t){var i=t[0].camera;e.gl.clear(r.WebGlConstants.COLOR_BUFFER_BIT|r.WebGlConstants.DEPTH_BUFFER_BIT),o(i),n.forEach(function(e,n){return e.renderScene(t[n])})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(46);e.addGltfExtensions=function(){return o.S.pipe([function(t){var e={path:"static/world/world.json",settings:{scaleDiffBaseMR:Float64Array.from([0,0,0,0]),scaleFGDSpec:Float64Array.from([0,0,0,0]),scaleIBLAmbient:Float64Array.from([1,1,0,0])}};return function(t){return function(e){return function(n){var r,o;return Object.assign({},n,{extensionsUsed:n.extensionsUsed?n.extensionsUsed.concat([t]):[t],extensions:n.extensions?Object.assign({},n.extensions,(r={},r[t]=e,r)):(o={},o[t]=e,o)})}}}(r.GltfIblExtensionName)(e)(t)}])}},function(t,e,n){"use strict";n.r(e),e.default="precision mediump float;\n\nvarying vec3 v_TexCoord;\n\nuniform samplerCube u_Sampler; \n\nvoid main() {\n    gl_FragColor = textureCube(u_Sampler, v_TexCoord);\n    //gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n}\n"},function(t,e,n){"use strict";n.r(e),e.default="attribute vec3 a_Vertex;\n\nvarying vec3 v_TexCoord;\n\nuniform mat4 u_Transform;\n\nvoid main() {     \n    gl_Position = u_Transform * (vec4(a_Vertex,1));\n\n    v_TexCoord = a_Vertex;\n}\n"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7);e.GEOMETRY_BUFFER_ID=Symbol("boxGeom"),e.ELEMENTS_BUFFER_ID=Symbol("boxElements"),e.uploadData=function(t){return function(n){var i=o(n);return t.buffers.assign(e.GEOMETRY_BUFFER_ID)({target:r.WebGlConstants.ARRAY_BUFFER,usagePattern:r.WebGlConstants.STATIC_DRAW,data:i.vertexPositions}),t.buffers.assign(e.ELEMENTS_BUFFER_ID)({target:r.WebGlConstants.ELEMENT_ARRAY_BUFFER,usagePattern:r.WebGlConstants.STATIC_DRAW,data:i.indices}),i}};var o=function(t){var e=(t||1)/2,n=[],r=[],o=[],i=[];function u(t,e){var u,a=n.length/3;for(u=0;u<12;u++)n.push(t[u]);for(u=0;u<4;u++)r.push(e[0],e[1],e[2]);o.push(0,0,1,0,1,1,0,1),i.push(a,a+1,a+2,a,a+2,a+3)}return u([-e,-e,e,e,-e,e,e,e,e,-e,e,e],[0,0,1]),u([-e,-e,-e,-e,e,-e,e,e,-e,e,-e,-e],[0,0,-1]),u([-e,e,-e,-e,e,e,e,e,e,e,e,-e],[0,1,0]),u([-e,-e,-e,e,-e,-e,e,-e,e,-e,-e,e],[0,-1,0]),u([e,-e,-e,e,e,-e,e,e,e,e,-e,e],[1,0,0]),u([-e,-e,-e,-e,-e,e,-e,e,e,-e,e,-e],[-1,0,0]),{vertexPositions:new Float32Array(n),vertexNormals:new Float32Array(r),vertexTextureCoords:new Float32Array(o),indices:new Uint16Array(i)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(0),i=n(2),u=n(5),a=n(75),s=n(74),c=n(73);e.createSkybox=function(t){return function(e){return function(t){return function(e){return i.parallel(1/0,e.map(u.fetchImage)).map(function(e){return r.createCubeTextureFromTarget({gl:t.gl,format:r.WebGlConstants.RGB,setParameters:function(e){t.gl.pixelStorei(r.WebGlConstants.UNPACK_FLIP_Y_WEBGL,!1),t.gl.texParameteri(r.WebGlConstants.TEXTURE_CUBE_MAP,r.WebGlConstants.TEXTURE_WRAP_S,r.WebGlConstants.CLAMP_TO_EDGE),t.gl.texParameteri(r.WebGlConstants.TEXTURE_CUBE_MAP,r.WebGlConstants.TEXTURE_WRAP_T,r.WebGlConstants.CLAMP_TO_EDGE),t.gl.texParameteri(r.WebGlConstants.TEXTURE_CUBE_MAP,r.WebGlConstants.TEXTURE_MIN_FILTER,r.WebGlConstants.LINEAR),t.gl.texParameteri(r.WebGlConstants.TEXTURE_CUBE_MAP,r.WebGlConstants.TEXTURE_MAG_FILTER,r.WebGlConstants.LINEAR)}})({posX:e[0],negX:e[1],posY:e[2],negY:e[3],posZ:e[4],negZ:e[5]})})}}(t)(e).map(function(e){var n=Symbol(),i=Symbol(),u=t.gl;t.buffers,t.attributes.globalLocations.add("a_Vertex");var l=a.uploadData(t)(900).indices,f=r.createShader({renderer:t,shaderId:n,source:{vertex:s.default,fragment:c.default}}).uniforms.setters,p=f.uniform1i,d=(f.uniform1f,f.uniform2fv,f.uniform3fv,f.uniform4fv,f.uniformMatrix4fv);return r.activateShader(n),t.vertexArrays.assign(i)({elementBufferId:a.ELEMENTS_BUFFER_ID,data:[{location:t.attributes.getLocationInRenderer("a_Vertex"),bufferId:a.GEOMETRY_BUFFER_ID,size:3,type:u.FLOAT,normalized:!1,stride:0,offset:0}]}),function(a){r.activateShader(n),t.glToggle(r.WebGlConstants.DEPTH_TEST)(!0),t.glToggle(r.WebGlConstants.CULL_FACE)(!1),t.switchCubeTexture(0)(e),p("u_Sampler")(0);var s=o.mat4.multiply(o.mat4.create(),a.projection,a.view);d("u_Transform")(!1)(s),t.vertexArrays.activate(i),u.drawElements(u.TRIANGLES,l.length,u.UNSIGNED_SHORT,0)}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(76),i=n(72);e.loadAssets=function(t){return o.createSkybox(t)(["static/world/environment/environment_right_0.jpg","static/world/environment/environment_left_0.jpg","static/world/environment/environment_top_0.jpg","static/world/environment/environment_bottom_0.jpg","static/world/environment/environment_front_0.jpg","static/world/environment/environment_back_0.jpg"]).map(function(t){return{renderSkybox:t,gltfBridges:[]}}).chain(function(e){return u(t)("static/ball/scene.gltf").map(function(t){return Object.assign({},e,{gltfBridges:e.gltfBridges.concat([t])})})}).chain(function(e){return u(t)("static/cube/Cube.gltf").map(function(t){return Object.assign({},e,{gltfBridges:e.gltfBridges.concat([t])})})})};var u=function(t){return function(e){return r.gltf_load({renderer:t,path:e,config:{},mapper:i.addGltfExtensions()})}}},function(t,e,n){"use strict";t.exports=function(t){var e=(t?t.ownerDocument||t:document).defaultView||window;return!(!t||!("function"==typeof e.Node?t instanceof e.Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}},function(t,e,n){"use strict";var r=n(78);t.exports=function(t){return r(t)&&3==t.nodeType}},function(t,e,n){"use strict";var r=n(79);t.exports=function t(e,n){return!(!e||!n)&&(e===n||!r(e)&&(r(n)?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}t.exports=function(t,e){if(o(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var u=0;u<n.length;u++)if(!r.call(e,n[u])||!o(t[n[u]],e[n[u]]))return!1;return!0}},function(t,e,n){"use strict";t.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},function(t,e,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},function(t,e,n){"use strict";
/** @license React v16.4.1
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(31),o=n(6),i=n(83),u=n(32),a=n(29),s=n(82),c=n(81),l=n(80),f=n(30);function p(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=0;o<e;o++)n+="&args[]="+encodeURIComponent(arguments[o+1]);r(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}o||p("227");var d={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(t,e,n,r,o,i,u,a,s){(function(t,e,n,r,o,i,u,a,s){this._hasCaughtError=!1,this._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this._caughtError=t,this._hasCaughtError=!0}}).apply(d,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,r,o,i,u,a,s){if(d.invokeGuardedCallback.apply(this,arguments),d.hasCaughtError()){var c=d.clearCaughtError();d._hasRethrowError||(d._hasRethrowError=!0,d._rethrowError=c)}},rethrowCaughtError:function(){return function(){if(d._hasRethrowError){var t=d._rethrowError;throw d._rethrowError=null,d._hasRethrowError=!1,t}}.apply(d,arguments)},hasCaughtError:function(){return d._hasCaughtError},clearCaughtError:function(){if(d._hasCaughtError){var t=d._caughtError;return d._caughtError=null,d._hasCaughtError=!1,t}p("198")}},h=null,y={};function m(){if(h)for(var t in y){var e=y[t],n=h.indexOf(t);if(-1<n||p("96",t),!_[n])for(var r in e.extractEvents||p("97",t),_[n]=e,n=e.eventTypes){var o=void 0,i=n[r],u=e,a=r;g.hasOwnProperty(a)&&p("99",a),g[a]=i;var s=i.phasedRegistrationNames;if(s){for(o in s)s.hasOwnProperty(o)&&v(s[o],u,a);o=!0}else i.registrationName?(v(i.registrationName,u,a),o=!0):o=!1;o||p("98",r,t)}}}function v(t,e,n){E[t]&&p("100",t),E[t]=e,b[t]=e.eventTypes[n].dependencies}var _=[],g={},E={},b={};function T(t){h&&p("101"),h=Array.prototype.slice.call(t),m()}function A(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];y.hasOwnProperty(e)&&y[e]===r||(y[e]&&p("102",e),y[e]=r,n=!0)}n&&m()}var S={plugins:_,eventNameDispatchConfigs:g,registrationNameModules:E,registrationNameDependencies:b,possibleRegistrationNames:null,injectEventPluginOrder:T,injectEventPluginsByName:A},R=null,x=null,M=null;function N(t,e,n,r){e=t.type||"unknown-event",t.currentTarget=M(r),d.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function w(t,e){return null==e&&p("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function I(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var C=null;function O(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!t.isPropagationStopped();o++)N(t,e,n[o],r[o]);else n&&N(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function F(t){return O(t,!0)}function P(t){return O(t,!1)}var L={injectEventPluginOrder:T,injectEventPluginsByName:A};function k(t,e){var n=t.stateNode;if(!n)return null;var r=R(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!=typeof n&&p("231",e,typeof n),n)}function U(t,e){null!==t&&(C=w(C,t)),t=C,C=null,t&&(I(t,e?F:P),C&&p("95"),d.rethrowCaughtError())}function B(t,e,n,r){for(var o=null,i=0;i<_.length;i++){var u=_[i];u&&(u=u.extractEvents(t,e,n,r))&&(o=w(o,u))}U(o,!1)}var j={injection:L,getListener:k,runEventsInBatch:U,runExtractedEventsInBatch:B},D=Math.random().toString(36).slice(2),V="__reactInternalInstance$"+D,G="__reactEventHandlers$"+D;function H(t){if(t[V])return t[V];for(;!t[V];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[V]).tag||6===t.tag?t:null}function q(t){if(5===t.tag||6===t.tag)return t.stateNode;p("33")}function z(t){return t[G]||null}var X={precacheFiberNode:function(t,e){e[V]=t},getClosestInstanceFromNode:H,getInstanceFromNode:function(t){return!(t=t[V])||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:q,getFiberCurrentPropsFromNode:z,updateFiberProps:function(t,e){t[G]=e}};function W(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function K(t,e,n){for(var r=[];t;)r.push(t),t=W(t);for(t=r.length;0<t--;)e(r[t],"captured",n);for(t=0;t<r.length;t++)e(r[t],"bubbled",n)}function $(t,e,n){(e=k(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=w(n._dispatchListeners,e),n._dispatchInstances=w(n._dispatchInstances,t))}function Y(t){t&&t.dispatchConfig.phasedRegistrationNames&&K(t._targetInst,$,t)}function Q(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;K(e=e?W(e):null,$,t)}}function J(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=k(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=w(n._dispatchListeners,e),n._dispatchInstances=w(n._dispatchInstances,t))}function Z(t){t&&t.dispatchConfig.registrationName&&J(t._targetInst,null,t)}function tt(t){I(t,Y)}function et(t,e,n,r){if(n&&r)t:{for(var o=n,i=r,u=0,a=o;a;a=W(a))u++;a=0;for(var s=i;s;s=W(s))a++;for(;0<u-a;)o=W(o),u--;for(;0<a-u;)i=W(i),a--;for(;u--;){if(o===i||o===i.alternate)break t;o=W(o),i=W(i)}o=null}else o=null;for(i=o,o=[];n&&n!==i&&(null===(u=n.alternate)||u!==i);)o.push(n),n=W(n);for(n=[];r&&r!==i&&(null===(u=r.alternate)||u!==i);)n.push(r),r=W(r);for(r=0;r<o.length;r++)J(o[r],"bubbled",t);for(t=n.length;0<t--;)J(n[t],"captured",e)}var nt={accumulateTwoPhaseDispatches:tt,accumulateTwoPhaseDispatchesSkipTarget:function(t){I(t,Q)},accumulateEnterLeaveDispatches:et,accumulateDirectDispatches:function(t){I(t,Z)}};function rt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}var ot={animationend:rt("Animation","AnimationEnd"),animationiteration:rt("Animation","AnimationIteration"),animationstart:rt("Animation","AnimationStart"),transitionend:rt("Transition","TransitionEnd")},it={},ut={};function at(t){if(it[t])return it[t];if(!ot[t])return t;var e,n=ot[t];for(e in n)if(n.hasOwnProperty(e)&&e in ut)return it[t]=n[e];return t}i.canUseDOM&&(ut=document.createElement("div").style,"AnimationEvent"in window||(delete ot.animationend.animation,delete ot.animationiteration.animation,delete ot.animationstart.animation),"TransitionEvent"in window||delete ot.transitionend.transition);var st=at("animationend"),ct=at("animationiteration"),lt=at("animationstart"),ft=at("transitionend"),pt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dt=null;function ht(){return!dt&&i.canUseDOM&&(dt="textContent"in document.documentElement?"textContent":"innerText"),dt}var yt={_root:null,_startText:null,_fallbackText:null};function mt(){if(yt._fallbackText)return yt._fallbackText;var t,e,n=yt._startText,r=n.length,o=vt(),i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var u=r-t;for(e=1;e<=u&&n[r-e]===o[i-e];e++);return yt._fallbackText=o.slice(t,1<e?1-e:void 0),yt._fallbackText}function vt(){return"value"in yt._root?yt._root.value:yt._root[ht()]}var _t="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),gt={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function Et(t,e,n,r){for(var o in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(o)&&((e=t[o])?this[o]=e(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}function bt(t,e,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,e,n,r),o}return new this(t,e,n,r)}function Tt(t){t instanceof this||p("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function At(t){t.eventPool=[],t.getPooled=bt,t.release=Tt}u(Et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<_t.length;e++)this[_t[e]]=null}}),Et.Interface=gt,Et.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return u(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=u({},r.Interface,t),n.extend=r.extend,At(n),n},At(Et);var St=Et.extend({data:null}),Rt=Et.extend({data:null}),xt=[9,13,27,32],Mt=i.canUseDOM&&"CompositionEvent"in window,Nt=null;i.canUseDOM&&"documentMode"in document&&(Nt=document.documentMode);var wt=i.canUseDOM&&"TextEvent"in window&&!Nt,It=i.canUseDOM&&(!Mt||Nt&&8<Nt&&11>=Nt),Ct=String.fromCharCode(32),Ot={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ft=!1;function Pt(t,e){switch(t){case"keyup":return-1!==xt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Lt(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var kt=!1,Ut={eventTypes:Ot,extractEvents:function(t,e,n,r){var o=void 0,i=void 0;if(Mt)t:{switch(t){case"compositionstart":o=Ot.compositionStart;break t;case"compositionend":o=Ot.compositionEnd;break t;case"compositionupdate":o=Ot.compositionUpdate;break t}o=void 0}else kt?Pt(t,n)&&(o=Ot.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=Ot.compositionStart);return o?(It&&(kt||o!==Ot.compositionStart?o===Ot.compositionEnd&&kt&&(i=mt()):(yt._root=r,yt._startText=vt(),kt=!0)),o=St.getPooled(o,e,n,r),i?o.data=i:null!==(i=Lt(n))&&(o.data=i),tt(o),i=o):i=null,(t=wt?function(t,e){switch(t){case"compositionend":return Lt(e);case"keypress":return 32!==e.which?null:(Ft=!0,Ct);case"textInput":return(t=e.data)===Ct&&Ft?null:t;default:return null}}(t,n):function(t,e){if(kt)return"compositionend"===t||!Mt&&Pt(t,e)?(t=mt(),yt._root=null,yt._startText=null,yt._fallbackText=null,kt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return It?null:e.data;default:return null}}(t,n))?((e=Rt.getPooled(Ot.beforeInput,e,n,r)).data=t,tt(e)):e=null,null===i?e:null===e?i:[i,e]}},Bt=null,jt={injectFiberControlledHostComponent:function(t){Bt=t}},Dt=null,Vt=null;function Gt(t){if(t=x(t)){Bt&&"function"==typeof Bt.restoreControlledState||p("194");var e=R(t.stateNode);Bt.restoreControlledState(t.stateNode,t.type,e)}}function Ht(t){Dt?Vt?Vt.push(t):Vt=[t]:Dt=t}function qt(){return null!==Dt||null!==Vt}function zt(){if(Dt){var t=Dt,e=Vt;if(Vt=Dt=null,Gt(t),e)for(t=0;t<e.length;t++)Gt(e[t])}}var Xt={injection:jt,enqueueStateRestore:Ht,needsStateRestore:qt,restoreStateIfNeeded:zt};function Wt(t,e){return t(e)}function Kt(t,e,n){return t(e,n)}function $t(){}var Yt=!1;function Qt(t,e){if(Yt)return t(e);Yt=!0;try{return Wt(t,e)}finally{Yt=!1,qt()&&($t(),zt())}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Jt[t.type]:"textarea"===e}function te(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ee(t,e){return!(!i.canUseDOM||e&&!("addEventListener"in document))&&((e=(t="on"+t)in document)||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e)}function ne(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function re(t){t._valueTracker||(t._valueTracker=function(t){var e=ne(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){r=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function oe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ne(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var ie=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ue="function"==typeof Symbol&&Symbol.for,ae=ue?Symbol.for("react.element"):60103,se=ue?Symbol.for("react.portal"):60106,ce=ue?Symbol.for("react.fragment"):60107,le=ue?Symbol.for("react.strict_mode"):60108,fe=ue?Symbol.for("react.profiler"):60114,pe=ue?Symbol.for("react.provider"):60109,de=ue?Symbol.for("react.context"):60110,he=ue?Symbol.for("react.async_mode"):60111,ye=ue?Symbol.for("react.forward_ref"):60112,me=ue?Symbol.for("react.timeout"):60113,ve="function"==typeof Symbol&&Symbol.iterator;function _e(t){return null===t||void 0===t?null:"function"==typeof(t=ve&&t[ve]||t["@@iterator"])?t:null}function ge(t){var e=t.type;if("function"==typeof e)return e.displayName||e.name;if("string"==typeof e)return e;switch(e){case he:return"AsyncMode";case de:return"Context.Consumer";case ce:return"ReactFragment";case se:return"ReactPortal";case fe:return"Profiler("+t.pendingProps.id+")";case pe:return"Context.Provider";case le:return"StrictMode";case me:return"Timeout"}if("object"==typeof e&&null!==e)switch(e.$$typeof){case ye:return""!==(t=e.render.displayName||e.render.name||"")?"ForwardRef("+t+")":"ForwardRef"}return null}function Ee(t){var e="";do{t:switch(t.tag){case 0:case 1:case 2:case 5:var n=t._debugOwner,r=t._debugSource,o=ge(t),i=null;n&&(i=ge(n)),n=r,o="\n    in "+(o||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":i?" (created by "+i+")":"");break t;default:o=""}e+=o,t=t.return}while(t);return e}var be=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Te={},Ae={};function Se(t,e,n,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Re[t]=new Se(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Re[e]=new Se(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Re[t]=new Se(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(t){Re[t]=new Se(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Re[t]=new Se(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){Re[t]=new Se(t,3,!0,t.toLowerCase(),null)}),["capture","download"].forEach(function(t){Re[t]=new Se(t,4,!1,t.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(t){Re[t]=new Se(t,6,!1,t.toLowerCase(),null)}),["rowSpan","start"].forEach(function(t){Re[t]=new Se(t,5,!1,t.toLowerCase(),null)});var xe=/[\-:]([a-z])/g;function Me(t){return t[1].toUpperCase()}function Ne(t,e,n,r){var o=Re.hasOwnProperty(e)?Re[e]:null;(null!==o?0===o.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null===e||void 0===e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,o,r)&&(n=null),r||null===o?function(t){return!!Ae.hasOwnProperty(t)||!Te.hasOwnProperty(t)&&(be.test(t)?Ae[t]=!0:(Te[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,r=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function we(t,e){var n=e.checked;return u({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Ie(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Le(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ce(t,e){null!=(e=e.checked)&&Ne(t,"checked",e,!1)}function Oe(t,e){Ce(t,e);var n=Le(e.value);null!=n&&("number"===e.type?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n)),e.hasOwnProperty("value")?Pe(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pe(t,e.type,Le(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Fe(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){e=""+t._wrapperState.initialValue;var r=t.value;n||e===r||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==n&&(t.name=n)}function Pe(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Le(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xe,Me);Re[e]=new Se(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xe,Me);Re[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xe,Me);Re[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),Re.tabIndex=new Se("tabIndex",1,!1,"tabindex",null);var ke={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ue(t,e,n){return(t=Et.getPooled(ke.change,t,e,n)).type="change",Ht(n),tt(t),t}var Be=null,je=null;function De(t){U(t,!1)}function Ve(t){if(oe(q(t)))return t}function Ge(t,e){if("change"===t)return e}var He=!1;function qe(){Be&&(Be.detachEvent("onpropertychange",ze),je=Be=null)}function ze(t){"value"===t.propertyName&&Ve(je)&&Qt(De,t=Ue(je,t,te(t)))}function Xe(t,e,n){"focus"===t?(qe(),je=n,(Be=e).attachEvent("onpropertychange",ze)):"blur"===t&&qe()}function We(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ve(je)}function Ke(t,e){if("click"===t)return Ve(e)}function $e(t,e){if("input"===t||"change"===t)return Ve(e)}i.canUseDOM&&(He=ee("input")&&(!document.documentMode||9<document.documentMode));var Ye={eventTypes:ke,_isInputEventSupported:He,extractEvents:function(t,e,n,r){var o=e?q(e):window,i=void 0,u=void 0,a=o.nodeName&&o.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===o.type?i=Ge:Zt(o)?He?i=$e:(i=We,u=Xe):(a=o.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=Ke),i&&(i=i(t,e)))return Ue(i,n,r);u&&u(t,o,e),"blur"===t&&(t=o._wrapperState)&&t.controlled&&"number"===o.type&&Pe(o,"number",o.value)}},Qe=Et.extend({view:null,detail:null}),Je={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ze(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Je[t])&&!!e[t]}function tn(){return Ze}var en=Qe.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:tn,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}}),nn=en.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),rn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},on={eventTypes:rn,extractEvents:function(t,e,n,r){var o="mouseover"===t||"pointerover"===t,i="mouseout"===t||"pointerout"===t;if(o&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=e,e=(e=n.relatedTarget||n.toElement)?H(e):null):i=null,i===e)return null;var u=void 0,a=void 0,s=void 0,c=void 0;return"mouseout"===t||"mouseover"===t?(u=en,a=rn.mouseLeave,s=rn.mouseEnter,c="mouse"):"pointerout"!==t&&"pointerover"!==t||(u=nn,a=rn.pointerLeave,s=rn.pointerEnter,c="pointer"),t=null==i?o:q(i),o=null==e?o:q(e),(a=u.getPooled(a,i,n,r)).type=c+"leave",a.target=t,a.relatedTarget=o,(n=u.getPooled(s,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=t,et(a,n,i,e),[a,n]}};function un(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!=(2&e.effectTag))return 1;for(;e.return;)if(0!=(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function an(t){2!==un(t)&&p("188")}function sn(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=un(t))&&p("188"),1===e?null:t;for(var n=t,r=e;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var u=o.child;u;){if(u===n)return an(o),t;if(u===r)return an(o),e;u=u.sibling}p("188")}if(n.return!==r.return)n=o,r=i;else{u=!1;for(var a=o.child;a;){if(a===n){u=!0,n=o,r=i;break}if(a===r){u=!0,r=o,n=i;break}a=a.sibling}if(!u){for(a=i.child;a;){if(a===n){u=!0,n=i,r=o;break}if(a===r){u=!0,r=i,n=o;break}a=a.sibling}u||p("189")}}n.alternate!==r&&p("190")}return 3!==n.tag&&p("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var cn=Et.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ln=Et.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fn=Qe.extend({relatedTarget:null});function pn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn=Qe.extend({key:function(t){if(t.key){var e=dn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=pn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?hn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:tn,charCode:function(t){return"keypress"===t.type?pn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?pn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),mn=en.extend({dataTransfer:null}),vn=Qe.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:tn}),_n=Et.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=en.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),En=[["abort","abort"],[st,"animationEnd"],[ct,"animationIteration"],[lt,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ft,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},Tn={};function An(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},bn[t]=e,Tn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){An(t,!0)}),En.forEach(function(t){An(t,!1)});var Sn={eventTypes:bn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=Tn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var o=Tn[t];if(!o)return null;switch(t){case"keypress":if(0===pn(n))return null;case"keydown":case"keyup":t=yn;break;case"blur":case"focus":t=fn;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=vn;break;case st:case ct:case lt:t=cn;break;case ft:t=_n;break;case"scroll":t=Qe;break;case"wheel":t=gn;break;case"copy":case"cut":case"paste":t=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=nn;break;default:t=Et}return tt(e=t.getPooled(o,e,n,r)),e}},Rn=Sn.isInteractiveTopLevelEventType,xn=[];function Mn(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(e),e=H(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],B(t.topLevelType,e,t.nativeEvent,te(t.nativeEvent))}var Nn=!0;function wn(t){Nn=!!t}function In(t,e){if(!e)return null;var n=(Rn(t)?On:Fn).bind(null,t);e.addEventListener(t,n,!1)}function Cn(t,e){if(!e)return null;var n=(Rn(t)?On:Fn).bind(null,t);e.addEventListener(t,n,!0)}function On(t,e){Kt(Fn,t,e)}function Fn(t,e){if(Nn){var n=te(e);if(null===(n=H(n))||"number"!=typeof n.tag||2===un(n)||(n=null),xn.length){var r=xn.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Qt(Mn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>xn.length&&xn.push(t)}}}var Pn={get _enabled(){return Nn},setEnabled:wn,isEnabled:function(){return Nn},trapBubbledEvent:In,trapCapturedEvent:Cn,dispatchEvent:Fn},Ln={},kn=0,Un="_reactListenersID"+(""+Math.random()).slice(2);function Bn(t){return Object.prototype.hasOwnProperty.call(t,Un)||(t[Un]=kn++,Ln[t[Un]]={}),Ln[t[Un]]}function jn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dn(t,e){var n,r=jn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=jn(r)}}function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Gn=i.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Hn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,zn=null,Xn=null,Wn=!1;function Kn(t,e){if(Wn||null==qn||qn!==s())return null;var n=qn;return n="selectionStart"in n&&Vn(n)?{start:n.selectionStart,end:n.selectionEnd}:window.getSelection?{anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:void 0,Xn&&c(Xn,n)?null:(Xn=n,(t=Et.getPooled(Hn.select,zn,t,e)).type="select",t.target=qn,tt(t),t)}var $n={eventTypes:Hn,extractEvents:function(t,e,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){t:{i=Bn(i),o=b.onSelect;for(var u=0;u<o.length;u++){var a=o[u];if(!i.hasOwnProperty(a)||!i[a]){i=!1;break t}}i=!0}o=!i}if(o)return null;switch(i=e?q(e):window,t){case"focus":(Zt(i)||"true"===i.contentEditable)&&(qn=i,zn=e,Xn=null);break;case"blur":Xn=zn=qn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":return Wn=!1,Kn(n,r);case"selectionchange":if(Gn)break;case"keydown":case"keyup":return Kn(n,r)}return null}};L.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),R=X.getFiberCurrentPropsFromNode,x=X.getInstanceFromNode,M=X.getNodeFromInstance,L.injectEventPluginsByName({SimpleEventPlugin:Sn,EnterLeaveEventPlugin:on,ChangeEventPlugin:Ye,SelectEventPlugin:$n,BeforeInputEventPlugin:Ut});var Yn="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,Qn=Date,Jn=setTimeout,Zn=clearTimeout,tr=void 0;if("object"==typeof performance&&"function"==typeof performance.now){var er=performance;tr=function(){return er.now()}}else tr=function(){return Qn.now()};var nr=void 0,rr=void 0;if(i.canUseDOM){var or="function"==typeof Yn?Yn:function(){p("276")},ir=null,ur=null,ar=-1,sr=!1,cr=!1,lr=0,fr=33,pr=33,dr={didTimeout:!1,timeRemaining:function(){var t=lr-tr();return 0<t?t:0}},hr=function(t,e){var n=t.scheduledCallback,r=!1;try{n(e),r=!0}finally{rr(t),r||(sr=!0,window.postMessage(yr,"*"))}},yr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===yr&&(sr=!1,null!==ir)){if(null!==ir){var e=tr();if(!(-1===ar||ar>e)){t=-1;for(var n=[],r=ir;null!==r;){var o=r.timeoutTime;-1!==o&&o<=e?n.push(r):-1!==o&&(-1===t||o<t)&&(t=o),r=r.next}if(0<n.length)for(dr.didTimeout=!0,e=0,r=n.length;e<r;e++)hr(n[e],dr);ar=t}}for(t=tr();0<lr-t&&null!==ir;)t=ir,dr.didTimeout=!1,hr(t,dr),t=tr();null===ir||cr||(cr=!0,or(mr))}},!1);var mr=function(t){cr=!1;var e=t-lr+pr;e<pr&&fr<pr?(8>e&&(e=8),pr=e<fr?fr:e):fr=e,lr=t+pr,sr||(sr=!0,window.postMessage(yr,"*"))};nr=function(t,e){var n=-1;return null!=e&&"number"==typeof e.timeout&&(n=tr()+e.timeout),(-1===ar||-1!==n&&n<ar)&&(ar=n),t={scheduledCallback:t,timeoutTime:n,prev:null,next:null},null===ir?ir=t:null!==(e=t.prev=ur)&&(e.next=t),ur=t,cr||(cr=!0,or(mr)),t},rr=function(t){if(null!==t.prev||ir===t){var e=t.next,n=t.prev;t.next=null,t.prev=null,null!==e?null!==n?(n.next=e,e.prev=n):(e.prev=null,ir=e):null!==n?(n.next=null,ur=n):ur=ir=null}}}else{var vr=new Map;nr=function(t){var e={scheduledCallback:t,timeoutTime:0,next:null,prev:null},n=Jn(function(){t({timeRemaining:function(){return 1/0},didTimeout:!1})});return vr.set(t,n),e},rr=function(t){var e=vr.get(t.scheduledCallback);vr.delete(t),Zn(e)}}function _r(t,e){return t=u({children:void 0},e),(e=function(t){var e="";return o.Children.forEach(t,function(t){null==t||"string"!=typeof t&&"number"!=typeof t||(e+=t)}),e}(e.children))&&(t.children=e),t}function gr(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+n,e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(r&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function Er(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function br(t,e){return null!=e.dangerouslySetInnerHTML&&p("91"),u({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tr(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&p("92"),Array.isArray(e)&&(1>=e.length||p("93"),e=e[0]),n=""+e),null==n&&(n="")),t._wrapperState={initialValue:""+n}}function Ar(t,e){var n=e.value;null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function Sr(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}var Rr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function xr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mr(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?xr(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Nr=void 0,wr=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==Rr.svg||"innerHTML"in t)t.innerHTML=e;else{for((Nr=Nr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=Nr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ir(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var Cr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Or=["Webkit","ms","Moz","O"];function Fr(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=n,i=e[n];o=null==i||"boolean"==typeof i||""===i?"":r||"number"!=typeof i||0===i||Cr.hasOwnProperty(o)&&Cr[o]?(""+i).trim():i+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}Object.keys(Cr).forEach(function(t){Or.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cr[e]=Cr[t]})});var Pr=u({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lr(t,e,n){e&&(Pr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&p("137",t,n()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&p("60"),"object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||p("61")),null!=e.style&&"object"!=typeof e.style&&p("62",n()))}function kr(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ur=a.thatReturns("");function Br(t,e){var n=Bn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=b[e];for(var r=0;r<e.length;r++){var o=e[r];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":Cn("scroll",t);break;case"focus":case"blur":Cn("focus",t),Cn("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ee(o,!0)&&Cn(o,t);break;case"invalid":case"submit":case"reset":break;default:-1===pt.indexOf(o)&&In(o,t)}n[o]=!0}}}function jr(t,e,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===Rr.html&&(r=xr(t)),r===Rr.html?"script"===t?((t=n.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"==typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(r,t),t}function Dr(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function Vr(t,e,n,r){var o=kr(e,n);switch(e){case"iframe":case"object":In("load",t);var i=n;break;case"video":case"audio":for(i=0;i<pt.length;i++)In(pt[i],t);i=n;break;case"source":In("error",t),i=n;break;case"img":case"image":case"link":In("error",t),In("load",t),i=n;break;case"form":In("reset",t),In("submit",t),i=n;break;case"details":In("toggle",t),i=n;break;case"input":Ie(t,n),i=we(t,n),In("invalid",t),Br(r,"onChange");break;case"option":i=_r(t,n);break;case"select":Er(t,n),i=u({},n,{value:void 0}),In("invalid",t),Br(r,"onChange");break;case"textarea":Tr(t,n),i=br(t,n),In("invalid",t),Br(r,"onChange");break;default:i=n}Lr(e,i,Ur);var s,c=i;for(s in c)if(c.hasOwnProperty(s)){var l=c[s];"style"===s?Fr(t,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&wr(t,l):"children"===s?"string"==typeof l?("textarea"!==e||""!==l)&&Ir(t,l):"number"==typeof l&&Ir(t,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=l&&Br(r,s):null!=l&&Ne(t,s,l,o))}switch(e){case"input":re(t),Fe(t,n,!1);break;case"textarea":re(t),Sr(t);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple,null!=(e=n.value)?gr(t,!!n.multiple,e,!1):null!=n.defaultValue&&gr(t,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(t.onclick=a)}}function Gr(t,e,n,r,o){var i=null;switch(e){case"input":n=we(t,n),r=we(t,r),i=[];break;case"option":n=_r(t,n),r=_r(t,r),i=[];break;case"select":n=u({},n,{value:void 0}),r=u({},r,{value:void 0}),i=[];break;case"textarea":n=br(t,n),r=br(t,r),i=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(t.onclick=a)}Lr(e,r,Ur),e=t=void 0;var s=null;for(t in n)if(!r.hasOwnProperty(t)&&n.hasOwnProperty(t)&&null!=n[t])if("style"===t){var c=n[t];for(e in c)c.hasOwnProperty(e)&&(s||(s={}),s[e]="")}else"dangerouslySetInnerHTML"!==t&&"children"!==t&&"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&"autoFocus"!==t&&(E.hasOwnProperty(t)?i||(i=[]):(i=i||[]).push(t,null));for(t in r){var l=r[t];if(c=null!=n?n[t]:void 0,r.hasOwnProperty(t)&&l!==c&&(null!=l||null!=c))if("style"===t)if(c){for(e in c)!c.hasOwnProperty(e)||l&&l.hasOwnProperty(e)||(s||(s={}),s[e]="");for(e in l)l.hasOwnProperty(e)&&c[e]!==l[e]&&(s||(s={}),s[e]=l[e])}else s||(i||(i=[]),i.push(t,s)),s=l;else"dangerouslySetInnerHTML"===t?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(i=i||[]).push(t,""+l)):"children"===t?c===l||"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(t,""+l):"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&(E.hasOwnProperty(t)?(null!=l&&Br(o,t),i||c===l||(i=[])):(i=i||[]).push(t,l))}return s&&(i=i||[]).push("style",s),i}function Hr(t,e,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&Ce(t,o),kr(n,r),r=kr(n,o);for(var i=0;i<e.length;i+=2){var u=e[i],a=e[i+1];"style"===u?Fr(t,a):"dangerouslySetInnerHTML"===u?wr(t,a):"children"===u?Ir(t,a):Ne(t,u,a,r)}switch(n){case"input":Oe(t,o);break;case"textarea":Ar(t,o);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?gr(t,!!o.multiple,n,!1):e!==!!o.multiple&&(null!=o.defaultValue?gr(t,!!o.multiple,o.defaultValue,!0):gr(t,!!o.multiple,o.multiple?[]:"",!1))}}function qr(t,e,n,r,o){switch(e){case"iframe":case"object":In("load",t);break;case"video":case"audio":for(r=0;r<pt.length;r++)In(pt[r],t);break;case"source":In("error",t);break;case"img":case"image":case"link":In("error",t),In("load",t);break;case"form":In("reset",t),In("submit",t);break;case"details":In("toggle",t);break;case"input":Ie(t,n),In("invalid",t),Br(o,"onChange");break;case"select":Er(t,n),In("invalid",t),Br(o,"onChange");break;case"textarea":Tr(t,n),In("invalid",t),Br(o,"onChange")}for(var i in Lr(e,n,Ur),r=null,n)if(n.hasOwnProperty(i)){var u=n[i];"children"===i?"string"==typeof u?t.textContent!==u&&(r=["children",u]):"number"==typeof u&&t.textContent!==""+u&&(r=["children",""+u]):E.hasOwnProperty(i)&&null!=u&&Br(o,i)}switch(e){case"input":re(t),Fe(t,n,!0);break;case"textarea":re(t),Sr(t);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(t.onclick=a)}return r}function zr(t,e){return t.nodeValue!==e}var Xr={createElement:jr,createTextNode:Dr,setInitialProperties:Vr,diffProperties:Gr,updateProperties:Hr,diffHydratedProperties:qr,diffHydratedText:zr,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":if(Oe(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=z(r);o||p("90"),oe(r),Oe(r,o)}}}break;case"textarea":Ar(t,n);break;case"select":null!=(e=n.value)&&gr(t,!!n.multiple,e,!1)}}},Wr=null,Kr=null;function $r(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Yr(t,e){return"textarea"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"==typeof e.dangerouslySetInnerHTML.__html}var Qr=tr,Jr=nr,Zr=rr;function to(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function eo(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var no=[],ro=-1;function oo(t){return{current:t}}function io(t){0>ro||(t.current=no[ro],no[ro]=null,ro--)}function uo(t,e){no[++ro]=t.current,t.current=e}var ao=oo(f),so=oo(!1),co=f;function lo(t){return po(t)?co:ao.current}function fo(t,e){var n=t.type.contextTypes;if(!n)return f;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=e[o];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function po(t){return 2===t.tag&&null!=t.type.childContextTypes}function ho(t){po(t)&&(io(so),io(ao))}function yo(t){io(so),io(ao)}function mo(t,e,n){ao.current!==f&&p("168"),uo(ao,e),uo(so,n)}function vo(t,e){var n=t.stateNode,r=t.type.childContextTypes;if("function"!=typeof n.getChildContext)return e;for(var o in n=n.getChildContext())o in r||p("108",ge(t)||"Unknown",o);return u({},e,n)}function _o(t){if(!po(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||f,co=ao.current,uo(ao,e),uo(so,so.current),!0}function go(t,e){var n=t.stateNode;if(n||p("169"),e){var r=vo(t,co);n.__reactInternalMemoizedMergedChildContext=r,io(so),io(ao),uo(ao,r)}else io(so);uo(so,e)}function Eo(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=e,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function bo(t,e,n){var r=t.alternate;return null===r?((r=new Eo(t.tag,e,t.key,t.mode)).type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function To(t,e,n){var r=t.type,o=t.key;if(t=t.props,"function"==typeof r)var i=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"==typeof r)i=5;else switch(r){case ce:return Ao(t.children,e,n,o);case he:i=11,e|=3;break;case le:i=11,e|=2;break;case fe:return(r=new Eo(15,t,o,4|e)).type=fe,r.expirationTime=n,r;case me:i=16,e|=2;break;default:t:{switch("object"==typeof r&&null!==r?r.$$typeof:null){case pe:i=13;break t;case de:i=12;break t;case ye:i=14;break t;default:p("130",null==r?r:typeof r,"")}i=void 0}}return(e=new Eo(i,t,o,e)).type=r,e.expirationTime=n,e}function Ao(t,e,n,r){return(t=new Eo(10,t,r,e)).expirationTime=n,t}function So(t,e,n){return(t=new Eo(6,t,null,e)).expirationTime=n,t}function Ro(t,e,n){return(e=new Eo(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var xo=null,Mo=null;function No(t){return function(e){try{return t(e)}catch(t){}}}var wo=!1;function Io(t){return{expirationTime:0,baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Co(t){return{expirationTime:t.expirationTime,baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Oo(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Fo(t,e,n){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e),(0===t.expirationTime||t.expirationTime>n)&&(t.expirationTime=n)}function Po(t,e,n){var r=t.alternate;if(null===r){var o=t.updateQueue,i=null;null===o&&(o=t.updateQueue=Io(t.memoizedState))}else o=t.updateQueue,i=r.updateQueue,null===o?null===i?(o=t.updateQueue=Io(t.memoizedState),i=r.updateQueue=Io(r.memoizedState)):o=t.updateQueue=Co(i):null===i&&(i=r.updateQueue=Co(o));null===i||o===i?Fo(o,e,n):null===o.lastUpdate||null===i.lastUpdate?(Fo(o,e,n),Fo(i,e,n)):(Fo(o,e,n),i.lastUpdate=e)}function Lo(t,e,n){var r=t.updateQueue;null===(r=null===r?t.updateQueue=Io(t.memoizedState):ko(t,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=e:(r.lastCapturedUpdate.next=e,r.lastCapturedUpdate=e),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function ko(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=Co(e)),e}function Uo(t,e,n,r,o,i){switch(n.tag){case 1:return"function"==typeof(t=n.payload)?t.call(i,r,o):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(null===(o="function"==typeof(t=n.payload)?t.call(i,r,o):t)||void 0===o)break;return u({},r,o);case 2:wo=!0}return r}function Bo(t,e,n,r,o){if(wo=!1,!(0===e.expirationTime||e.expirationTime>o)){for(var i=(e=ko(t,e)).baseState,u=null,a=0,s=e.firstUpdate,c=i;null!==s;){var l=s.expirationTime;l>o?(null===u&&(u=s,i=c),(0===a||a>l)&&(a=l)):(c=Uo(t,0,s,c,n,r),null!==s.callback&&(t.effectTag|=32,s.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=s:(e.lastEffect.nextEffect=s,e.lastEffect=s))),s=s.next}for(l=null,s=e.firstCapturedUpdate;null!==s;){var f=s.expirationTime;f>o?(null===l&&(l=s,null===u&&(i=c)),(0===a||a>f)&&(a=f)):(c=Uo(t,0,s,c,n,r),null!==s.callback&&(t.effectTag|=32,s.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=s:(e.lastCapturedEffect.nextEffect=s,e.lastCapturedEffect=s))),s=s.next}null===u&&(e.lastUpdate=null),null===l?e.lastCapturedUpdate=null:t.effectTag|=32,null===u&&null===l&&(i=c),e.baseState=i,e.firstUpdate=u,e.firstCapturedUpdate=l,e.expirationTime=a,t.memoizedState=c}}function jo(t,e){"function"!=typeof t&&p("191",t),t.call(e)}function Do(t,e,n){for(null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),t=e.firstEffect,e.firstEffect=e.lastEffect=null;null!==t;){var r=t.callback;null!==r&&(t.callback=null,jo(r,n)),t=t.nextEffect}for(t=e.firstCapturedEffect,e.firstCapturedEffect=e.lastCapturedEffect=null;null!==t;)null!==(e=t.callback)&&(t.callback=null,jo(e,n)),t=t.nextEffect}function Vo(t,e){return{value:t,source:e,stack:Ee(e)}}var Go=oo(null),Ho=oo(null),qo=oo(0);function zo(t){var e=t.type._context;uo(qo,e._changedBits),uo(Ho,e._currentValue),uo(Go,t),e._currentValue=t.pendingProps.value,e._changedBits=t.stateNode}function Xo(t){var e=qo.current,n=Ho.current;io(Go),io(Ho),io(qo),(t=t.type._context)._currentValue=n,t._changedBits=e}var Wo={},Ko=oo(Wo),$o=oo(Wo),Yo=oo(Wo);function Qo(t){return t===Wo&&p("174"),t}function Jo(t,e){uo(Yo,e),uo($o,t),uo(Ko,Wo);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mr(null,"");break;default:e=Mr(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}io(Ko),uo(Ko,e)}function Zo(t){io(Ko),io($o),io(Yo)}function ti(t){$o.current===t&&(io(Ko),io($o))}function ei(t,e,n){var r=t.memoizedState;r=null===(e=e(n,r))||void 0===e?r:u({},r,e),t.memoizedState=r,null!==(t=t.updateQueue)&&0===t.expirationTime&&(t.baseState=r)}var ni={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===un(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=pu(),o=Oo(r=lu(r,t));o.payload=e,void 0!==n&&null!==n&&(o.callback=n),Po(t,o,r),fu(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=pu(),o=Oo(r=lu(r,t));o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),Po(t,o,r),fu(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=pu(),r=Oo(n=lu(n,t));r.tag=2,void 0!==e&&null!==e&&(r.callback=e),Po(t,r,n),fu(t,n)}};function ri(t,e,n,r,o,i){var u=t.stateNode;return t=t.type,"function"==typeof u.shouldComponentUpdate?u.shouldComponentUpdate(n,o,i):!(t.prototype&&t.prototype.isPureReactComponent&&c(e,n)&&c(r,o))}function oi(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ni.enqueueReplaceState(e,e.state,null)}function ii(t,e){var n=t.type,r=t.stateNode,o=t.pendingProps,i=lo(t);r.props=o,r.state=t.memoizedState,r.refs=f,r.context=fo(t,i),null!==(i=t.updateQueue)&&(Bo(t,i,o,r,e),r.state=t.memoizedState),"function"==typeof(i=t.type.getDerivedStateFromProps)&&(ei(t,i,o),r.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&ni.enqueueReplaceState(r,r.state,null),null!==(i=t.updateQueue)&&(Bo(t,i,o,r,e),r.state=t.memoizedState)),"function"==typeof r.componentDidMount&&(t.effectTag|=4)}var ui=Array.isArray;function ai(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&p("110"),r=n.stateNode),r||p("147",t);var o=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=r.refs===f?r.refs={}:r.refs;null===t?delete e[o]:e[o]=t})._stringRef=o,e)}"string"!=typeof t&&p("148"),n._owner||p("254",t)}return t}function si(t,e){"textarea"!==t.type&&p("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function ci(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return(t=bo(t,e,n)).index=0,t.sibling=null,t}function i(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function u(e){return t&&null===e.alternate&&(e.effectTag=2),e}function a(t,e,n,r){return null===e||6!==e.tag?((e=So(n,t.mode,r)).return=t,e):((e=o(e,n,r)).return=t,e)}function s(t,e,n,r){return null!==e&&e.type===n.type?((r=o(e,n.props,r)).ref=ai(t,e,n),r.return=t,r):((r=To(n,t.mode,r)).ref=ai(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ro(n,t.mode,r)).return=t,e):((e=o(e,n.children||[],r)).return=t,e)}function l(t,e,n,r,i){return null===e||10!==e.tag?((e=Ao(n,t.mode,r,i)).return=t,e):((e=o(e,n,r)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=So(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case ae:return(n=To(e,t.mode,n)).ref=ai(t,null,e),n.return=t,n;case se:return(e=Ro(e,t.mode,n)).return=t,e}if(ui(e)||_e(e))return(e=Ao(e,t.mode,n,null)).return=t,e;si(t,e)}return null}function d(t,e,n,r){var o=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:a(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ae:return n.key===o?n.type===ce?l(t,e,n.props.children,r,o):s(t,e,n,r):null;case se:return n.key===o?c(t,e,n,r):null}if(ui(n)||_e(n))return null!==o?null:l(t,e,n,r,null);si(t,n)}return null}function h(t,e,n,r,o){if("string"==typeof r||"number"==typeof r)return a(e,t=t.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ae:return t=t.get(null===r.key?n:r.key)||null,r.type===ce?l(e,t,r.props.children,o,r.key):s(e,t,r,o);case se:return c(e,t=t.get(null===r.key?n:r.key)||null,r,o)}if(ui(r)||_e(r))return l(e,t=t.get(n)||null,r,o,null);si(e,r)}return null}function y(o,u,a,s){for(var c=null,l=null,p=u,y=u=0,m=null;null!==p&&y<a.length;y++){p.index>y?(m=p,p=null):m=p.sibling;var v=d(o,p,a[y],s);if(null===v){null===p&&(p=m);break}t&&p&&null===v.alternate&&e(o,p),u=i(v,u,y),null===l?c=v:l.sibling=v,l=v,p=m}if(y===a.length)return n(o,p),c;if(null===p){for(;y<a.length;y++)(p=f(o,a[y],s))&&(u=i(p,u,y),null===l?c=p:l.sibling=p,l=p);return c}for(p=r(o,p);y<a.length;y++)(m=h(p,o,y,a[y],s))&&(t&&null!==m.alternate&&p.delete(null===m.key?y:m.key),u=i(m,u,y),null===l?c=m:l.sibling=m,l=m);return t&&p.forEach(function(t){return e(o,t)}),c}function m(o,u,a,s){var c=_e(a);"function"!=typeof c&&p("150"),null==(a=c.call(a))&&p("151");for(var l=c=null,y=u,m=u=0,v=null,_=a.next();null!==y&&!_.done;m++,_=a.next()){y.index>m?(v=y,y=null):v=y.sibling;var g=d(o,y,_.value,s);if(null===g){y||(y=v);break}t&&y&&null===g.alternate&&e(o,y),u=i(g,u,m),null===l?c=g:l.sibling=g,l=g,y=v}if(_.done)return n(o,y),c;if(null===y){for(;!_.done;m++,_=a.next())null!==(_=f(o,_.value,s))&&(u=i(_,u,m),null===l?c=_:l.sibling=_,l=_);return c}for(y=r(o,y);!_.done;m++,_=a.next())null!==(_=h(y,o,m,_.value,s))&&(t&&null!==_.alternate&&y.delete(null===_.key?m:_.key),u=i(_,u,m),null===l?c=_:l.sibling=_,l=_);return t&&y.forEach(function(t){return e(o,t)}),c}return function(t,r,i,a){var s="object"==typeof i&&null!==i&&i.type===ce&&null===i.key;s&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case ae:t:{for(c=i.key,s=r;null!==s;){if(s.key===c){if(10===s.tag?i.type===ce:s.type===i.type){n(t,s.sibling),(r=o(s,i.type===ce?i.props.children:i.props,a)).ref=ai(t,s,i),r.return=t,t=r;break t}n(t,s);break}e(t,s),s=s.sibling}i.type===ce?((r=Ao(i.props.children,t.mode,a,i.key)).return=t,t=r):((a=To(i,t.mode,a)).ref=ai(t,r,i),a.return=t,t=a)}return u(t);case se:t:{for(s=i.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(t,r.sibling),(r=o(r,i.children||[],a)).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Ro(i,t.mode,a)).return=t,t=r}return u(t)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(t,r.sibling),(r=o(r,i,a)).return=t,t=r):(n(t,r),(r=So(i,t.mode,a)).return=t,t=r),u(t);if(ui(i))return y(t,r,i,a);if(_e(i))return m(t,r,i,a);if(c&&si(t,i),void 0===i&&!s)switch(t.tag){case 2:case 1:p("152",(a=t.type).displayName||a.name||"Component")}return n(t,r)}}var li=ci(!0),fi=ci(!1),pi=null,di=null,hi=!1;function yi(t,e){var n=new Eo(5,null,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function mi(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function vi(t){if(hi){var e=di;if(e){var n=e;if(!mi(t,e)){if(!(e=to(n))||!mi(t,e))return t.effectTag|=2,hi=!1,void(pi=t);yi(pi,n)}pi=t,di=eo(e)}else t.effectTag|=2,hi=!1,pi=t}}function _i(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;pi=t}function gi(t){if(t!==pi)return!1;if(!hi)return _i(t),hi=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Yr(e,t.memoizedProps))for(e=di;e;)yi(t,e),e=to(e);return _i(t),di=pi?to(t.stateNode):null,!0}function Ei(){di=pi=null,hi=!1}function bi(t,e,n){Ti(t,e,n,e.expirationTime)}function Ti(t,e,n,r){e.child=null===t?fi(e,null,n,r):li(e,t.child,n,r)}function Ai(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Si(t,e,n,r,o){Ai(t,e);var i=0!=(64&e.effectTag);if(!n&&!i)return r&&go(e,!1),Mi(t,e);n=e.stateNode,ie.current=e;var u=i?null:n.render();return e.effectTag|=1,i&&(Ti(t,e,null,o),e.child=null),Ti(t,e,u,o),e.memoizedState=n.state,e.memoizedProps=n.props,r&&go(e,!0),e.child}function Ri(t){var e=t.stateNode;e.pendingContext?mo(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mo(0,e.context,!1),Jo(t,e.containerInfo)}function xi(t,e,n,r){var o=t.child;for(null!==o&&(o.return=t);null!==o;){switch(o.tag){case 12:var i=0|o.stateNode;if(o.type===e&&0!=(i&n)){for(i=o;null!==i;){var u=i.alternate;if(0===i.expirationTime||i.expirationTime>r)i.expirationTime=r,null!==u&&(0===u.expirationTime||u.expirationTime>r)&&(u.expirationTime=r);else{if(null===u||!(0===u.expirationTime||u.expirationTime>r))break;u.expirationTime=r}i=i.return}i=null}else i=o.child;break;case 13:i=o.type===t.type?null:o.child;break;default:i=o.child}if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}}function Mi(t,e){if(null!==t&&e.child!==t.child&&p("153"),null!==e.child){var n=bo(t=e.child,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=bo(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function Ni(t){t.effectTag|=4}var wi=void 0,Ii=void 0,Ci=void 0;function Oi(t,e){var n=e.pendingProps;switch(e.tag){case 1:return null;case 2:return ho(e),null;case 3:Zo(),yo();var r=e.stateNode;return r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(gi(e),e.effectTag&=-3),wi(e),null;case 5:ti(e),r=Qo(Yo.current);var o=e.type;if(null!==t&&null!=e.stateNode){var i=t.memoizedProps,u=e.stateNode,a=Qo(Ko.current);u=Gr(u,o,i,n,r),Ii(t,e,u,o,i,n,r,a),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!n)return null===e.stateNode&&p("166"),null;if(t=Qo(Ko.current),gi(e))n=e.stateNode,o=e.type,i=e.memoizedProps,n[V]=e,n[G]=i,r=qr(n,o,i,t,r),e.updateQueue=r,null!==r&&Ni(e);else{(t=jr(o,n,r,t))[V]=e,t[G]=n;t:for(i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}Vr(t,o,n,r),$r(o,n)&&Ni(e),e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ci(t,e,t.memoizedProps,n);else{if("string"!=typeof n)return null===e.stateNode&&p("166"),null;r=Qo(Yo.current),Qo(Ko.current),gi(e)?(r=e.stateNode,n=e.memoizedProps,r[V]=e,zr(r,n)&&Ni(e)):((r=Dr(n,r))[V]=e,e.stateNode=r)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return Zo(),wi(e),null;case 13:return Xo(e),null;case 12:return null;case 0:p("167");default:p("156")}}function Fi(t,e){var n=e.source;null===e.stack&&null!==n&&Ee(n),null!==n&&ge(n),e=e.value,null!==t&&2===t.tag&&ge(t);try{e&&e.suppressReactErrorLogging||console.error(e)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}}function Pi(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){cu(t,e)}else e.current=null}function Li(t){switch(function(t){"function"==typeof Mo&&Mo(t)}(t),t.tag){case 2:Pi(t);var e=t.stateNode;if("function"==typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){cu(t,e)}break;case 5:Pi(t);break;case 4:Bi(t)}}function ki(t){return 5===t.tag||3===t.tag||4===t.tag}function Ui(t){t:{for(var e=t.return;null!==e;){if(ki(e)){var n=e;break t}e=e.return}p("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:p("161")}16&n.effectTag&&(Ir(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ki(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)if(n)if(r){var i=e,u=o.stateNode,a=n;8===i.nodeType?i.parentNode.insertBefore(u,a):i.insertBefore(u,a)}else e.insertBefore(o.stateNode,n);else r?(i=e,u=o.stateNode,8===i.nodeType?i.parentNode.insertBefore(u,i):i.appendChild(u)):e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Bi(t){for(var e=t,n=!1,r=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&p("160"),n.tag){case 5:r=n.stateNode,o=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var i=e,u=i;;)if(Li(u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===i)break;for(;null===u.sibling;){if(null===u.return||u.return===i)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(i=r,u=e.stateNode,8===i.nodeType?i.parentNode.removeChild(u):i.removeChild(u)):r.removeChild(e.stateNode)}else if(4===e.tag?r=e.stateNode.containerInfo:Li(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function ji(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var o=e.type,i=e.updateQueue;e.updateQueue=null,null!==i&&(n[G]=r,Hr(n,i,o,t,r))}break;case 6:null===e.stateNode&&p("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 15:case 16:break;default:p("163")}}function Di(t,e,n){(n=Oo(n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hu(r),Fi(t,e)},n}function Vi(t,e,n){(n=Oo(n)).tag=3;var r=t.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){null===ou?ou=new Set([this]):ou.add(this);var n=e.value,r=e.stack;Fi(t,e),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Gi(t,e,n,r,o,i){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=Vo(r,n),t=e;do{switch(t.tag){case 3:return t.effectTag|=1024,void Lo(t,r=Di(t,r,i),i);case 2:if(e=r,n=t.stateNode,0==(64&t.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&(null===ou||!ou.has(n)))return t.effectTag|=1024,void Lo(t,r=Vi(t,e,i),i)}t=t.return}while(null!==t)}function Hi(t){switch(t.tag){case 2:ho(t);var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return Zo(),yo(),1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 5:return ti(t),null;case 16:return 1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 4:return Zo(),null;case 13:return Xo(t),null;default:return null}}wi=function(){},Ii=function(t,e,n){(e.updateQueue=n)&&Ni(e)},Ci=function(t,e,n,r){n!==r&&Ni(e)};var qi=Qr(),zi=2,Xi=qi,Wi=0,Ki=0,$i=!1,Yi=null,Qi=null,Ji=0,Zi=-1,tu=!1,eu=null,nu=!1,ru=!1,ou=null;function iu(){if(null!==Yi)for(var t=Yi.return;null!==t;){var e=t;switch(e.tag){case 2:ho(e);break;case 3:Zo(),yo();break;case 5:ti(e);break;case 4:Zo();break;case 13:Xo(e)}t=t.return}Qi=null,Ji=0,Zi=-1,tu=!1,Yi=null,ru=!1}function uu(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0==(512&t.effectTag)){e=Oi(e,t);var o=t;if(1073741823===Ji||1073741823!==o.expirationTime){var i=0;switch(o.tag){case 3:case 2:var u=o.updateQueue;null!==u&&(i=u.expirationTime)}for(u=o.child;null!==u;)0!==u.expirationTime&&(0===i||i>u.expirationTime)&&(i=u.expirationTime),u=u.sibling;o.expirationTime=i}if(null!==e)return e;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==r)return r;if(null===n){ru=!0;break}t=n}else{if(null!==(t=Hi(t)))return t.effectTag&=511,t;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;t=n}}return null}function au(t){var e=function(t,e,n){if(0===e.expirationTime||e.expirationTime>n){switch(e.tag){case 3:Ri(e);break;case 2:_o(e);break;case 4:Jo(e,e.stateNode.containerInfo);break;case 13:zo(e)}return null}switch(e.tag){case 0:null!==t&&p("155");var r=e.type,o=e.pendingProps,i=lo(e);return r=r(o,i=fo(e,i)),e.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(i=e.type,e.tag=2,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof(i=i.getDerivedStateFromProps)&&ei(e,i,o),o=_o(e),r.updater=ni,e.stateNode=r,r._reactInternalFiber=e,ii(e,n),t=Si(t,e,!0,o,n)):(e.tag=1,bi(t,e,r),e.memoizedProps=o,t=e.child),t;case 1:return o=e.type,n=e.pendingProps,so.current||e.memoizedProps!==n?(o=o(n,r=fo(e,r=lo(e))),e.effectTag|=1,bi(t,e,o),e.memoizedProps=n,t=e.child):t=Mi(t,e),t;case 2:if(o=_o(e),null===t)if(null===e.stateNode){var u=e.pendingProps,a=e.type;r=lo(e);var s=2===e.tag&&null!=e.type.contextTypes;u=new a(u,i=s?fo(e,r):f),e.memoizedState=null!==u.state&&void 0!==u.state?u.state:null,u.updater=ni,e.stateNode=u,u._reactInternalFiber=e,s&&((s=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,s.__reactInternalMemoizedMaskedChildContext=i),ii(e,n),r=!0}else{a=e.type,r=e.stateNode,s=e.memoizedProps,i=e.pendingProps,r.props=s;var c=r.context;u=fo(e,u=lo(e));var l=a.getDerivedStateFromProps;(a="function"==typeof l||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(s!==i||c!==u)&&oi(e,r,i,u),wo=!1;var d=e.memoizedState;c=r.state=d;var h=e.updateQueue;null!==h&&(Bo(e,h,i,r,n),c=e.memoizedState),s!==i||d!==c||so.current||wo?("function"==typeof l&&(ei(e,l,i),c=e.memoizedState),(s=wo||ri(e,s,i,d,c,u))?(a||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(e.effectTag|=4)):("function"==typeof r.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=c),r.props=i,r.state=c,r.context=u,r=s):("function"==typeof r.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.type,r=e.stateNode,i=e.memoizedProps,s=e.pendingProps,r.props=i,c=r.context,u=fo(e,u=lo(e)),(a="function"==typeof(l=a.getDerivedStateFromProps)||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(i!==s||c!==u)&&oi(e,r,s,u),wo=!1,c=e.memoizedState,d=r.state=c,null!==(h=e.updateQueue)&&(Bo(e,h,s,r,n),d=e.memoizedState),i!==s||c!==d||so.current||wo?("function"==typeof l&&(ei(e,l,s),d=e.memoizedState),(l=wo||ri(e,i,s,c,d,u))?(a||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(s,d,u),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(s,d,u)),"function"==typeof r.componentDidUpdate&&(e.effectTag|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof r.componentDidUpdate||i===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||i===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=s,e.memoizedState=d),r.props=s,r.state=d,r.context=u,r=l):("function"!=typeof r.componentDidUpdate||i===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||i===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),r=!1);return Si(t,e,r,o,n);case 3:return Ri(e),null!==(o=e.updateQueue)?(r=null!==(r=e.memoizedState)?r.element:null,Bo(e,o,e.pendingProps,null,n),(o=e.memoizedState.element)===r?(Ei(),t=Mi(t,e)):(r=e.stateNode,(r=(null===t||null===t.child)&&r.hydrate)&&(di=eo(e.stateNode.containerInfo),pi=e,r=hi=!0),r?(e.effectTag|=2,e.child=fi(e,null,o,n)):(Ei(),bi(t,e,o)),t=e.child)):(Ei(),t=Mi(t,e)),t;case 5:return Qo(Yo.current),(o=Qo(Ko.current))!==(r=Mr(o,e.type))&&(uo($o,e),uo(Ko,r)),null===t&&vi(e),o=e.type,s=e.memoizedProps,r=e.pendingProps,i=null!==t?t.memoizedProps:null,so.current||s!==r||((s=1&e.mode&&!!r.hidden)&&(e.expirationTime=1073741823),s&&1073741823===n)?(s=r.children,Yr(o,r)?s=null:i&&Yr(o,i)&&(e.effectTag|=16),Ai(t,e),1073741823!==n&&1&e.mode&&r.hidden?(e.expirationTime=1073741823,e.memoizedProps=r,t=null):(bi(t,e,s),e.memoizedProps=r,t=e.child)):t=Mi(t,e),t;case 6:return null===t&&vi(e),e.memoizedProps=e.pendingProps,null;case 16:return null;case 4:return Jo(e,e.stateNode.containerInfo),o=e.pendingProps,so.current||e.memoizedProps!==o?(null===t?e.child=li(e,null,o,n):bi(t,e,o),e.memoizedProps=o,t=e.child):t=Mi(t,e),t;case 14:return o=e.type.render,n=e.pendingProps,r=e.ref,so.current||e.memoizedProps!==n||r!==(null!==t?t.ref:null)?(bi(t,e,o=o(n,r)),e.memoizedProps=n,t=e.child):t=Mi(t,e),t;case 10:return n=e.pendingProps,so.current||e.memoizedProps!==n?(bi(t,e,n),e.memoizedProps=n,t=e.child):t=Mi(t,e),t;case 11:return n=e.pendingProps.children,so.current||null!==n&&e.memoizedProps!==n?(bi(t,e,n),e.memoizedProps=n,t=e.child):t=Mi(t,e),t;case 15:return n=e.pendingProps,e.memoizedProps===n?t=Mi(t,e):(bi(t,e,n.children),e.memoizedProps=n,t=e.child),t;case 13:return function(t,e,n){var r=e.type._context,o=e.pendingProps,i=e.memoizedProps,u=!0;if(so.current)u=!1;else if(i===o)return e.stateNode=0,zo(e),Mi(t,e);var a=o.value;if(e.memoizedProps=o,null===i)a=1073741823;else if(i.value===o.value){if(i.children===o.children&&u)return e.stateNode=0,zo(e),Mi(t,e);a=0}else{var s=i.value;if(s===a&&(0!==s||1/s==1/a)||s!=s&&a!=a){if(i.children===o.children&&u)return e.stateNode=0,zo(e),Mi(t,e);a=0}else if(a="function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823,0==(a|=0)){if(i.children===o.children&&u)return e.stateNode=0,zo(e),Mi(t,e)}else xi(e,r,a,n)}return e.stateNode=a,zo(e),bi(t,e,o.children),e.child}(t,e,n);case 12:t:if(r=e.type,i=e.pendingProps,s=e.memoizedProps,o=r._currentValue,u=r._changedBits,so.current||0!==u||s!==i){if(e.memoizedProps=i,void 0!==(a=i.unstable_observedBits)&&null!==a||(a=1073741823),e.stateNode=a,0!=(u&a))xi(e,r,u,n);else if(s===i){t=Mi(t,e);break t}n=(n=i.children)(o),e.effectTag|=1,bi(t,e,n),t=e.child}else t=Mi(t,e);return t;default:p("156")}}(t.alternate,t,Ji);return null===e&&(e=uu(t)),ie.current=null,e}function su(t,e,n){$i&&p("243"),$i=!0,e===Ji&&t===Qi&&null!==Yi||(iu(),Ji=e,Zi=-1,Yi=bo((Qi=t).current,null,Ji),t.pendingCommitExpirationTime=0);var r=!1;for(tu=!n||Ji<=zi;;){try{if(n)for(;null!==Yi&&!Gu();)Yi=au(Yi);else for(;null!==Yi;)Yi=au(Yi)}catch(e){if(null===Yi)r=!0,Hu(e);else{null===Yi&&p("271");var o=(n=Yi).return;if(null===o){r=!0,Hu(e);break}Gi(t,o,n,e,0,Ji),Yi=uu(n)}}break}if($i=!1,r)return null;if(null===Yi){if(ru)return t.pendingCommitExpirationTime=e,t.current.alternate;tu&&p("262"),0<=Zi&&setTimeout(function(){var e=t.current.expirationTime;0!==e&&(0===t.remainingExpirationTime||t.remainingExpirationTime<e)&&Pu(t,e)},Zi),function(t){null===gu&&p("246"),gu.remainingExpirationTime=t}(t.current.expirationTime)}return null}function cu(t,e){var n;t:{for($i&&!nu&&p("263"),n=t.return;null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof r.componentDidCatch&&(null===ou||!ou.has(r))){Po(n,t=Vi(n,t=Vo(e,t),1),1),fu(n,1),n=void 0;break t}break;case 3:Po(n,t=Di(n,t=Vo(e,t),1),1),fu(n,1),n=void 0;break t}n=n.return}3===t.tag&&(Po(t,n=Di(t,n=Vo(e,t),1),1),fu(t,1)),n=void 0}return n}function lu(t,e){return t=0!==Ki?Ki:$i?nu?1:Ji:1&e.mode?Nu?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)):1,Nu&&(0===bu||t>bu)&&(bu=t),t}function fu(t,e){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e),null===t.return){if(3!==t.tag)break;var n=t.stateNode;!$i&&0!==Ji&&e<Ji&&iu();var r=n.current.expirationTime;$i&&!nu&&Qi===n||Pu(n,r),Cu>Iu&&p("185")}t=t.return}}function pu(){return Xi=Qr()-qi,zi=2+(Xi/10|0)}function du(t,e,n,r,o){var i=Ki;Ki=1;try{return t(e,n,r,o)}finally{Ki=i}}var hu=null,yu=null,mu=0,vu=void 0,_u=!1,gu=null,Eu=0,bu=0,Tu=!1,Au=!1,Su=null,Ru=null,xu=!1,Mu=!1,Nu=!1,wu=null,Iu=1e3,Cu=0,Ou=1;function Fu(t){if(0!==mu){if(t>mu)return;null!==vu&&Zr(vu)}var e=Qr()-qi;mu=t,vu=Jr(ku,{timeout:10*(t-2)-e})}function Pu(t,e){if(null===t.nextScheduledRoot)t.remainingExpirationTime=e,null===yu?(hu=yu=t,t.nextScheduledRoot=t):(yu=yu.nextScheduledRoot=t).nextScheduledRoot=hu;else{var n=t.remainingExpirationTime;(0===n||e<n)&&(t.remainingExpirationTime=e)}_u||(xu?Mu&&(gu=t,Eu=1,Du(t,1,!1)):1===e?Uu():Fu(e))}function Lu(){var t=0,e=null;if(null!==yu)for(var n=yu,r=hu;null!==r;){var o=r.remainingExpirationTime;if(0===o){if((null===n||null===yu)&&p("244"),r===r.nextScheduledRoot){hu=yu=r.nextScheduledRoot=null;break}if(r===hu)hu=o=r.nextScheduledRoot,yu.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===yu){(yu=n).nextScheduledRoot=hu,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===t||o<t)&&(t=o,e=r),r===yu)break;n=r,r=r.nextScheduledRoot}}null!==(n=gu)&&n===e&&1===t?Cu++:Cu=0,gu=e,Eu=t}function ku(t){Bu(0,!0,t)}function Uu(){Bu(1,!1,null)}function Bu(t,e,n){if(Ru=n,Lu(),e)for(;null!==gu&&0!==Eu&&(0===t||t>=Eu)&&(!Tu||pu()>=Eu);)pu(),Du(gu,Eu,!Tu),Lu();else for(;null!==gu&&0!==Eu&&(0===t||t>=Eu);)Du(gu,Eu,!1),Lu();null!==Ru&&(mu=0,vu=null),0!==Eu&&Fu(Eu),Ru=null,Tu=!1,ju()}function ju(){if(Cu=0,null!==wu){var t=wu;wu=null;for(var e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){Au||(Au=!0,Su=t)}}}if(Au)throw t=Su,Su=null,Au=!1,t}function Du(t,e,n){_u&&p("245"),_u=!0,n?null!==(n=t.finishedWork)?Vu(t,n,e):null!==(n=su(t,e,!0))&&(Gu()?t.finishedWork=n:Vu(t,n,e)):null!==(n=t.finishedWork)?Vu(t,n,e):null!==(n=su(t,e,!1))&&Vu(t,n,e),_u=!1}function Vu(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===wu?wu=[r]:wu.push(r),r._defer))return t.finishedWork=e,void(t.remainingExpirationTime=0);if(t.finishedWork=null,nu=$i=!0,(n=e.stateNode).current===e&&p("177"),0===(r=n.pendingCommitExpirationTime)&&p("261"),n.pendingCommitExpirationTime=0,pu(),ie.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var o=e.firstEffect}else o=e;else o=e.firstEffect;Wr=Nn;var i=s();if(Vn(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{var a=window.getSelection&&window.getSelection();if(a&&0!==a.rangeCount){u=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{u.nodeType,f.nodeType}catch(t){u=null;break t}var d=0,h=-1,y=-1,m=0,v=0,_=i,g=null;e:for(;;){for(var E;_!==u||0!==c&&3!==_.nodeType||(h=d+c),_!==f||0!==a&&3!==_.nodeType||(y=d+a),3===_.nodeType&&(d+=_.nodeValue.length),null!==(E=_.firstChild);)g=_,_=E;for(;;){if(_===i)break e;if(g===u&&++m===c&&(h=d),g===f&&++v===a&&(y=d),null!==(E=_.nextSibling))break;g=(_=g).parentNode}_=E}u=-1===h||-1===y?null:{start:h,end:y}}else u=null}u=u||{start:0,end:0}}else u=null;for(Kr={focusedElem:i,selectionRange:u},wn(!1),eu=o;null!==eu;){i=!1,u=void 0;try{for(;null!==eu;){if(256&eu.effectTag){var b=eu.alternate;switch((c=eu).tag){case 2:if(256&c.effectTag&&null!==b){var T=b.memoizedProps,A=b.memoizedState,S=c.stateNode;S.props=c.memoizedProps,S.state=c.memoizedState;var R=S.getSnapshotBeforeUpdate(T,A);S.__reactInternalSnapshotBeforeUpdate=R}break;case 3:case 5:case 6:case 4:break;default:p("163")}}eu=eu.nextEffect}}catch(t){i=!0,u=t}i&&(null===eu&&p("178"),cu(eu,u),null!==eu&&(eu=eu.nextEffect))}for(eu=o;null!==eu;){b=!1,T=void 0;try{for(;null!==eu;){var x=eu.effectTag;if(16&x&&Ir(eu.stateNode,""),128&x){var M=eu.alternate;if(null!==M){var N=M.ref;null!==N&&("function"==typeof N?N(null):N.current=null)}}switch(14&x){case 2:Ui(eu),eu.effectTag&=-3;break;case 6:Ui(eu),eu.effectTag&=-3,ji(eu.alternate,eu);break;case 4:ji(eu.alternate,eu);break;case 8:Bi(A=eu),A.return=null,A.child=null,A.alternate&&(A.alternate.child=null,A.alternate.return=null)}eu=eu.nextEffect}}catch(t){b=!0,T=t}b&&(null===eu&&p("178"),cu(eu,T),null!==eu&&(eu=eu.nextEffect))}if(N=Kr,M=s(),x=N.focusedElem,b=N.selectionRange,M!==x&&l(document.documentElement,x)){null!==b&&Vn(x)&&(M=b.start,void 0===(N=b.end)&&(N=M),"selectionStart"in x?(x.selectionStart=M,x.selectionEnd=Math.min(N,x.value.length)):window.getSelection&&(M=window.getSelection(),T=x[ht()].length,N=Math.min(b.start,T),b=void 0===b.end?N:Math.min(b.end,T),!M.extend&&N>b&&(T=b,b=N,N=T),T=Dn(x,N),A=Dn(x,b),T&&A&&(1!==M.rangeCount||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==A.node||M.focusOffset!==A.offset)&&((S=document.createRange()).setStart(T.node,T.offset),M.removeAllRanges(),N>b?(M.addRange(S),M.extend(A.node,A.offset)):(S.setEnd(A.node,A.offset),M.addRange(S))))),M=[];for(N=x;N=N.parentNode;)1===N.nodeType&&M.push({element:N,left:N.scrollLeft,top:N.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<M.length;x++)(N=M[x]).element.scrollLeft=N.left,N.element.scrollTop=N.top}for(Kr=null,wn(Wr),Wr=null,n.current=e,eu=o;null!==eu;){o=!1,x=void 0;try{for(M=r;null!==eu;){var w=eu.effectTag;if(36&w){var I=eu.alternate;switch(b=M,(N=eu).tag){case 2:var C=N.stateNode;if(4&N.effectTag)if(null===I)C.props=N.memoizedProps,C.state=N.memoizedState,C.componentDidMount();else{var O=I.memoizedProps,F=I.memoizedState;C.props=N.memoizedProps,C.state=N.memoizedState,C.componentDidUpdate(O,F,C.__reactInternalSnapshotBeforeUpdate)}var P=N.updateQueue;null!==P&&(C.props=N.memoizedProps,C.state=N.memoizedState,Do(N,P,C));break;case 3:var L=N.updateQueue;if(null!==L){if(T=null,null!==N.child)switch(N.child.tag){case 5:T=N.child.stateNode;break;case 2:T=N.child.stateNode}Do(N,L,T)}break;case 5:var k=N.stateNode;null===I&&4&N.effectTag&&$r(N.type,N.memoizedProps)&&k.focus();break;case 6:case 4:case 15:case 16:break;default:p("163")}}if(128&w){N=void 0;var U=eu.ref;if(null!==U){var B=eu.stateNode;switch(eu.tag){case 5:N=B;break;default:N=B}"function"==typeof U?U(N):U.current=N}}var j=eu.nextEffect;eu.nextEffect=null,eu=j}}catch(t){o=!0,x=t}o&&(null===eu&&p("178"),cu(eu,x),null!==eu&&(eu=eu.nextEffect))}$i=nu=!1,function(t){"function"==typeof xo&&xo(t)}(e.stateNode),0===(e=n.current.expirationTime)&&(ou=null),t.remainingExpirationTime=e}function Gu(){return!(null===Ru||Ru.timeRemaining()>Ou)&&(Tu=!0)}function Hu(t){null===gu&&p("246"),gu.remainingExpirationTime=0,Au||(Au=!0,Su=t)}function qu(t,e){var n=xu;xu=!0;try{return t(e)}finally{(xu=n)||_u||Uu()}}function zu(t,e){if(xu&&!Mu){Mu=!0;try{return t(e)}finally{Mu=!1}}return t(e)}function Xu(t,e,n){if(Nu)return t(e,n);xu||_u||0===bu||(Bu(bu,!1,null),bu=0);var r=Nu,o=xu;xu=Nu=!0;try{return t(e,n)}finally{Nu=r,(xu=o)||_u||Uu()}}function Wu(t,e,n,r,o){var i=e.current;if(n){var u;n=n._reactInternalFiber;t:{for(2===un(n)&&2===n.tag||p("170"),u=n;3!==u.tag;){if(po(u)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}(u=u.return)||p("171")}u=u.stateNode.context}n=po(n)?vo(n,u):u}else n=f;return null===e.context?e.context=n:e.pendingContext=n,e=o,(o=Oo(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(o.callback=e),Po(i,o,r),fu(i,r),r}function Ku(t,e,n,r){var o=e.current;return Wu(t,e,n,o=lu(pu(),o),r)}function $u(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}var Yu=qu,Qu=Xu;function Ju(t){this._expirationTime=function(){var t=2+25*(1+((pu()-2+500)/25|0));return t<=Wi&&(t=Wi+1),Wi=t}(),this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Zu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ta(t,e,n){this._internalRoot=function(t,e,n){return t={current:e=new Eo(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},e.stateNode=t}(t,e,n)}function ea(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function na(t,e,n,r,o){ea(n)||p("200");var i=n._reactRootContainer;if(i){if("function"==typeof o){var u=o;o=function(){var t=$u(i._internalRoot);u.call(t)}}null!=t?i.legacy_renderSubtreeIntoContainer(t,e,o):i.render(e,o)}else{if(i=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ta(t,!1,e)}(n,r),"function"==typeof o){var a=o;o=function(){var t=$u(i._internalRoot);a.call(t)}}zu(function(){null!=t?i.legacy_renderSubtreeIntoContainer(t,e,o):i.render(e,o)})}return $u(i._internalRoot)}function ra(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ea(e)||p("200"),function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:se,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}jt.injectFiberControlledHostComponent(Xr),Ju.prototype.render=function(t){this._defer||p("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new Zu;return Wu(t,e,null,n,r._onCommit),r},Ju.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ju.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||p("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,o=e;o!==this;)r=o,o=o._next;null===r&&p("251"),r._next=o._next,this._next=e,t.firstBatch=this}this._defer=!1,function(t,e){_u&&p("253"),gu=t,Eu=e,Du(t,e,!1),Uu(),ju()}(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Ju.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Zu.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Zu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!=typeof n&&p("191",n),n()}}},ta.prototype.render=function(t,e){var n=this._internalRoot,r=new Zu;return null!==(e=void 0===e?null:e)&&r.then(e),Ku(t,n,null,r._onCommit),r},ta.prototype.unmount=function(t){var e=this._internalRoot,n=new Zu;return null!==(t=void 0===t?null:t)&&n.then(t),Ku(null,e,null,n._onCommit),n},ta.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,o=new Zu;return null!==(n=void 0===n?null:n)&&o.then(n),Ku(e,r,t,o._onCommit),o},ta.prototype.createBatch=function(){var t=new Ju(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime<=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},Wt=Yu,Kt=Qu,$t=function(){_u||0===bu||(Bu(bu,!1,null),bu=0)};var oa={createPortal:ra,findDOMNode:function(t){return null==t?null:1===t.nodeType?t:function(t){var e=t._reactInternalFiber;return void 0===e&&("function"==typeof t.render?p("188"):p("268",Object.keys(t))),null===(t=sn(e))?null:t.stateNode}(t)},hydrate:function(t,e,n){return na(null,t,e,!0,n)},render:function(t,e,n){return na(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&p("38"),na(t,e,n,!1,r)},unmountComponentAtNode:function(t){return ea(t)||p("40"),!!t._reactRootContainer&&(zu(function(){na(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return ra.apply(void 0,arguments)},unstable_batchedUpdates:qu,unstable_deferredUpdates:function(t){var e=Ki;Ki=2+25*(1+((pu()-2+500)/25|0));try{return t()}finally{Ki=e}},unstable_interactiveUpdates:Xu,flushSync:function(t,e){_u&&p("187");var n=xu;xu=!0;try{return du(t,e)}finally{xu=n,Uu()}},unstable_flushControlled:function(t){var e=xu;xu=!0;try{du(t)}finally{(xu=e)||_u||Bu(1,!1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:j,EventPluginRegistry:S,EventPropagators:nt,ReactControlledComponent:Xt,ReactDOMComponentTree:X,ReactDOMEventListener:Pn},unstable_createRoot:function(t,e){return new ta(t,!0,null!=e&&!0===e.hydrate)}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);xo=No(function(t){return e.onCommitFiberRoot(n,t)}),Mo=No(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}})(u({},t,{findHostInstanceByFiber:function(t){return null===(t=sn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:H,bundleType:0,version:"16.4.1",rendererPackageName:"react-dom"});var ia={default:oa},ua=ia&&oa||ia;t.exports=ua.default?ua.default:ua},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(84)},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(r||(r={}));var o=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++){var n=e[t];this.createEmptyNodeIfNotExist(n)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,n=this.nodes[t];e<n.length;e++){var r=n[e];this.createEmptyNodeIfNotExist(r)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=this,e=[],n=0;n<this.rootIds.length;n++){var r=this.rootIds[n];e.push({id:r,level:0,hasParent:!1,childrenCount:0}),s(r,this.nodes,e,0)}for(var o=0,i=e;o<i.length;o++){var u=i[o];u.childrenCount=a(u.id)}return e;function a(e){return t.nodes[e]?t.nodes[e].length:0}function s(t,e,n,r){if(void 0===r&&(r=0),t&&e&&n&&e[t]){r++;for(var o=e[t],i=0;i<o.length;i++){var u=o[i];n.push({id:u,level:r,hasParent:!0}),s(u,e,n,r)}r--}}},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,r.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,r.AFTER)},t.prototype.moveIdIntoId=function(t,e,n){return void 0===n&&(n=!0),n?this.moveId(t,e,r.INSIDE_AT_START):this.moveId(t,e,r.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var n=this.findRootId(t),r=this.findRootId(e);this.swapRootPositionWithRootPosition(n,r)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var n=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=n},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var n=this.findRootId(t);for(var r in n>-1&&this.insertIdIntoRoot(e,n),this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,t);o>-1&&this.insertIdIntoNode(r,e,o)}},t.prototype.insertIdAfterId=function(t,e){var n=this.findRootId(t);for(var r in n>-1&&this.insertIdIntoRoot(e,n+1),this.nodes)if(this.nodes.hasOwnProperty(r)){var o=this.findNodeId(r,t);o>-1&&this.insertIdIntoNode(r,e,o+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){if(void 0===e)this.rootInsertAtEnd(t);else if(e<0){var n=this.rootIds.length;this.rootIds.splice(e+n+1,0,t)}else this.rootIds.splice(e,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,n){if(this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===n)this.nodeInsertAtEnd(t,e);else if(n<0){var r=this.nodes[t].length;this.nodes[t].splice(n+r+1,0,e)}else this.nodes[t].splice(n,0,e)},t.prototype.moveId=function(t,e,n){var o=t,i=this.findRootId(o);for(var u in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(u)){this.findNodeId(u,e);break}var a=e,s=this.findRootId(a);for(var u in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(u)){this.findNodeId(u,e);break}if(i>-1){if(s>-1)switch(this.rootDelete(i),s>i&&s--,n){case r.BEFORE:this.insertIdIntoRoot(o,s);break;case r.AFTER:this.insertIdIntoRoot(o,s+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}else for(var u in this.rootDelete(i),this.nodes)if(this.nodes.hasOwnProperty(u)&&(c=this.findNodeId(u,a))>-1){switch(n){case r.BEFORE:this.insertIdIntoNode(u,o,c);break;case r.AFTER:this.insertIdIntoNode(u,o,c+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}break}}else if(s>-1){for(var u in this.nodes)if(this.nodes.hasOwnProperty(u)&&(c=this.findNodeId(u,o))>-1){this.nodeDeleteAtIndex(u,c);break}switch(n){case r.BEFORE:this.insertIdIntoRoot(o,s);break;case r.AFTER:this.insertIdIntoRoot(o,s+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}}else{for(var u in this.nodes)if(this.nodes.hasOwnProperty(u)&&(c=this.findNodeId(u,o))>-1){this.nodeDeleteAtIndex(u,c);break}for(var u in this.nodes){var c;if(this.nodes.hasOwnProperty(u)&&(c=this.findNodeId(u,a))>-1){switch(n){case r.BEFORE:this.insertIdIntoNode(u,o,c);break;case r.AFTER:this.insertIdIntoNode(u,o,c+1);break;case r.INSIDE_AT_START:this.nodeInsertAtStart(a,o);break;case r.INSIDE_AT_END:this.nodeInsertAtEnd(a,o)}break}}}},t.prototype.swapArrayElements=function(t,e,n){var r=t[e];return t[e]=t[n],t[n]=r,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],n=0;n<this.nodes[t].length;n++){var r=this.nodes[t][n];this.nodeAndSubNodesDelete(r),e.push(t)}for(this.nodeDelete(t),n=0;n<e.length;n++)this.nodeDelete(e[n])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var n=0;n<this.nodes[e].length;n++)this.nodes[e][n]===t&&this.nodeDeleteAtIndex(e,n)},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=function(){function t(){this.list=new r.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(23),i=function(){function t(t){this.heap=new o.default(r.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(8),i=n(10),u=function(){function t(t,e,n){void 0===n&&(n=!1),this.dict=new o.default(t),this.equalsF=e||r.defaultEquals,this.allowDuplicate=n}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return r.isUndefined(e)?[]:i.copy(e)},t.prototype.setValue=function(t,e){if(r.isUndefined(t)||r.isUndefined(e))return!1;var n=this.dict.getValue(t);return r.isUndefined(n)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&i.contains(n,e,this.equalsF)||(n.push(e),0))},t.prototype.remove=function(t,e){if(r.isUndefined(e)){var n=this.dict.remove(t);return!r.isUndefined(n)}var o=this.dict.getValue(t);return!(r.isUndefined(o)||!i.remove(o,e,this.equalsF)||(0===o.length&&this.dict.remove(t),0))},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,n=this.dict.values();e<n.length;e++)for(var r=0,o=n[e];r<o.length;r++){var i=o[r];t.push(i)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();e.default=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=n(3),u=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),a=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}();function s(t){return null===t.next}var c=function(t){function e(e){var n=t.call(this,e)||this;return n.head=new a,n.tail=new a,n.head.next=n.tail,n.tail.prev=n.head,n}return r(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!i.isUndefined(t)){var e="$"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!i.isUndefined(e))return e.value},e.prototype.remove=function(e){var n=this.getLinkedDictionaryPair(e);if(!i.isUndefined(n))return t.prototype.remove.call(this,e),n.unlink(),n.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var n="$"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[n]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!i.isUndefined(t)&&!i.isUndefined(e)){var n=this.getLinkedDictionaryPair(t),r=new u(t,e),o="$"+this.toStr(t);return i.isUndefined(n)?(this.appendToTail(r),this.table[o]=r,void++this.nElements):(this.replace(n,r),n.value)}},e.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(e)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},e.prototype.forEach=function(t){for(var e=this.head.next;!s(e);){if(!1===t(e.key,e.value))return;e=e.next}},e}(o.default);e.default=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(25).default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(8),i=n(26),u=function(){function t(t){this.toStrF=t||r.defaultToString,this.dictionary=new o.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){if(void 0===e&&(e=1),r.isUndefined(t)||e<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=e;else{var n={value:t,copies:e};this.dictionary.setValue(t,n)}return this.nElements+=e,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),r.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var n=this.dictionary.getValue(t);return e>n.copies?this.nElements-=n.copies:this.nElements-=e,n.copies-=e,n.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,n=this.dictionary.values();e<n.length;e++)for(var r=n[e],o=r.value,i=r.copies,u=0;u<i;u++)t.push(o);return t},t.prototype.toSet=function(){for(var t=new i.default(this.toStrF),e=0,n=this.dictionary.values();e<n.length;e++){var r=n[e].value;t.add(r)}return t},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){for(var r=n.value,o=n.copies,i=0;i<o;i++)if(!1===t(r))return!1;return!0})},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();e.default=u},function(t,e,n){"use strict";n.r(e),n.d(e,"lambda1",function(){return d}),n.d(e,"lambda2",function(){return v}),n.d(e,"lambda3",function(){return b}),n.d(e,"lambda4",function(){return R}),n.d(e,"lambda5",function(){return w}),n.d(e,"lambda6",function(){return F}),n.d(e,"Stream",function(){return Y}),n.d(e,"StreamLoop",function(){return J}),n.d(e,"StreamSink",function(){return Z}),n.d(e,"Cell",function(){return W}),n.d(e,"CellLoop",function(){return tt}),n.d(e,"CellSink",function(){return et}),n.d(e,"Transaction",function(){return D}),n.d(e,"Tuple2",function(){return nt}),n.d(e,"Unit",function(){return H}),n.d(e,"Operational",function(){return q}),n.d(e,"getTotalRegistrations",function(){return u}),n.d(e,"Vertex",function(){return f}),n.d(e,"TimerSystemImpl",function(){return rt}),n.d(e,"TimerSystem",function(){return ut}),n.d(e,"SecondsTimerSystem",function(){return at}),n.d(e,"MillisecondsTimerSystem",function(){return ct}),n.d(e,"IOAction",function(){return ft});var r=n(16),o=n(11),i=0;function u(){return i}var a,s=function(){function t(t,e){if(this.registered=!1,this.deregister_=null,null===t)throw new Error("null origin!");this.origin=t,this.register_=e}return t.prototype.register=function(t){var e=this;this.registered||(this.registered=!0,null!==this.register_?this.deregister_=this.register_():(this.origin.increment(t),this.deregister_=function(){return e.origin.decrement(t)}))},t.prototype.deregister=function(t){this.registered&&(this.registered=!1,null!==this.deregister_&&this.deregister_())},t}();!function(t){t[t.black=0]="black",t[t.gray=1]="gray",t[t.white=2]="white",t[t.purple=3]="purple"}(a||(a={}));var c=[],l=0,f=function(){function t(t,e,n){this.targets=[],this.childrn=[],this.visited=!1,this.color=a.black,this.buffered=!1,this.refCountAdj=0,this.name=t,this.rank=e,this.sources=n,this.id=l++}return t.prototype.refCount=function(){return this.targets.length},t.prototype.register=function(t){return this.increment(t)},t.prototype.deregister=function(e){this.decrement(e),t.collectCycles()},t.prototype.incRefCount=function(t){var e=!1;if(0==this.refCount())for(var n=0;n<this.sources.length;n++)this.sources[n].register(this);return this.targets.push(t),t.childrn.push(this),t.ensureBiggerThan(this.rank)&&(e=!0),i++,e},t.prototype.decRefCount=function(t){for(var e=!1,n=t.childrn.length-1;n>=0;n--)t.childrn[n]===this&&t.childrn.splice(n,1);for(n=0;n<this.targets.length;n++)if(this.targets[n]===t){this.targets.splice(n,1),e=!0;break}if(e){if(0==this.refCount())for(n=0;n<this.sources.length;n++)this.sources[n].deregister(this);i--}},t.prototype.addSource=function(t){this.sources.push(t),this.refCount()>0&&t.register(this)},t.prototype.ensureBiggerThan=function(t){if(this.rank>t||this.visited)return!1;this.visited=!0,this.rank=t+1;for(var e=0;e<this.targets.length;e++)this.targets[e].ensureBiggerThan(this.rank);return this.visited=!1,!0},t.prototype.descr=function(){var t=null;switch(this.color){case a.black:t="black";break;case a.gray:t="gray";break;case a.white:t="white";break;case a.purple:t="purple"}for(var e=this.id+" "+this.name+" ["+this.refCount()+"/"+this.refCountAdj+"] "+t+" ->",n=this.children(),r=0;r<n.length;r++)e=e+" "+n[r].id;return e},t.prototype.children=function(){return this.childrn},t.prototype.increment=function(t){return this.incRefCount(t)},t.prototype.decrement=function(t){this.decRefCount(t),0==this.refCount()?this.release():this.possibleRoots()},t.prototype.release=function(){this.color=a.black,this.buffered||this.free()},t.prototype.free=function(){for(;this.targets.length>0;)this.decRefCount(this.targets[0])},t.prototype.possibleRoots=function(){this.color!=a.purple&&(this.color=a.purple,this.buffered||(this.buffered=!0,c.push(this)))},t.collectCycles=function(){if(!t.collectingCycles)try{t.collectingCycles=!0,t.markRoots(),t.scanRoots(),t.collectRoots()}finally{t.collectingCycles=!1}},t.markRoots=function(){for(var t=[],e=0;e<c.length;e++)c[e].color==a.purple?(c[e].markGray(),t.push(c[e])):(c[e].buffered=!1,c[e].color==a.black&&0==c[e].refCount()&&c[e].free());c=t},t.scanRoots=function(){for(var t=0;t<c.length;t++)c[t].scan()},t.collectRoots=function(){for(var t=0;t<c.length;t++)c[t].buffered=!1,c[t].collectWhite();c=[]},t.prototype.markGray=function(){if(this.color!=a.gray){this.color=a.gray;for(var t=this.children(),e=0;e<t.length;e++)t[e].refCountAdj--,t[e].markGray()}},t.prototype.scan=function(){if(this.color==a.gray)if(this.refCount()+this.refCountAdj>0)this.scanBlack();else{this.color=a.white;for(var t=this.children(),e=0;e<t.length;e++)t[e].scan()}},t.prototype.scanBlack=function(){this.color=a.black;for(var t=this.children(),e=0;e<t.length;e++)t[e].refCountAdj++,t[e].color!=a.black&&t[e].scanBlack()},t.prototype.collectWhite=function(){if(this.color==a.white&&!this.buffered){this.color=a.black,this.refCountAdj=0;for(var t=this.children(),e=0;e<t.length;e++)t[e].collectWhite();this.free()}},t.NULL=new t("user",1e12,[]),t.collectingCycles=!1,t}(),p=function(t,e){this.f=t,this.deps=e};function d(t,e){return new p(t,e)}function h(t){return t instanceof p?t.deps:[]}function y(t){return t instanceof p?t.f:t}var m=function(t,e){this.f=t,this.deps=e};function v(t,e){return new m(t,e)}function _(t){return t instanceof m?t.deps:[]}function g(t){return t instanceof m?t.f:t}var E=function(t,e){this.f=t,this.deps=e};function b(t,e){return new E(t,e)}function T(t){return t instanceof E?t.deps:[]}function A(t){return t instanceof E?t.f:t}var S=function(t,e){this.f=t,this.deps=e};function R(t,e){return new S(t,e)}function x(t){return t instanceof S?t.deps:[]}function M(t){return t instanceof S?t.f:t}var N=function(t,e){this.f=t,this.deps=e};function w(t,e){return new N(t,e)}function I(t){return t instanceof N?t.deps:[]}function C(t){return t instanceof N?t.f:t}var O=function(t,e){this.f=t,this.deps=e};function F(t,e){return new O(t,e)}function P(t){return t instanceof O?t.deps:[]}function L(t){return t instanceof O?t.f:t}function k(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(new s(r.getVertex__(),null))}return e}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function B(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var j=function(){function t(e,n){this.rank=e,this.action=n,this.seq=t.nextSeq++}return t.prototype.toString=function(){return this.seq.toString()},t.nextSeq=0,t}(),D=function(){function t(){this.inCallback=0,this.toRegen=!1,this.prioritizedQ=new r.PriorityQueue(function(t,e){return t.rank.rank<e.rank.rank?1:t.rank.rank>e.rank.rank?-1:t.seq<e.seq?1:t.seq>e.seq?-1:0}),this.entries=new r.Set(function(t){return t.toString()}),this.sampleQ=[],this.lastQ=[],this.postQ=null}return t.prototype.requestRegen=function(){this.toRegen=!0},t.prototype.prioritized=function(t,e){var n=new j(t,e);this.prioritizedQ.enqueue(n),this.entries.add(n)},t.prototype.sample=function(t){this.sampleQ.push(t)},t.prototype.last=function(t){this.lastQ.push(t)},t.prototype.post=function(t,e){for(null==this.postQ&&(this.postQ=[]);this.postQ.length<=t;)this.postQ.push(null);var n=this.postQ[t],r=null===n?e:function(){n(),e()};this.postQ[t]=r},t.prototype.checkRegen=function(){if(this.toRegen){this.toRegen=!1,this.prioritizedQ.clear();for(var t=this.entries.toArray(),e=0;e<t.length;e++)this.prioritizedQ.enqueue(t[e])}},t.prototype.isActive=function(){return!!t.currentTransaction},t.prototype.close=function(){for(;;){for(;this.checkRegen(),!this.prioritizedQ.isEmpty();){var e=this.prioritizedQ.dequeue();this.entries.remove(e),e.action()}var n=this.sampleQ;this.sampleQ=[];for(var r=0;r<n.length;r++)n[r]();if(this.prioritizedQ.isEmpty()&&this.sampleQ.length<1)break}for(r=0;r<this.lastQ.length;r++)this.lastQ[r]();if(this.lastQ=[],null!=this.postQ){for(r=0;r<this.postQ.length;r++)if(null!=this.postQ[r]){var o=t.currentTransaction;try{if(r>0){t.currentTransaction=new t;try{this.postQ[r](),t.currentTransaction.close()}catch(e){throw t.currentTransaction.close(),e}}else t.currentTransaction=null,this.postQ[r]();t.currentTransaction=o}catch(e){throw t.currentTransaction=o,e}}this.postQ=null}},t.onStart=function(e){t.onStartHooks.push(e)},t.run=function(e){var n=t.currentTransaction;if(null===n){if(!t.runningOnStartHooks){t.runningOnStartHooks=!0;try{for(var r=0;r<t.onStartHooks.length;r++)t.onStartHooks[r]()}finally{t.runningOnStartHooks=!1}}t.currentTransaction=new t}try{var o=e();return null===n&&(t.currentTransaction.close(),t.currentTransaction=null),o}catch(e){throw null===n&&(t.currentTransaction.close(),t.currentTransaction=null),e}},t.currentTransaction=null,t.onStartHooks=[],t.runningOnStartHooks=!1,t}(),V=function(){function t(t,e){this.f=g(t),this.out=e,this.out.getVertex__().sources=this.out.getVertex__().sources.concat(k(_(t))),this.accumValid=!1}return t.prototype.send_=function(t){var e=this;this.accumValid?this.accum=this.f(this.accum,t):(D.currentTransaction.prioritized(this.out.getVertex__(),function(){e.out.send_(e.accum),e.accumValid=!1,e.accum=null}),this.accum=t,this.accumValid=!0)},t}(),G=function(){function t(t){this.f=t}return t.prototype.get=function(){return this.f()},t.prototype.map=function(e){var n=this;return new t(function(){return e(n.f())})},t.prototype.lift=function(e,n){var r=this;return new t(function(){return n(r.f(),e.f())})},t.prototype.lift3=function(e,n,r){var o=this;return new t(function(){return r(o.f(),e.f(),n.f())})},t.prototype.lift4=function(e,n,r,o){var i=this;return new t(function(){return o(i.f(),e.f(),n.f(),r.f())})},t}(),H=function(){function t(){}return t.UNIT=new t,t}(),q=function(){function t(){}return t.updates=function(t){return t.getStream__()},t.value=function(e){return D.run(function(){var n=new Q;D.currentTransaction.prioritized(n.getVertex__(),function(){n.send_(H.UNIT)});var r=n.snapshot1(e);return t.updates(e).orElse(r)})},t.defer=function(e){return t.split(e.map(function(t){return[t]}))},t.split=function(t){var e=new Q(null);return e.setVertex__(new f("split",0,[new s(t.getVertex__(),function(){return t.listen_(e.getVertex__(),function(t){for(var n=function(n){D.currentTransaction.post(n,function(){D.run(function(){e.send_(t[n])})})},r=0;r<t.length;r++)n(r)},!1)})])),e},t}(),z=function(t){this.hasValue=!1,this.value=null,this.cell=t},X=function(){this.f=null,this.f_present=!1,this.a=null,this.a_present=!1},W=function(){function t(t,e){var n=this;this.value=t,e?D.run(function(){return n.setStream(e)}):(this.str=new Y,this.vertex=new f("ConstCell",0,[]))}return t.prototype.setStream=function(t){var e=this;this.str=t;var n=this,r=new s(t.getVertex__(),function(){return t.listen_(n.vertex,function(t){null==n.valueUpdate&&D.currentTransaction.last(function(){n.value=n.valueUpdate,n.lazyInitValue=null,n.valueUpdate=null}),n.valueUpdate=t},!1)});this.vertex=new f("Cell",0,[r]),this.vertex.register(f.NULL),D.currentTransaction.last(function(){e.vertex.deregister(f.NULL)})},t.prototype.getVertex__=function(){return this.vertex},t.prototype.getStream__=function(){return this.str},t.prototype.sample=function(){var t=this;return D.run(function(){return t.sampleNoTrans__()})},t.prototype.sampleNoTrans__=function(){return this.value},t.prototype.sampleLazy=function(){var t=this;return D.run(function(){return t.sampleLazyNoTrans__()})},t.prototype.sampleLazyNoTrans__=function(){var t=this,e=new z(t);return D.currentTransaction.sample(function(){e.value=null!=t.valueUpdate?t.valueUpdate:t.sampleNoTrans__(),e.hasValue=!0,e.cell=null}),new G(function(){return e.hasValue?e.value:e.cell.sample()})},t.prototype.map=function(t){var e=this;return D.run(function(){return q.updates(e).map(t).holdLazy(e.sampleLazy().map(y(t)))})},t.prototype.lift=function(e,n){var r=g(n),o=this.map(function(t){return function(e){return r(t,e)}});return t.apply(o,e,k(_(n)))},t.prototype.lift3=function(e,n,r){var o=A(r),i=this.map(function(t){return function(e){return function(n){return o(t,e,n)}}});return t.apply(t.apply(i,e),n,k(T(r)))},t.prototype.lift4=function(e,n,r,o){var i=M(o),u=this.map(function(t){return function(e){return function(n){return function(r){return i(t,e,n,r)}}}});return t.apply(t.apply(t.apply(u,e),n),r,k(x(o)))},t.prototype.lift5=function(e,n,r,o,i){var u=C(i),a=this.map(function(t){return function(e){return function(n){return function(r){return function(o){return u(t,e,n,r,o)}}}}});return t.apply(t.apply(t.apply(t.apply(a,e),n),r),o,k(I(i)))},t.prototype.lift6=function(e,n,r,o,i,u){var a=L(u),s=this.map(function(t){return function(e){return function(n){return function(r){return function(o){return function(i){return a(t,e,n,r,o,i)}}}}}});return t.apply(t.apply(t.apply(t.apply(t.apply(s,e),n),r),o),i,k(P(u)))},t.apply=function(t,e,n){return D.run(function(){var r=new X,o=new Q,i=q.value(t),u=q.value(e),a=new s(i.getVertex__(),function(){return i.listen_(o.getVertex__(),function(t){r.f=t,r.f_present=!0,r.a_present&&o.send_(r.f(r.a))},!1)}),c=new s(u.getVertex__(),function(){return u.listen_(o.getVertex__(),function(t){r.a=t,r.a_present=!0,r.f_present&&o.send_(r.f(r.a))},!1)});return o.setVertex__(new f("apply",0,[a,c].concat(n||[]))),o.coalesce__(function(t,e){return e}).holdLazy(new G(function(){return t.sampleNoTrans__()(e.sampleNoTrans__())}))})},t.switchC=function(t){return D.run(function(){var e=t.sampleLazy().map(function(t){return t.sample()}),n=new Q,r=null,o=q.value(t),i=new s(o.getVertex__(),function(){var t=null===r?null:q.value(r).listen_(n.getVertex__(),function(t){return n.send_(t)},!1),e=o.listen_(n.getVertex__(),function(e){r=e,null!==t&&t(),t=q.value(e).listen_(n.getVertex__(),function(t){return n.send_(t)},!1)},!1);return function(){e(),t()}});return n.setVertex__(new f("switchC",0,[i])),n.coalesce__(function(t,e){return e}).holdLazy(e)})},t.switchS=function(t){return D.run(function(){var e=new Q,n=function(t){e.send_(t)},r=new s(t.getVertex__(),function(){var r=t.sampleNoTrans__().listen_(e.getVertex__(),n,!1),o=t.getStream__().listen_(e.getVertex__(),function(t){r(),r=t.listen_(e.getVertex__(),n,!0)},!1);return function(){o(),r()}});return e.setVertex__(new f("switchS",0,[r])),e})},t.prototype.listen=function(t){var e=this;return D.run(function(){return q.value(e).listen(t)})},t["fantasy-land/of"]=function(e){return new t(e)},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/ap"]=function(e){return t.apply(e,this)},t.prototype["fantasy-land/chain"]=function(e){return t.switchC(this.map(e))},t.prototype["fantasy-land/extend"]=function(e){return new t(e(this))},t.prototype["fantasy-land/extract"]=function(){return this.sample()},t}(),K=function(t,e){this.h=t,this.target=e},$=function(t){function e(e,n){var r=t.call(this,null,null)||this;return D.run(function(){n&&r.setStream(n),r.lazyInitValue=e}),r}return B(e,t),e.prototype.sampleNoTrans__=function(){return null==this.value&&null!=this.lazyInitValue&&(this.value=this.lazyInitValue.get(),this.lazyInitValue=null),this.value},e}(W),Y=function(){function t(t){this.listeners=[],this.firings=[],this.vertex=t||new f("Stream",0,[])}return t.prototype.getVertex__=function(){return this.vertex},t.prototype.map=function(t){var e=this,n=new Q(null),r=y(t);return n.vertex=new f("map",0,[new s(this.vertex,function(){return e.listen_(n.vertex,function(t){n.send_(r(t))},!1)})].concat(k(h(t)))),n},t.prototype.mapTo=function(t){var e=this,n=new Q(null);return n.vertex=new f("mapTo",0,[new s(this.vertex,function(){return e.listen_(n.vertex,function(e){n.send_(t)},!1)})]),n},t.prototype.orElse=function(t){return this.merge(t,function(t,e){return t})},t.prototype.merge_=function(t){var e=this,n=new Q,r=new f("merge",0,[]);return r.sources.push(new s(this.vertex,function(){return e.listen_(r,function(t){n.send_(t)},!1)})),n.vertex.sources=n.vertex.sources.concat([new s(r,function(){return r.register(n.vertex),function(){r.deregister(n.vertex)}}),new s(t.vertex,function(){return t.listen_(n.vertex,function(t){n.send_(t)},!1)})]),n},t.prototype.coalesce__=function(t){var e=this,n=new Q,r=new V(t,n);return n.vertex.sources=n.vertex.sources.concat([new s(this.vertex,function(){return e.listen_(n.vertex,function(t){r.send_(t)},!1)})]).concat(k(_(t))),n},t.prototype.merge=function(t,e){var n=this;return D.run(function(){return n.merge_(t).coalesce__(e)})},t.prototype.filter=function(t){var e=this,n=new Q(null),r=y(t);return n.vertex=new f("filter",0,[new s(this.vertex,function(){return e.listen_(n.vertex,function(t){r(t)&&n.send_(t)},!1)})].concat(k(h(t)))),n},t.prototype.filterNotNull=function(){var t=this,e=new Q(null);return e.vertex=new f("filterNotNull",0,[new s(this.vertex,function(){return t.listen_(e.vertex,function(t){null!==t&&e.send_(t)},!1)})]),e},t.prototype.gate=function(t){return this.snapshot(t,function(t,e){return e?t:null}).filterNotNull()},t.prototype.snapshot1=function(t){var e=this,n=new Q(null);return n.vertex=new f("snapshot1",0,[new s(this.vertex,function(){return e.listen_(n.vertex,function(e){n.send_(t.sampleNoTrans__())},!1)}),new s(t.getVertex__(),null)]),n},t.prototype.snapshot=function(t,e){var n=this,r=new Q(null),o=g(e);return r.vertex=new f("snapshot",0,[new s(this.vertex,function(){return n.listen_(r.vertex,function(e){r.send_(o(e,t.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null)].concat(k(_(e)))),r},t.prototype.snapshot3=function(t,e,n){var r=this,o=new Q(null),i=A(n);return o.vertex=new f("snapshot",0,[new s(this.vertex,function(){return r.listen_(o.vertex,function(n){o.send_(i(n,t.sampleNoTrans__(),e.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null),new s(e.getVertex__(),null)].concat(k(T(n)))),o},t.prototype.snapshot4=function(t,e,n,r){var o=this,i=new Q(null),u=M(r);return i.vertex=new f("snapshot",0,[new s(this.vertex,function(){return o.listen_(i.vertex,function(r){i.send_(u(r,t.sampleNoTrans__(),e.sampleNoTrans__(),n.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null),new s(e.getVertex__(),null),new s(n.getVertex__(),null)].concat(k(x(r)))),i},t.prototype.snapshot5=function(t,e,n,r,o){var i=this,u=new Q(null),a=C(o);return u.vertex=new f("snapshot",0,[new s(this.vertex,function(){return i.listen_(u.vertex,function(o){u.send_(a(o,t.sampleNoTrans__(),e.sampleNoTrans__(),n.sampleNoTrans__(),r.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null),new s(e.getVertex__(),null),new s(n.getVertex__(),null),new s(r.getVertex__(),null)].concat(k(I(o)))),u},t.prototype.snapshot6=function(t,e,n,r,o,i){var u=this,a=new Q(null),c=L(i);return a.vertex=new f("snapshot",0,[new s(this.vertex,function(){return u.listen_(a.vertex,function(i){a.send_(c(i,t.sampleNoTrans__(),e.sampleNoTrans__(),n.sampleNoTrans__(),r.sampleNoTrans__(),o.sampleNoTrans__()))},!1)}),new s(t.getVertex__(),null),new s(e.getVertex__(),null),new s(n.getVertex__(),null),new s(r.getVertex__(),null),new s(o.getVertex__(),null)].concat(k(P(i)))),a},t.prototype.hold=function(t){return new W(t,this)},t.prototype.holdLazy=function(t){return new $(t,this)},t.prototype.collect=function(t,e){return this.collectLazy(new G(function(){return t}),e)},t.prototype.collectLazy=function(t,e){var n=this;return D.run(function(){var r=new J,o=r.holdLazy(t),i=n.snapshot(o,e),u=i.map(function(t){return t.a}),a=i.map(function(t){return t.b});return r.loop(a),u})},t.prototype.accum=function(t,e){return this.accumLazy(new G(function(){return t}),e)},t.prototype.accumLazy=function(t,e){var n=this;return D.run(function(){var r=new J,o=r.holdLazy(t),i=n.snapshot(o,e);return r.loop(i),i.holdLazy(t)})},t.prototype.once=function(){var t=this;return D.run(function(){return t.gate(t.mapTo(!1).hold(!0))})},t.prototype.listen=function(t){var e=this;return D.run(function(){return e.listen_(f.NULL,t,!1)})},t.prototype.listen_=function(t,e,n){var r=this;this.vertex.register(t)&&D.currentTransaction.requestRegen();var o=new K(e,t);if(this.listeners.push(o),!n&&0!=this.firings.length){var i=this.firings.slice();D.currentTransaction.prioritized(t,function(){for(var t=0;t<i.length;t++)e(i[t])})}return function(){for(var e=!1,n=0;n<r.listeners.length;n++)if(r.listeners[n]==o){r.listeners.splice(n,1),e=!0;break}e&&r.vertex.deregister(t)}},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/concat"]=function(t){return this.merge(t,function(t,e){return o.Semigroup.test(t)?Object(o.concat)(t,e):t})},t.prototype["fantasy-land/empty"]=function(){return new t},t}(),Q=function(t){function e(e){return t.call(this,e)||this}return B(e,t),e.prototype.setVertex__=function(t){this.vertex=t},e.prototype.send_=function(t){var e=this;if(0==this.vertex.refCount())throw new Error("send() was invoked before listeners were registered");0==this.firings.length&&D.currentTransaction.last(function(){e.firings=[]}),this.firings.push(t);for(var n=this.listeners.slice(),r=function(e){var r=n[e].h;D.currentTransaction.prioritized(n[e].target,function(){D.currentTransaction.inCallback++;try{r(t),D.currentTransaction.inCallback--}catch(t){throw D.currentTransaction.inCallback--,t}})},o=0;o<n.length;o++)r(o)},e}(Y),J=function(t){function e(){var e=t.call(this)||this;if(e.assigned__=!1,e.vertex.name="StreamLoop",null===D.currentTransaction)throw new Error("StreamLoop/CellLoop must be used within an explicit transaction");return e}return B(e,t),e.prototype.loop=function(t){var e=this;if(this.assigned__)throw new Error("StreamLoop looped more than once");this.assigned__=!0,this.vertex.addSource(new s(t.getVertex__(),function(){return t.listen_(e.vertex,function(t){e.send_(t)},!1)}))},e}(Q),Z=function(t){function e(e){var n=t.call(this)||this;return e||(e=function(t,e){throw new Error("send() called more than once per transaction, which isn't allowed. Did you want to combine the events? Then pass a combining function to your StreamSink constructor.")}),n.coalescer=new V(e,n),n}return B(e,t),e.prototype.send=function(t){var e=this;D.run(function(){if(D.currentTransaction.inCallback>0)throw new Error("You are not allowed to use send() inside a Sodium callback");e.coalescer.send_(t)})},e}(Q),tt=function(t){function e(){return t.call(this,null,new J)||this}return B(e,t),e.prototype.loop=function(t){var e=this;D.run(function(){e.getStream__().loop(t.getStream__()),e.lazyInitValue=t.sampleLazy()})},e.prototype.sampleNoTrans__=function(){if(!this.getStream__().assigned__)throw new Error("CellLoop sampled before it was looped");return t.prototype.sampleNoTrans__.call(this)},e}($),et=function(t){function e(e,n){return t.call(this,e,new Z(n))||this}return B(e,t),e.prototype.send=function(t){this.getStream__().send(t)},e}(W),nt=function(t,e){this.a=t,this.b=e},rt=function(){},ot=0,it=function(t,e){this.t=t,this.sAlarm=e,this.seq=++ot},ut=function(){function t(t){var e=this;this.eventQueue=new r.BSTree(function(t,e){return t.t<e.t?-1:t.t>e.t?1:t.seq<e.seq?-1:t.seq>e.seq?1:0}),D.run(function(){e.impl=t,e.tMinimum=0;var n=new et(t.now());e.time=n,e.time.listen(function(t){}),D.onStart(function(){for(var r=e.tMinimum=Math.max(e.tMinimum,t.now()),o=function(){var t=null;if(!e.eventQueue.isEmpty()){var o=e.eventQueue.minimum();o.t<=r&&(t=o)}if(null==t)return"break";n.send(t.t),D.run(function(){return t.sAlarm.send_(t.t)})};"break"!==o(););n.send(r)})})}return t.prototype.at=function(t){var e=this,n=null,r=null,o=!1,i=null,u=!1,a=new Q(null),c=function(){null!==r&&(r(),e.eventQueue.remove(n)),r=null,n=null,o&&(u||(u=!0,i=t.sampleNoTrans__()),null!==i&&(n=new it(i,a),e.eventQueue.add(n),r=e.impl.setTimer(i,function(){e.tMinimum=Math.max(e.tMinimum,i),D.run(function(){})})))};return a.setVertex__(new f("at",0,[new s(t.getVertex__(),function(){o=!0,u=!1,D.currentTransaction.prioritized(a.getVertex__(),c);var e=t.getStream__().listen_(a.getVertex__(),function(t){i=t,u=!0,c()},!1);return function(){o=!1,c(),e()}})])),a},t}(),at=function(t){function e(){return t.call(this,new st)||this}return B(e,t),e}(ut),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.setTimer=function(t,e){var n=setTimeout(e,Math.max(1e3*(t-this.now()),0));return function(){clearTimeout(n)}},e.prototype.now=function(){return.001*Date.now()},e}(rt),ct=function(t){function e(){return t.call(this,new lt)||this}return B(e,t),e}(ut),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.setTimer=function(t,e){var n=setTimeout(e,Math.max(t-this.now(),0));return function(){clearTimeout(n)}},e.prototype.now=function(){return Date.now()},e}(rt),ft=function(){function t(){}
/*!
     * Convert a function that performs asynchronous I/O taking input A
     * and returning a value of type B into an I/O action of type
     * (sa : Stream<A>) => Stream<B>
     */return t.fromAsync=function(t){return function(e){var n=new Q(null);return n.setVertex__(new f("map",0,[new s(e.getVertex__(),function(){return e.listen_(n.getVertex__(),function(e){t(e,function(t){D.run(function(){n.send_(t)})})},!1)})])),n}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o={color:"#fff",fontFamily:"Verdana, Arial",fontSize:"40px",width:"100%",cursor:"pointer",borderRadius:"15px",margin:"10px",padding:"5px",textAlign:"center",border:"4px solid #fff"},i=Object.assign({},o,{backgroundColor:"green"}),u=Object.assign({},o,{backgroundColor:"red"});e.Waiting=function(t){var e=t.onClick;return r.createElement("div",{style:i,onClick:e},"Drop")},e.Bouncing=function(t){var e=t.onClick;return r.createElement("div",{style:u,onClick:e},"Pause")}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(6),u=n(94),a=n(28),s=n(18);!function(t){t[t.WAITING=0]="WAITING",t[t.BOUNCING=1]="BOUNCING"}(o||(o={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={phase:o.WAITING},e}return r(e,t),e.prototype.render=function(){var t=this;return i.createElement(a.RootContext.Consumer,null,function(e){switch(t.state.phase){case o.WAITING:return i.createElement(u.Waiting,{onClick:function(){t.setState({phase:o.BOUNCING}),e.postMessage({cmd:s.WorkerCommands.BALL_START})}});case o.BOUNCING:return i.createElement(u.Bouncing,{onClick:function(){t.setState({phase:o.WAITING}),e.postMessage({cmd:s.WorkerCommands.BALL_STOP})}})}})},e}(i.Component);e.TopMenu=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o={color:"#fff",fontFamily:"Verdana, Arial",fontSize:"70px",width:"100%"};e.Loading=function(){return r.createElement("div",{style:o},"Loading ...")}},function(t,e,n){"use strict";
/** @license React v16.4.1
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(32),o=n(31),i=n(30),u=n(29),a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103,c=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,f=a?Symbol.for("react.strict_mode"):60108,p=a?Symbol.for("react.profiler"):60114,d=a?Symbol.for("react.provider"):60109,h=a?Symbol.for("react.context"):60110,y=a?Symbol.for("react.async_mode"):60111,m=a?Symbol.for("react.forward_ref"):60112;a&&Symbol.for("react.timeout");var v="function"==typeof Symbol&&Symbol.iterator;function _(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);o(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function E(t,e,n){this.props=t,this.context=e,this.refs=i,this.updater=n||g}function b(){}function T(t,e,n){this.props=t,this.context=e,this.refs=i,this.updater=n||g}E.prototype.isReactComponent={},E.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&_("85"),this.updater.enqueueSetState(this,t,e,"setState")},E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=E.prototype;var A=T.prototype=new b;A.constructor=T,r(A,E.prototype),A.isPureReactComponent=!0;var S={current:null},R=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function M(t,e,n){var r=void 0,o={},i=null,u=null;if(null!=e)for(r in void 0!==e.ref&&(u=e.ref),void 0!==e.key&&(i=""+e.key),e)R.call(e,r)&&!x.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps)void 0===o[r]&&(o[r]=a[r]);return{$$typeof:s,type:t,key:i,ref:u,props:o,_owner:S.current}}function N(t){return"object"==typeof t&&null!==t&&t.$$typeof===s}var w=/\/+/g,I=[];function C(t,e,n,r){if(I.length){var o=I.pop();return o.result=t,o.keyPrefix=e,o.func=n,o.context=r,o.count=0,o}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function O(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>I.length&&I.push(t)}function F(t,e,n,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var i=!1;if(null===t)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case s:case c:i=!0}}if(i)return n(r,t,""===e?"."+P(t,0):e),1;if(i=0,e=""===e?".":e+":",Array.isArray(t))for(var u=0;u<t.length;u++){var a=e+P(o=t[u],u);i+=F(o,a,n,r)}else if("function"==typeof(a=null===t||void 0===t?null:"function"==typeof(a=v&&t[v]||t["@@iterator"])?a:null))for(t=a.call(t),u=0;!(o=t.next()).done;)i+=F(o=o.value,a=e+P(o,u++),n,r);else"object"===o&&_("31","[object Object]"==(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return i}function P(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function k(t,e,n){var r=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?U(t,r,n,u.thatReturnsArgument):null!=t&&(N(t)&&(e=o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(w,"$&/")+"/")+n,t={$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),r.push(t))}function U(t,e,n,r,o){var i="";null!=n&&(i=(""+n).replace(w,"$&/")+"/"),e=C(e,i,r,o),null==t||F(t,"",k,e),O(e)}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return U(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=C(null,null,e,n),null==t||F(t,"",L,e),O(e)},count:function(t){return null==t?0:F(t,"",u.thatReturnsNull,null)},toArray:function(t){var e=[];return U(t,e,null,u.thatReturnsArgument),e},only:function(t){return N(t)||_("143"),t}},createRef:function(){return{current:null}},Component:E,PureComponent:T,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_defaultValue:t,_currentValue:t,_currentValue2:t,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:m,render:t}},Fragment:l,StrictMode:f,unstable_AsyncMode:y,unstable_Profiler:p,createElement:M,cloneElement:function(t,e,n){(null===t||void 0===t)&&_("267",t);var o=void 0,i=r({},t.props),u=t.key,a=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,c=S.current),void 0!==e.key&&(u=""+e.key);var l=void 0;for(o in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),e)R.call(e,o)&&!x.hasOwnProperty(o)&&(i[o]=void 0===e[o]&&void 0!==l?l[o]:e[o])}if(1==(o=arguments.length-2))i.children=n;else if(1<o){l=Array(o);for(var f=0;f<o;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:s,type:t.type,key:u,ref:a,props:i,_owner:c}},createFactory:function(t){var e=M.bind(null,t);return e.type=t,e},isValidElement:N,version:"16.4.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:r}},j={default:B},D=j&&B||j;t.exports=D.default?D.default:D},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=n(96),u=n(95),a=n(27),s=n(28),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isLoading:!0},e}return r(e,t),e.prototype.componentDidMount=function(){var t=this;this.unlistener=a.sLoadingFinished.listen(function(){t.setState({isLoading:!1},t.unlistener)})},e.prototype.render=function(){return o.createElement(s.RootContext.Provider,{value:this.props.worker},this.state.isLoading?o.createElement(i.Loading,null):o.createElement(u.TopMenu,null))},e}(o.Component);e.Root=c},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(0),u=n(98),a=n(6),s=n(85);e.prepReact=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",document.getElementById("app").appendChild(e),s.render(a.createElement(u.Root,{worker:t}),e)},e.prepCanvas=function(){var t=document.createElement("canvas");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="#2a2a2a",document.getElementById("app").appendChild(t),t},e.prepRenderer=function(t){var e=o.createWebGlRenderer({canvas:t,version:1});return e.gl.clearColor(.2,.2,.2,1),e.resize({width:window.innerWidth,height:window.innerHeight}),e},e.prepCamera=function(){var t={kind:o.CameraKind.PERSPECTIVE,yfov:45*Math.PI/180,aspectRatio:window.innerWidth/window.innerHeight,znear:.01,zfar:1e3},e=Float64Array.from([0,0,5]),n=Float64Array.from([0,0,0]),u=Float64Array.from([0,1,0]),a=o.getCameraProjection(t),s=i.mat4.lookAt(o.createMat4(),e,n,u);return r({},t,{position:e,view:s,projection:a})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(33);e.Kinematic1=function(t){return function(e){return function(n){return t+e*n}}},e.Kinematic2=function(t){return function(e){return function(n){return(e+t)/2*n}}},e.Kinematic3=function(t){return function(e){return function(n){return.5*e*(n*n)+t*n}}},e.Kinematic4=function(t){return function(e){return function(n){var r=t*t+2*e*n;return Math.sqrt(r)}}},e.Kinematic5=function(t){return function(e){return function(n){var o=r.Quadratic(.5*e)(t)(-n),i=o[0],u=o[1];return Math.max(i,u)}}},e.Kinematic6=function(t){return function(e){return function(n){return(t*t-n*n)/(2*e)*-1}}},e.Kinematic7=function(t){return function(e){return function(n){return n/(t+e)}}}},function(t,e,n){!function(e){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e(n(11),n(9)):self.concurrify=e(self.sanctuaryTypeClasses,self.sanctuaryTypeIdentifiers)}(function(t,e){"use strict";var n="@@type",r=["first","second","third","fourth","fifth"];function o(t){return"function"==typeof t}function i(t){return t.length>=2}function u(e,n,o,i){throw new TypeError(e+" expects its "+r[n]+" argument to "+o+"\n  Actual: "+t.toString(i))}function a(e,n,r){throw new TypeError(e+" was invoked outside the context of a "+r+". \n  Called on: "+t.toString(n))}return function(r,s,c,l){var f=function(t){return t[n]||t.name||"Anonymous"}(r),p=function(t){var n=e.parse(t);return(n.namespace||"concurrify")+"/Concurrent"+n.name+"@"+n.version}(f),d=e.parse(f).name,h=e.parse(p).name;function y(t){this.sequential=t}function m(t){return t instanceof r||Boolean(t)&&t.constructor===r||e(t)===r[n]}function v(t){return t instanceof y||Boolean(t)&&t.constructor===y||e(t)===p}function _(t){return m(t)||u(h,0,'be of type "'+d+'"',t),new y(t)}(function(e){try{return t.Applicative.test(t.of(e))}catch(t){return!1}})(r)||u("concurrify",0,"represent an Applicative",r),m(s)||u("concurrify",1,'be of type "'+d+'"',s),o(c)||u("concurrify",2,"be a function",c),i(c)||u("concurrify",2,"be binary",c),o(l)||u("concurrify",3,"be a function",l),i(l)||u("concurrify",3,"be binary",l);var g=y.prototype=_.prototype={constructor:_};_[n]=p;var E=new y(s);return _["fantasy-land/zero"]=function(){return E},_["fantasy-land/of"]=function(e){return new y(t.of(r,e))},g["fantasy-land/map"]=function(e){return v(this)||a(h+"#map",this,h),o(e)||u(h+"#map",0,"be a function",e),new y(t.map(e,this.sequential))},g["fantasy-land/ap"]=function(t){return v(this)||a(h+"#ap",this,h),v(t)||u(h+"#ap",0,"be a "+h,t),new y(l(this.sequential,t.sequential))},g["fantasy-land/alt"]=function(t){return v(this)||a(h+"#alt",this,h),v(t)||u(h+"#alt",0,"be a "+h,t),new y(c(this.sequential,t.sequential))},g.toString=function(){return v(this)||a(h+"#toString",this,h),h+"("+t.toString(this.sequential)+")"},_}})},function(t,e,n){"use strict";function r(t){this._head=0,this._tail=0,this._capacityMask=3,this._list=new Array(4),Array.isArray(t)&&this._fromArray(t)}r.prototype.peekAt=function(t){var e=t;if(e===(0|e)){var n=this.size();if(!(e>=n||e<-n))return e<0&&(e+=n),e=this._head+e&this._capacityMask,this._list[e]}},r.prototype.get=function(t){return this.peekAt(t)},r.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},r.prototype.peekFront=function(){return this.peek()},r.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(r.prototype,"length",{get:function(){return this.size()}}),r.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.unshift=function(t){if(void 0===t)return this.size();var e=this._list.length;return this._head=this._head-1+e&this._capacityMask,this._list[this._head]=t,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.shift=function(){var t=this._head;if(t!==this._tail){var e=this._list[t];return this._list[t]=void 0,this._head=t+1&this._capacityMask,t<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),e}},r.prototype.push=function(t){if(void 0===t)return this.size();var e=this._tail;return this._list[e]=t,this._tail=e+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.pop=function(){var t=this._tail;if(t!==this._head){var e=this._list.length;this._tail=t-1+e&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&t>1e4&&t<=e>>>2&&this._shrinkArray(),n}},r.prototype.removeOne=function(t){var e=t;if(e===(0|e)&&this._head!==this._tail){var n=this.size(),r=this._list.length;if(!(e>=n||e<-n)){e<0&&(e+=n),e=this._head+e&this._capacityMask;var o,i=this._list[e];if(t<n/2){for(o=t;o>0;o--)this._list[e]=this._list[e=e-1+r&this._capacityMask];this._list[e]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(o=n-1-t;o>0;o--)this._list[e]=this._list[e=e+1+r&this._capacityMask];this._list[e]=void 0,this._tail=this._tail-1+r&this._capacityMask}return i}}},r.prototype.remove=function(t,e){var n,r=t,o=e;if(r===(0|r)&&this._head!==this._tail){var i=this.size(),u=this._list.length;if(!(r>=i||r<-i||e<1)){if(r<0&&(r+=i),1===e||!e)return(n=new Array(1))[0]=this.removeOne(r),n;if(0===r&&r+e>=i)return n=this.toArray(),this.clear(),n;var a;for(r+e>i&&(e=i-r),n=new Array(e),a=0;a<e;a++)n[a]=this._list[this._head+r+a&this._capacityMask];if(r=this._head+r&this._capacityMask,t+e===i){for(this._tail=this._tail-e+u&this._capacityMask,a=e;a>0;a--)this._list[r=r+1+u&this._capacityMask]=void 0;return n}if(0===t){for(this._head=this._head+e+u&this._capacityMask,a=e-1;a>0;a--)this._list[r=r+1+u&this._capacityMask]=void 0;return n}if(t<i/2){for(this._head=this._head+t+e+u&this._capacityMask,a=t;a>0;a--)this.unshift(this._list[r=r-1+u&this._capacityMask]);for(r=this._head-1+u&this._capacityMask;o>0;)this._list[r=r-1+u&this._capacityMask]=void 0,o--}else{for(this._tail=r,r=r+e+u&this._capacityMask,a=i-(e+t);a>0;a--)this.push(this._list[r++]);for(r=this._tail;o>0;)this._list[r=r+1+u&this._capacityMask]=void 0,o--}return this._head<2&&this._tail>1e4&&this._tail<=u>>>2&&this._shrinkArray(),n}}},r.prototype.splice=function(t,e){var n=t;if(n===(0|n)){var r=this.size();if(n<0&&(n+=r),!(n>r)){if(arguments.length>2){var o,i,u,a=arguments.length,s=this._list.length,c=2;if(!r||n<r/2){for(i=new Array(n),o=0;o<n;o++)i[o]=this._list[this._head+o&this._capacityMask];for(0===e?(u=[],n>0&&(this._head=this._head+n+s&this._capacityMask)):(u=this.remove(n,e),this._head=this._head+n+s&this._capacityMask);a>c;)this.unshift(arguments[--a]);for(o=n;o>0;o--)this.unshift(i[o-1])}else{var l=(i=new Array(r-(n+e))).length;for(o=0;o<l;o++)i[o]=this._list[this._head+n+e+o&this._capacityMask];for(0===e?(u=[],n!=r&&(this._tail=this._head+n+s&this._capacityMask)):(u=this.remove(n,e),this._tail=this._tail-l+s&this._capacityMask);c<a;)this.push(arguments[c++]);for(o=0;o<l;o++)this.push(i[o])}return u}return this.remove(n,e)}}},r.prototype.clear=function(){this._head=0,this._tail=0},r.prototype.isEmpty=function(){return this._head===this._tail},r.prototype.toArray=function(){return this._copyArray(!1)},r.prototype._fromArray=function(t){for(var e=0;e<t.length;e++)this.push(t[e])},r.prototype._copyArray=function(t){var e,n=[],r=this._list,o=r.length;if(t||this._head>this._tail){for(e=this._head;e<o;e++)n.push(r[e]);for(e=0;e<this._tail;e++)n.push(r[e])}else for(e=this._head;e<this._tail;e++)n.push(r[e]);return n},r.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=this._capacityMask<<1|1},r.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},t.exports=r},function(t,e){!function(e){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e():self.inspectf=e()}(function(){"use strict";var t=/^ */,e=/\s*[^\s]/,n=/\t/g,r=/\n\r?/;function o(t){return e.test(t)}function i(e){return e.match(t)[0].length}function u(t){return new Array(t+1).join(" ")}function a(t,e){var r=function(t){var e=t.filter(o).map(i),n=e.reduce(Math.min,1/0),r=e.map(function(t){return t-n}).find(function(t){return t>1})||2;return{depth:n,tabsize:r}}(t.slice(1)),a=new RegExp(u(r.tabsize),"g");return t.map(function(t){return t.slice(Math.min(r.depth,i(t))).replace(a,"\t").replace(n,e)}).join("\n")}return function t(e,o){if(function(t){if("number"!=typeof e)throw new TypeError("inspectf expects its first argument to be a number")}(),arguments.length<2)return function(n){return t(e,n)};if(function(t){if("function"!=typeof o)throw new TypeError("inspectf expects its second argument to be a function")}(),o.toString!==Function.prototype.toString)return o.toString();var i=u(e),s=function(t,e){return o.toString().replace(n,e)}(0,i),c=s.split(r);return c.length<2?s:a(c,i)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(18);e.MESSAGE="message",e.loadWorker=function(t){return r.Future(function(n,r){var i=function(n){n.data.cmd===o.WorkerCommands.READY&&(t.removeEventListener(e.MESSAGE,i),r(t))};t.addEventListener(e.MESSAGE,i),t.postMessage({cmd:o.WorkerCommands.INIT})})},e.initWorker=function(){return r.Future(function(t,n){var r=function(t){console.log(t),t.data.cmd===o.WorkerCommands.INIT&&(self.removeEventListener(e.MESSAGE,r),self.postMessage({cmd:o.WorkerCommands.READY}),n(self))};self.addEventListener(e.MESSAGE,r)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCompileFlags=function(){return{buildMode:"production",buildVersion:"0.0.1-alpha",isProduction:!0}}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);e.S=r.create({checkTypes:!1,env:r.env})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(109)),r(n(108))},function(t,e,n){t.exports=function(){return new Worker(n.p+"7ae20c5dc406d88b3d54.worker.js")}},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&(n[r[o]]=t[r[o]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var i=n(111),u=n(46),a=n(99),s=n(77),c=n(71),l=n(70),f=n(27),p=n(18),d=u.getCompileFlags(),h=(d.buildMode,d.buildVersion),y=d.isProduction;console.log("%c Ball Bounce FRP "+h+" (productionMode: "+y+")",'color: #4286f4; font-size: large; font-family: "Comic Sans MS", cursive, sans-serif');var m=new i;u.loadWorker(m).chain(function(t){var e=a.prepCanvas(),n=a.prepRenderer(e);return a.prepReact(t),s.loadAssets(n).map(function(r){return Object.assign({},r,{canvas:e,renderer:n,worker:t})})}).fork(console.error,function(t){var e=t.worker,n=o(t,["worker"]),i=!1,s=a.prepCamera(),d=l.createControls(s),h=c.makeOutput(r({camera:s},n));e.addEventListener(u.MESSAGE,function(t){switch(t.data.cmd){case p.WorkerCommands.RENDER:h(t.data.scenes),i=!0}});var y=function(t){i&&(i=!1,e.postMessage({cmd:p.WorkerCommands.TICK,frameTs:t,camera:d.updateCamera()})),requestAnimationFrame(y)};requestAnimationFrame(y),e.postMessage({cmd:p.WorkerCommands.WORLD_START,scenes:n.gltfBridges.map(function(t){return t.getOriginalScene(s)(0)})}),f.sLoadingFinished.send(null)})}]);
//# sourceMappingURL=app.bundle.map